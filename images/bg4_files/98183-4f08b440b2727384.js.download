"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[98183],{644182:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(297949),i=a(144326),r=a(770443);function l(e){var t=e.accessibilityLabel,a=e.fixedPosition,l=e.rounding,s=(0,i.ZP)();return(0,r.jsxs)(n.xu,{children:[(0,r.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:a?"fixed":"absolute",right:!0,top:!0,zIndex:new n.Ry(101),children:(0,r.jsx)(n.$j,{accessibilityLabel:t||s._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,r.jsx)(n.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:a?"fixed":"absolute",right:!0,rounding:l,top:!0,zIndex:new n.Ry(100)})]})}},398183:function(e,t,a){a.d(t,{A:function(){return M},J:function(){return O}});var n=a(282480),i=a(868073),r=a(488792),l=a(498490),s=a(297949),o=a(758339),c=a(144326),d=a(410150),u=a(261814),_=a(770443);function p(e){var t=e.onClose,a=e.handleSubmit,i=e.currentViewParameter,l=e.currentComponent,p=e.isOpen,f=(0,c.ZP)(),m=(0,r.Z)(),g=(0,d.HG)(),h=f._('Dismiss modal button', 'settings.ParentalPasscodeSkipAcknowledgeModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),b=f._('Cancel', 'settings.ParentalPasscodeSkipAcknowledgeModal.cancelButton', 'Cancel button label on the modal dialog'),y=f._('Update', 'settings.ParentalPasscodeSkipAcknowledgeModal.updateButton', 'Enter button label on the modal dialog'),v=f._('Update this setting?', 'settings.ParentalPasscodeSkipAcknowledgeModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),P=f._('You may require parental passcode for future changes to this setting', 'settings.ParentalPasscodeSkipAcknowledgeModal.subHeading2', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode');(0,n.useEffect)(function(){i&&l&&m({event_type:13,view_type:7,view_parameter:4004,component:14971})},[i,l,m]);var x=function(){m({event_type:15423,view_type:7,view_parameter:4004,component:14971}),a("")},j=function(){m({event_type:15424,view_type:7,view_parameter:4004,component:14971}),t()};return(0,_.jsx)(n.Fragment,{children:g?(0,_.jsx)(o.ZP,{accessibilityModalLabel:f._('Parental Passcode Validate Modal', 'settings.ParentalPasscodeSkipAcknowledgeModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!0,footer:(0,_.jsxs)(s.kC,{alignItems:"center",justifyContent:"end",children:[(0,_.jsx)(s.xu,{paddingX:1,children:(0,_.jsx)(s.zx,{onClick:j,size:"lg",text:b})}),(0,_.jsx)(s.xu,{flex:"shrink",paddingX:1,children:(0,_.jsx)(s.zx,{color:"red",fullWidth:!g,onClick:x,size:"lg",text:y})})]}),heading:(0,_.jsxs)(s.kC,{justifyContent:"between",children:[(0,_.jsxs)(s.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(s.X6,{accessibilityLevel:1,align:"start",size:"500",children:v}),(0,_.jsx)(s.xv,{children:P})]}),(0,_.jsx)(s.hU,{accessibilityLabel:h,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:j,size:"lg"})]}),isOpen:p,mobileAccessibilityCloseIconLabel:h,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:j,size:656}):(0,_.jsx)(u.Z,{description:P,heading:v,isOpen:p,onDismiss:j,primaryBtnParams:{text:b,color:"gray",onClick:j},secondaryBtnParams:{text:y,color:"red",onClick:x},type:"request-data"})})}var f=a(240760),m=a(644182),g=a(801506),h=a(635258),b=a(26456);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r,l,s=[],o=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=r.call(a)).done)&&(s.push(n.value),s.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{if(!o&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function P(e){var t=e.onClose,a=e.handleSubmit,l=e.errorMessage,u=e.currentViewParameter,p=e.currentComponent,v=(0,c.ZP)(),P=(0,r.Z)(),x=(0,d.HG)(),j=(0,i.TH)(),A=(0,(0,g.Z)("").getSingleValidator)("passcode"),z=y((0,n.useState)(!1),2),w=z[0],C=z[1],k=y((0,n.useState)(!1),2),S=k[0],O=k[1],M=y((0,n.useState)({value:"",error:void 0}),2),V=M[0],L=M[1],E=y((0,n.useState)(),2),I=E[0],D=E[1],B=v._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),H=v._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),Z=(0,f.nk)(v._('Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'Subheading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,_.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(s.rU,{display:"inlineBlock",href:h.a$N,onClick:function(e){e.event.stopPropagation(),u&&p&&P({event_type:102,view_type:7,view_parameter:u,element:12765,component:p})},target:"blank",underline:"hover",children:v._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,n.useEffect)(function(){u&&p&&P({event_type:13,view_type:7,view_parameter:u,component:p})},[u,p,P]),(0,n.useEffect)(function(){C(!!V.value&&!V.error)},[V]);var U=(0,n.useCallback)(function(){P({event_type:14590,view_type:7,view_parameter:u,component:14374})},[u,P]);(0,n.useEffect)(function(){var e=j.pathname.replace(/\/$/,"");l&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(U(),O(!1)),D(l)},[l,U,j.pathname]);var X=function(e){var t=e.replace(/\s/g,"");if(!(e.length>4)){var a=(0,b.a3)(t,A);I&&D(void 0),L({value:e,error:a})}},T=function(){S||(u&&p&&P({event_type:x?101:102,view_type:7,view_parameter:u,component:p,element:11925}),t())};return(0,_.jsx)(o.ZP,{accessibilityModalLabel:v._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!S,footer:(0,_.jsxs)(s.kC,{alignItems:"center",justifyContent:x?"end":"center",children:[x?(0,_.jsx)(s.xu,{paddingX:1,children:(0,_.jsx)(s.zx,{disabled:S,onClick:T,size:"lg",text:v._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog')})}):null,(0,_.jsx)(s.xu,{flex:x?"shrink":"grow",marginBottom:x?0:4,paddingX:x?1:4,children:(0,_.jsx)(s.zx,{color:"red",disabled:!w||S,fullWidth:!x,onClick:function(){O(!0),u&&p&&P({event_type:x?101:102,view_type:7,view_parameter:u,component:p,element:12019}),a(V.value),O(!1)},size:"lg",text:v._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog')})})]}),heading:x?(0,_.jsxs)(s.kC,{justifyContent:"between",children:[(0,_.jsxs)(s.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(s.X6,{accessibilityLevel:1,align:"start",size:"500",children:H}),(0,_.jsx)(s.xv,{children:Z})]}),(0,_.jsx)(s.hU,{accessibilityLabel:B,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:T,size:"lg"})]}):(0,_.jsx)(s.X6,{accessibilityLevel:"none",align:"center",size:"300",children:v._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),isOpen:!0,mobileAccessibilityCloseIconLabel:B,mobileIsSlideUp:!0,onDismiss:T,size:656,children:(0,_.jsx)(s.xu,{paddingX:x?6:4,paddingY:3,children:(0,_.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:x?"start":"center",children:[x?null:(0,_.jsx)(s.xu,{marginBottom:7,maxWidth:325,children:(0,_.jsxs)(s.kC,{alignItems:"center",direction:"column",children:[(0,_.jsx)(s.xu,{marginBottom:6,children:(0,_.jsx)(s.X6,{accessibilityLevel:2,align:"center",size:"500",children:H})}),(0,_.jsx)(s.xv,{align:"center",children:Z})]})}),(0,_.jsxs)(s.xu,{marginBottom:x?0:4,position:"relative",width:"100%",children:[(0,_.jsx)(s.nv,{autoComplete:"off",errorMessage:V.error||I,id:"passcode",label:v._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),labelDisplay:x?"visible":"hidden",name:"passcode",onChange:function(e){return X(e.value)},placeholder:"XXXX",size:"lg",type:"text",value:V.value}),S?(0,_.jsx)(m.Z,{accessibilityLabel:v._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){var n,i;n=t,i=a[t],(n=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r,l,s=[],o=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=r.call(a)).done)&&(s.push(n.value),s.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{if(!o&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(c)throw i}}return s}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return C(e,t);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var k=(0,l.Z)("ParentalPasscodeValidateModal"),S=k.Provider,O=k.useHook,M=function(e){var t=e.children,a=(0,r.Z)(),l=(0,i.TH)(),s=z((0,n.useState)(!1),2),o=s[0],c=s[1],d=z((0,n.useState)(),2),u=d[0],f=d[1],m=z((0,n.useState)(),2),g=m[0],h=m[1],b=z((0,n.useState)(void 0),2),y=b[0],v=b[1],x=z((0,n.useState)([]),2),j=x[0],k=x[1],O=l.pathname.replace(/\/$/,""),M="/parental-passcode"===O||"/settings/account-settings"===O,V=z((0,n.useState)(!1),2),L=V[0],E=V[1];(0,n.useEffect)(function(){if(o){var e,t=(e=O).startsWith("/settings/messages")?3709:({"/settings/profile-visibility":3907,"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[e],a=M?14456:14374;h(t),f(a)}},[o,O,M]);var I=(0,n.useCallback)(function(e){v(void 0),j.map(function(t){return t(e||"")})},[j]),D=(0,n.useCallback)(function(e){var t=e.handlePasscodeSent,a=e.requiresUnidirectionalPasscode;k(function(e){return[].concat(function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}),E(void 0!==a&&a),c(!0)},[]),B=(0,n.useCallback)(function(e){v(e)},[]),H=(0,n.useCallback)(function(){h(void 0),f(void 0),k([]),v(void 0),c(!1)},[]),Z=(0,n.useCallback)(function(e){e&&!M&&a({event_type:14591,view_type:7,view_parameter:g,component:14374}),H()},[H,g,a,M]),U=(0,n.useMemo)(function(){return{handleSubmit:I,errorMessage:y,onClose:H,currentViewParameter:g,currentComponent:u,isOpen:o}},[I,y,H,g,u,o]),X=(0,n.useMemo)(function(){return{getModalProps:U,closeModal:Z,isModalOpen:o,setErrorMessage:B,setModalPropsAndOpen:D}},[U,Z,o,B,D]);return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(S,{value:X,children:t}),o?L?(0,_.jsx)(p,A({},U)):(0,_.jsx)(P,A({},U)):null]})}},801506:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(144326),i=a(26456);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function l(e){var t=(0,n.ZP)(),a=(0,i.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),l=(0,i.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),s=(0,i.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),o=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),c=(0,i.Gy)({min:4,max:4,minErrorString:o,maxErrorString:o}),d={passcode:[a,s,c],confirmPasscode:[a,s,c],backupEmail:[a,l,function(a){var n=[];return a===e&&n.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:n,warnings:[]}}],confirmBackupEmail:[a,l]},u=function(e,a){switch(e){case"confirmPasscode":return(0,i.sG)({targetValue:a.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,i.sG)({targetValue:a.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return function(){return{errors:[],warnings:[]}}}};return{getSingleValidator:function(e){return d[e]},getValidators:function(e,t){var a;return[].concat(function(e){if(Array.isArray(e))return r(e)}(a=d[e])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,void 0):void 0}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u(e,t)])},getMatchingValidator:u}}},261814:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(282480),i=a(297949),r=a(758339),l=a(770443);function s(e){var t,a,s=e.isOpen,o=e.onDismiss,c=e.type,d=e.textAlign,u=e.accessibilityModalLabel,_=e.heading,p=e.headingMarginTop,f=e.description,m=e.hasMultiLineDescription,g=e.primaryBtnParams,h=e.secondaryBtnParams,b=e.showDismissIcon,y=e.headingSize,v=e.closeOnOutsideClick,P=function(e,t){return e?(0,n.isValidElement)(e)?e:(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.xv,{align:d||"center",children:e})},t?"description-line-".concat(t):"single-description-line"):null};return(0,l.jsx)(r.ZP,{accessibilityModalLabel:u||"",closeOnOutsideClick:v||!0,isOpen:s,mobileHideCloseIcon:!0,onDismiss:o||function(){},type:c||"",children:(0,l.jsxs)(i.xu,{padding:4,children:[(0,l.jsxs)(i.xu,{marginBottom:f?3:8,marginTop:p||0,children:[b&&o&&(0,l.jsx)(i.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:o,size:"sm"}),(0,l.jsx)(i.X6,{accessibilityLevel:1,align:d||"center",size:y||"500",children:_})]}),m&&Array.isArray(f)?f.map(function(e,t){return P(e,t)}):P(f),(0,l.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,l.jsx)(i.xu,{display:"flex",flex:"grow",justifyContent:"end",padding:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:g.text,color:g.color,fullWidth:null===(t=g.fullWidth)||void 0===t||t,onClick:g.onClick,size:"lg",text:g.text})}),h?(0,l.jsx)(i.xu,{flex:"grow",padding:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:h.text,color:h.color,fullWidth:null===(a=h.fullWidth)||void 0===a||a,onClick:h.onClick,size:"lg",text:h.text})}):null]})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/98183-4f08b440b2727384.js.map