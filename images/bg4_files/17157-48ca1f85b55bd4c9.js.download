"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[17157,88027,16222,57897,84659,33113,43200],{373137:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};r.hash="0628142b7a59444fec6969159289921a",n.default=r},777579:function(e,n,t){t.r(n);var r,i,o,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i,{args:null,kind:"FragmentSpread",name:"BoardCard_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},o,{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="08dc7cb76d98b372522a348ab8acda69",n.default=l},709274:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditorialBoardModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"boardId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardSubtitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Board",abstractKey:null};r.hash="fb22157788b599d271d4b704b49bb671",n.default=r},646920:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d",n.default=i},978057:function(e,n,t){t.r(n);var r,i,o,a,l,s,u,c,d=(c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},{kind:"InlineFragment",selections:[r,i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:l=[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u=[s={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},s,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:u,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:l,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:u,storageKey:'images(spec:"170x")'},a],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"2ebb48e9e0f8a453da8a3bc8f9175437ba11611898270b079bbc58544f418b91",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});d.hash="c01a8792c985b953958cd5bf1ec97f15",n.default=d,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(d.default||d)},935331:function(e,n,t){t.r(n);var r,i,o,a,l,s,u,c,d,p,f=(r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l=[i={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],p=[r,s={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r,{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[r,c,u,s,d],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},o,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null});f.hash="a75e5ee6e059cb1a1863523f0e8f0ae6",n.default=f},514474:function(e,n,t){t.r(n);var r,i,o,a,l,s,u,c,d,p,f,g,m,y,_,h,v=(r=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],a=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],l={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},p=[u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],h=[s,f={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},y={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"TodayTabPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"TodayTabPagination_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"TodayTabPaginationQuery",selections:[{alias:null,args:[{kind:"Literal",name:"numDays",value:3}],concreteType:null,kind:"LinkedField",name:"v3RecommendedTodayArticlesQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:o,concreteType:"V3RecommendedTodayArticlesDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3RecommendedTodayArticlesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:"storySubTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},l],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},s,{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[s,m,g,f,y,_],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},_],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[s,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},c,d],storageKey:null}],storageKey:null},_],storageKey:null},_],storageKey:null},l],type:"TodayArticle",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardSubtitle",storageKey:null},_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,l],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[_],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,filters:null,handle:"connection",key:"TodayTabPagination_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3RecommendedTodayArticlesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3RecommendedTodayArticles",abstractKey:null}],storageKey:"v3RecommendedTodayArticlesQuery(numDays:3)"}]},params:{id:"8d707bc91ea9e4ab34679d56fd032ad360870cdd51127ef7198682ce7eb6aae7",metadata:{},name:"TodayTabPaginationQuery",operationKind:"query",text:null}});v.hash="1a5bce2a332031b795a334239e0a20d6",n.default=v,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(v.default||v)},922877:function(e,n,t){t.r(n);var r,i,o,a=(i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:r=["v3RecommendedTodayArticlesQuery","data","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:r},fragmentPathInResult:[],operation:t(514474)}},name:"TodayTabPagination_query",selections:[{alias:null,args:[{kind:"Literal",name:"numDays",value:3}],concreteType:null,kind:"LinkedField",name:"v3RecommendedTodayArticlesQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:"connection",args:null,concreteType:"V3RecommendedTodayArticlesDataConnection",kind:"LinkedField",name:"__TodayTabPagination_data_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3RecommendedTodayArticlesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TodayTabStory"},o],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"TodayArticleModule"},o],type:"TodayArticle",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"EditorialBoardModule"},o],type:"Board",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3RecommendedTodayArticlesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3RecommendedTodayArticles",abstractKey:null}],storageKey:"v3RecommendedTodayArticlesQuery(numDays:3)"}],type:"Query",abstractKey:null});a.hash="1a5bce2a332031b795a334239e0a20d6",n.default=a},558621:function(e,n,t){t.r(n);var r,i,o,a,l,s,u,c,d,p,f,g,m,y,_,h=(r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{kind:"Literal",name:"first",value:50}],o=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],a={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},d=[s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],_=[l,p={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},m={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayTabQuery",selections:[{args:null,kind:"FragmentSpread",name:"TodayTabPagination_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"TodayTabQuery",selections:[{alias:null,args:[{kind:"Literal",name:"numDays",value:3}],concreteType:null,kind:"LinkedField",name:"v3RecommendedTodayArticlesQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:i,concreteType:"V3RecommendedTodayArticlesDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3RecommendedTodayArticlesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null},{alias:"storySubTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},a],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l,{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[l,g,f,p,m,y],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},y],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:_,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},u,c],storageKey:null}],storageKey:null},y],storageKey:null},y],storageKey:null},a],type:"TodayArticle",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardSubtitle",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u,a],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[y],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"connection(first:50)"},{alias:null,args:i,filters:null,handle:"connection",key:"TodayTabPagination_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3RecommendedTodayArticlesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3RecommendedTodayArticles",abstractKey:null}],storageKey:"v3RecommendedTodayArticlesQuery(numDays:3)"}]},params:{id:"7649d753aa8d74a222871d734b9a7c0b8dd06a8031ef82569e583a1cd4b2e1e8",metadata:{},name:"TodayTabQuery",operationKind:"query",text:null}});h.hash="13bbd280384b4ce96db3d869f106c4f8",n.default=h,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(h.default||h)},99637:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},r,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};i.hash="92b841173868ce353dd00b5fce287546",n.default=i},53280:function(e,n,t){t.r(n);var r,i,o,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="e45a4117a4642dc5fb48c8b56893276c",n.default=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let n=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[n]=e}}}(s.default||s)},384777:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:r,storageKey:'images(spec:"170x")'}],type:"Board",abstractKey:null};i.hash="0dcc0ff703cdf1ad8ec8403c4f7daba9",n.default=i},251263:function(e,n,t){var r=t(297949),i=t(770443);n.Z=function(e){var n=e.text;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:n})}},73346:function(e,n,t){t.d(n,{BW:function(){return X},Cj:function(){return Y},Cp:function(){return U},G1:function(){return G},G5:function(){return H},Lp:function(){return q},TG:function(){return J},Wd:function(){return V},cT:function(){return M},cY:function(){return Z},hA:function(){return Q},ln:function(){return et},mQ:function(){return B},ml:function(){return en},p:function(){return $},tX:function(){return K},tt:function(){return F},xw:function(){return ee}});var r,i,o,a,l,s,u,c=t(297949),d=t(559656),p=t(817534),f=t(679424);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _(e,n,t){var r;return(r=function(e,n){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==g(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=new c.Ry(10),v=new c.H3([h]),b=new c.H3([v]),S=new c.H3([b]),x=new c.H3([S]),P={red:d.x_d,white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"},I=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),E=(_(r={},I.AGE_18_20,2),_(r,I.AGE_21_24,3),_(r,I.AGE_25_34,4),_(r,I.AGE_35_44,5),_(r,I.AGE_45_49,6),_(r,I.AGE_50_54,7),_(r,I.AGE_55_64,8),_(r,I.AGE_65_PLUS,9),_(r,"AGE_UNSUPORTED",10),r),w=f.Z.ONE_MONTH,O=(_(i={},f.Z.ONE_WEEK,p.Z.DAILY),_(i,f.Z.ONE_MONTH,p.Z.DAILY),_(i,f.Z.THREE_MONTH,p.Z.WEEKLY),_(i,f.Z.SIX_MONTH,p.Z.WEEKLY),_(i,f.Z.ONE_YEAR,p.Z.WEEKLY),i),T=Object.freeze({DETAIL:"/detail/",HOME:"/"}),A=(_(o={},f.Z.ONE_WEEK,1),_(o,f.Z.ONE_MONTH,2),_(o,f.Z.THREE_MONTH,3),_(o,f.Z.SIX_MONTH,4),_(o,f.Z.ONE_YEAR,5),o),j=(_(a={},f.Z.ONE_WEEK,7),_(a,f.Z.ONE_MONTH,30),_(a,f.Z.THREE_MONTH,90),_(a,f.Z.SIX_MONTH,180),_(a,f.Z.ONE_YEAR,365),_(a,f.Z.TWO_YEAR,730),a),k={MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"},D=y(y({},k),{},{UNSPECIFIED:"unknown"}),C=(_(l={},k.MALE,0),_(l,k.FEMALE,1),_(l,k.UNSPECIFIED,2),l),R={TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",BREAKOUT_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"},L=Object.freeze((_(s={},R.TOP_TRENDS_INTERNAL,"Top Trends"),_(s,R.GROWING_TRENDS_INTERNAL,"Growing Trends"),_(s,R.BREAKOUT_TRENDS_INTERNAL,"Breakout Trends"),s)),N=(_(u={},R.TOP_MONTHLY_TRENDS,"Top Monthly Trends"),_(u,R.TOP_YEARLY_TRENDS,"Top Yearly Trends"),_(u,R.GROWING_TRENDS,"Growing Trends"),_(u,R.SEASONAL_TRENDS,"Seasonal Trends"),u),M=Object.freeze({L1:1,L2:2,L3:3}),F=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),U=Object.freeze({HIGH_VOLUME:1,GROWTH:2}),z=Object.freeze({HIGH_VOLUME:"HIGH_VOLUME",GROWTH:"GROWTH"}),B=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),Z="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",H="https://www.pinterest.com/advertiser/quick-promote/",K="https://trends.pinterest.com".concat(T.DETAIL),G="conversion-trends-default-tour-id",V="conversion-trends-fre-modal-tour-id",W=Object.freeze([f.Z.ONE_MONTH,f.Z.ONE_YEAR,f.Z.THREE_MONTH,f.Z.ONE_MONTH]),Y="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",q="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",X={p100Banner:"https://i.pinimg.com/originals/45/12/ef/4512ef5659332bd6b6d33b523636fcb9.png",bannerImageLeft:"https://i.pinimg.com/originals/1b/72/a3/1b72a3c673ae270ef358ccc2823ffea4.png",bannerImageRight:"https://i.pinimg.com/originals/f1/fc/dc/f1fcdc5416c9ab74048549a3f8a98281.png",bannerImageBackground:"https://i.pinimg.com/originals/a7/d5/5f/a7d55feded560ca866d12154412e58d4.png"},Q="https://i.pinimg.com/originals/3d/2f/41/3d2f41008f24a1839f25021cf78e908d.png",$=444,J="ads_interest_resource",ee=["conversions","brandAwareness","consideration"],en=10,et=91;n.ZP={PAGES:T,TOAST_DURATION:3e3,Z_INDEX_TRENDS_HEADER:h,Z_INDEX_TRENDS_FEEDBACK_BUTTON:v,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:b,Z_INDEX_TRENDS_SEARCH_FORM:S,Z_INDEX_TRENDS_TOOLTIP:x,DEPRECATED_GESTALT_COLORS_HEX_VALUES:P,MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,DESKTOP_PREDICTION_CHART_HEIGHT:480,DESKTOP_MOMENT_PREDICTION_CHART_HEIGHT:440,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",DEFAULT_DESIRED_CARD_PER_ROW:3,EXTERNAL_DESIRED_CARD_PER_ROW:5,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166,EXTERNAL_FILTER_BAR_WIDTH:225},DEFAULT_NUM_TOP_TRENDS:250,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:k,GENDER_MP:D,GENDER_TO_THRIFT_CONST:C,AGE_BUCKETS:I,AGE_TO_THRIFT_CONST:E,THRIFT_TO_AGE_CONST:{2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"},THRIFT_TO_GENDER_CONST:{0:"male",1:"female",2:"unknown"},LOOK_BACK_WINDOW:f.Z,LOOK_BACK_WINDOW_DEFAULT:w,LOOK_BACK_WINDOW_TO_THRIFT_CONST:A,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:O,LOOK_BACK_WINDOW_TO_DAYS:j,TRENDS_TYPES:R,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:L,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:N,URL_PARAM_BOOLEAN_VALUES:{TRUE:"true",FALSE:"false"},SEASONALITY_SCORE_THRESHOLD:.825,SEASONALITY_SCORE_OLD_THRESHOLD:.75,SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE:"2024-04-08",SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",CSV_SEPARATOR:",",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:627,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:W,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom",IN:"India",AU:"Australia"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:"\n",COUNTRY_PREFIX_POSTAL_CODE_SEPARATOR:":",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:250,NUM_TOP_TRENDS_FOR_YOUR_PINS_TO_RETURN:10,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,PERSONALIZED_TRENDS_INTEREST_AVAILABLE_THRESHOLD:3,PERSONALIZED_TRENDS_MINI_TABLE_REQUEST_SIZE:25,PERSONALIZED_TRENDS_MINI_TABLE_ROWS_PRE_PAGE:5,PERSONALIZED_TRENDS_TABLE_BREAK_LINE_WINDOW_WIDTH:1284,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_FOR_PINS_MODULE_BREAK_WIDTH:1380,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_UNAUTH_CAROUSEL_TERMS:25,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:750,PT_IMAGE_SIZE:"236x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x",MOMENT_IMAGE_CARD_SIZE:"70x70",PERSONALIZED_TREND_TYPES:z,PERSONALIZED_TRENDS_LOOKBACK:"THREE_MONTHS",PREDICTION_SUPPORTED_COUNTRIES:["US"],MOMENT_PREDICTION_LOOKBACK_DAYS:730,MILLISECONDS_PER_DAY:864e5}},693984:function(e,n,t){var r=(0,t(282480).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:function(){},closeUpsellUnauthModal:function(){}});n.Z=r},817534:function(e,n){var t=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4});n.Z=t},143200:function(e,n,t){t.d(n,{D9:function(){return h},J5:function(){return _},Ns:function(){return b},QT:function(){return P},Xs:function(){return m},kc:function(){return S},nc:function(){return x},pV:function(){return y},y1:function(){return v}});var r=t(282480),i=t(868073),o=t(357202),a=t(693984),l=t(156173),s=t(573706),u=t(730212),c=t(166408),d=t(969119),p=t(383399);function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return g(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var m=function(e){return{setValueToSession:function(n){return c.ZP.setItem(e,n)},getValueFromSession:function(n){return c.ZP.getItem(e)||n}}},y=function(){var e=(0,i.TH)();return(0,r.useMemo)(function(){return new URLSearchParams(e.search).get("country")||"US"},[e])},_=function(e){var n=(0,i.TH)(),t=(0,s.v)().logContextEvent,r=new URLSearchParams(n.search);(0,d.Z)(function(){Object.values(l.Z.URL_PARAM_UTM_VALUES).some(function(e){return null!==r.get(String(e))})&&t({event_type:13,view_type:e,aux_data:Object.values(l.Z.URL_PARAM_UTM_VALUES).reduce(function(e,n){return e[String(n)]=r.get(String(n)),e},{})})}),(0,o.Z)(l.Z.URL_PARAM_UTM_VALUES.UTM_SOURCE,"replaceWithoutRefresh","")(),(0,o.Z)(l.Z.URL_PARAM_UTM_VALUES.UTM_MEDIUM,"replaceWithoutRefresh","")(),(0,o.Z)(l.Z.URL_PARAM_UTM_VALUES.UTM_CAMPAIGN,"replaceWithoutRefresh","")(),(0,o.Z)(l.Z.URL_PARAM_UTM_VALUES.UTM_CONTENT,"replaceWithoutRefresh","")(),(0,o.Z)(l.Z.URL_PARAM_UTM_VALUES.UTM_TERM,"replaceWithoutRefresh","")(),(0,o.Z)(l.Z.URL_PARAM_UTM_VALUES.UTM_CREATIVE,"replaceWithoutRefresh","")()},h=function(e){var n=(0,r.useRef)(null);return(0,r.useEffect)(function(){n.current=e},[e]),n.current},v=function(e,n){var t=(0,r.useRef)(),i=function(){t.current&&clearTimeout(t.current)};return(0,r.useEffect)(function(){return i},[]),function(r){i(),t.current=setTimeout(function(){e(r)},n)}};function b(e,n){var t=(0,r.useRef)(e),i=(0,r.useRef)();return(0,r.useEffect)(function(){t.current=e},[e]),(0,r.useEffect)(function(){return function(){return clearTimeout(i.current)}},[n]),(0,r.useCallback)(function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];i.current&&clearTimeout(i.current),i.current=window.setTimeout(function(){t.current.apply(t,r)},n)},[n])}var S=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",t=f((0,r.useState)(!1),2),i=t[0],o=t[1];return(0,r.useEffect)(function(){var t=new IntersectionObserver(function(e){o(f(e,1)[0].isIntersecting)},{rootMargin:n});return e.current?(t.observe(e.current),function(){t.disconnect()}):function(){}},[]),i};function x(){return(0,r.useContext)(a.Z)}var P=function(){var e=(0,p.Z)(),n=(0,u.B)();return n.advertiser?n.advertiser.owner_user_id:e.id||""}},357202:function(e,n,t){var r=t(282480),i=t(868073),o=t(771610),a=t(868808);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n,t){var r;return(r=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e,n,t){var l=(0,i.k6)(),s=(0,i.TH)(),d=s.search,p=s.pathname,f=void 0===p?"/":p,g=(0,r.useMemo)(function(){return new URLSearchParams(d)},[d]),m=function(r){var i="reset"!==n?(0,a.mB)(window.location.search):{},s=(0,o.Km)(u(u({},i),{},c({},e,r)));if(n){var d=(0,a.ru)(t?"".concat(t):f,u({},s));"push"===n&&l.push(d),"replace"===n&&l.replace(d),"reset"===n&&(window.location.href=d),"replaceWithoutRefresh"===n&&i[e]!==r&&window.history.replaceState(null,"",d)}};return function(n){"function"==typeof n?m(n((0,o.AY)(g.get(e)))):m(n)}}},679424:function(e,n){var t=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D",TWO_YEAR:"730D"});n.Z=t},156173:function(e,n){var t=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends",MOMENTS:"moments",HAS_PREDICTIONS:"hasPredictions",SHOW_PREDICTION:"showPrediction",URL_PARAM_UTM_VALUES:Object.freeze({UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_CONTENT:"utm_content",UTM_TERM:"utm_term",UTM_CREATIVE:"utm_creative"})});n.Z=t},771610:function(e,n,t){t.d(n,{$X:function(){return _},AY:function(){return E},BC:function(){return Z},Km:function(){return x},Lp:function(){return k},Nh:function(){return D},Rf:function(){return z},Sy:function(){return b},X6:function(){return f},XN:function(){return B},Xb:function(){return C},Xy:function(){return y},Ye:function(){return P},ZB:function(){return T},ZQ:function(){return R},_S:function(){return M},_j:function(){return g},d2:function(){return L},dV:function(){return I},g9:function(){return v},hm:function(){return m},id:function(){return H},k2:function(){return w},oH:function(){return j},qA:function(){return S},qn:function(){return h},sR:function(){return p},tB:function(){return A}});var r=t(73346),i=t(544167);t(126007);var o=t(257973);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e,n,t){var r;return(r=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==a(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"==typeof e)return d(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var p=function(e,n,t){var r,i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.lineChartData=[].concat(u(e.lineChartData),[{x:n,y:t.count}]),e.lineChartNormalizedData=[].concat(u(e.lineChartNormalizedData),[{x:n,y:t.normalizedCount}]),o&&(e.areaChartData=[].concat(u(null!==(r=e.areaChartData)&&void 0!==r?r:[]),[{x:n,y:t.predictedUpperBoundCount,y0:t.predictedLowerBoundCount}]),e.areaChartNormalizedData=[].concat(u(null!==(i=e.areaChartNormalizedData)&&void 0!==i?i:[]),[{x:n,y:t.predictedUpperBoundNormalizedCount,y0:t.predictedLowerBoundNormalizedCount}])),e},f=function(e,n){return(0,i.f)(new Date(e),n)},g=function(e,n){return new Date(e).toLocaleDateString(n,{year:"numeric",month:"numeric",day:"numeric",timeZone:"UTC"})},m=function(e,n){return e||![3,4].includes(n)},y=function(e){return!e||0===e.length},_=function(e){return y(e)?"":"".concat(e).replace(/\D/g,"")};function h(e,n){return Math.round(e*Math.pow(10,n))/10}var v=function(e){return e.join(r.ZP.PLUS_ICON)},b=function(e){return e&&""!==e?e.split(r.ZP.PLUS_ICON):[]},S=function(e){var n,t=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=c(e))){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}(r.ZP.DEPRECATED_COLOR_VALUES);try{for(t.s();!(n=t.n()).done;){var i=n.value;if(!e.includes(i))return i}}catch(e){t.e(e)}finally{t.f()}return r.ZP.DEPRECATED_COLOR_VALUES[0]},x=function(e){var n={};for(var t in e){var r=e[t];null!==t&&""!==t.trim()&&null!=r&&""!==r.toString().trim()&&(n[t]=r)}return n},P=function(e){return e&&e!==r.ZP.ALL?e.split(r.ZP.URL_JOIN_SIGN):null},I=function(e,n,t){return e?u(e).sort(function(e,i){var o=function(e,t){return n===r.ZP.SORT_ORDER.ASC?e-t:t-e};return t===r.ZP.SORT_BY.TOTAL_SEARCH?o(e.searchCount,i.searchCount):t===r.ZP.SORT_BY.WEEKLY_CHANGE?o(e.wow_change.index,i.wow_change.index):t===r.ZP.SORT_BY.MONTHLY_CHANGE?o(e.mom_change.index,i.mom_change.index):t===r.ZP.SORT_BY.YEARLY_CHANGE?o(e.yoy_change.index,i.yoy_change.index):o(e.reverseRank,i.reverseRank)}):[]},E=function(e){return null!=e&&/^\d+$/.test(e.toString())?parseInt(e,10):e},w=function(e){return e>=r.ZP.SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE?r.ZP.SEASONALITY_SCORE_THRESHOLD:r.ZP.SEASONALITY_SCORE_OLD_THRESHOLD},O=function(e,n){return e>=w(n)?"Yes":""},T=function(e){var n,t=e.keywordsToInclude,i=e.keywordsToExclude,o=e.ageBucket,a=e.gender,l=e.lookbackWindow,s=e.seasonal,u=e.rankingMethod,c=e.searchParams,d=e.nonUrlParams,p=e.tableData,f=P(t)||[r.ZP.EXPORT_ALL],g=P(i)||[r.ZP.EXPORT_NONE],m=P(a)||[r.ZP.EXPORT_ALL],y=P(o)||[r.ZP.EXPORT_ALL],_=r.ZP.LOOK_BACK_WINDOW_TO_DAYS[l||r.ZP.LOOK_BACK_WINDOW_DEFAULT],h=(null==d?void 0:null===(n=d.checkedTerms)||void 0===n?void 0:n.length)>0?d.checkedTerms.map(function(e){var n=p.find(function(n){return e===n.term});return{trend:null==n?void 0:n.term,totalSearches:null==n?void 0:n.total_count,weeklyChange:null==n?void 0:n.wow_change.value,monthlyChange:null==n?void 0:n.mom_change.value,yearlyChange:null==n?void 0:n.yoy_change.value,isSeasonal:O(null==n?void 0:n.seasonality_score,c.dateRange.endDate)}}):p.map(function(e){return{trend:e.term,totalSearches:e.total_count,weeklyChange:e.wow_change.value,monthlyChange:e.mom_change.value,yearlyChange:e.yoy_change.value,isSeasonal:O(e.seasonality_score,c.dateRange.endDate)}});return{dateRangeDate:c.dateRange.endDate,dateRangeDaysBefore:_,interests:d[r.ZP.CONCATENATED_INTERESTS_PARAM_KEY]||r.ZP.EXPORT_ALL,includeKeywords:f.join(", "),excludeKeywords:g.join(", "),ages:y.join(", "),genders:m.join(", "),seasonalOnly:s===r.ZP.URL_PARAM_BOOLEAN_VALUES.TRUE?"Yes":"No",trendType:r.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS[u],selectedTrends:h}},A=function(){var e=window.open("http://example.com/waiting.html","_blank");return null==e||e.document.write("<h4>".concat(r.ZP.EXPORT_MESSAGE_HEADER,"</h4><p>").concat(r.ZP.EXPORT_MESSAGE,"</p>")),e},j=function(e){return y(e)||"all"===e?"":e.split(r.ZP.URL_JOIN_SIGN).join(", ")},k=function(e,n){if(!y(e)){var t,i=(s(t={},r.ZP.GENDER.FEMALE,n._('Female', 'trends.filter.gender.female', 'Gender Female')),s(t,r.ZP.GENDER.MALE,n._('Male', 'trends.filter.gender.male', 'Gender Male')),s(t,r.ZP.GENDER.UNSPECIFIED,n._('Unspecified', 'trends.filter.gender.unspecified', 'Unspecified Gender')),t);return e.split(r.ZP.URL_JOIN_SIGN).map(function(e){return i[e]}).join(", ")}return""},D=function(e){return y(e)||"all"===e?0:e.split(r.ZP.URL_JOIN_SIGN).length},C=function(e){return Object.entries(e).reduce(function(e,n){var t=function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||c(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],i=t[1];return Array.isArray(i)&&(e[r]=i.map(function(e){return{images:{"474x":{height:0,width:0,url:e}}}})),e},{})},R=function(e,n){var t,r=u((null===(t=e.results)||void 0===t?void 0:t.terms)||[]).sort(function(e,n){return n.affinity-e.affinity});return void 0!==n&&n>0?r.filter(function(e){return e.affinity>=n}):r},L=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(null==e||0===e.trim().length||(t?0>Number.parseFloat(e.trim()):0>=Number.parseFloat(e.trim()))||void 0!==n&&e.trim().length<n)},N=function(e){for(var n,t="",r=0;r<3;r+=1){n=0;for(var i=0;i<5;i+=1){var o=e.substring(5*r+i,5*r+i+1);o.toUpperCase()===o&&o>="A"&&o<="Z"&&(n+=1<<i)}n<=25?t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(n,n+1):t+="012345".substring(n-26,n-25)}return t},M="000000000000000000",F=/^[A-z0-9]{18}$/,U=/\b([A-z0-9]{18})\b/,z=function(e){return F.test(e)&&e.substr(15)===N(e.substr(0,15))&&"006"===e.slice(0,3)||e===M},B=function(e){if(e.length<18)return e;var n=e.match(U);return n&&n[0]?n[0]:e},Z=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null===(n=e.current)||void 0===n||n.scrollIntoView(),window.scrollBy(0,-t)},H=function(e,n){var t,i=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},o.eg);return i.adGroups[0].targeting.keywords=(null==n?void 0:n.join(r.ZP.KEYWORD_SPLIT_CHARACTER))||"",i.adGroups[0].targeting.selectedLocations=(null==e?void 0:null===(t=e[0])||void 0===t?void 0:t.split(r.ZP.PLUS_ICON))||[],i.adGroups[0].autoTargetingEnabled=!1,i}},262462:function(e,n,t){function r(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function i(e){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(n){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.blob();case 5:return r=e.sent,e.abrupt("return",new File([r],"image.png"));case 7:case"end":return e.stop()}},e)}),(o=function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}t.d(n,{Z:function(){return i}})},910674:function(e,n,t){function r(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function i(e,n){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(n,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var r=new FileReader;r.onload=function(){var i=new Image;i.src=r.result,i.onload=function(){var r=i.height,o=i.width;o>474&&(r*=474/o,o=474),t({src:i.src,height:r,width:o});var a=document.createElement("canvas");a.width=o,a.height=r,a.getContext("2d").drawImage(i,0,0,o,r),a.toBlob(function(t){e(new File([t],n.name,{type:"image/jpeg"}))},"image/jpeg",.9)}},r.readAsDataURL(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),(o=function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}t.d(n,{Z:function(){return i}})},401296:function(e,n,t){t.d(n,{f:function(){return k},X:function(){return j}});var r=t(282480),i=t(239763),o=t(14488),a=t(942052),l=t(663641),s=t(847881),u=t(90230),c=t(799328),d=t(473599),p=t(832442),f=t(435881),g=t(605388),m=t(498490),y=t(785220),_=t(135296),h=t(296209),v=t(770443);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||x(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){if(e){if("string"==typeof e)return P(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==b(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var w=function(e,n,t){var r=null==n?void 0:n.find(function(e){var n,r=e.action;return(null==r?void 0:null===(n=r.filter)||void 0===n?void 0:n.product_filter_type)===t});if(r){var i=(0,_.Z)(h.Z,!0)(r),o=e.findIndex(function(e){var n,r=e.action;return(null==r?void 0:null===(n=r.filter)||void 0===n?void 0:n.productFilterType)===t});e[o]?e[o]=i:e.push(i)}},O=function(e,n,t,r){var i,o=r.find(function(n){var t,r=n.action;return"number"==typeof(null==r?void 0:null===(t=r.filter)||void 0===t?void 0:t.productFilterType)&&e.has(r.filter.productFilterType)});if(null!=o&&null!==(i=o.action)&&void 0!==i&&i.filter){var a=o.action.filter.filterOptions;o.action.filter.appliedFilterOptions="string"==typeof n?null==a?void 0:a.filter(function(e){return(null==e?void 0:e[t])&&n.split(",").includes(String(e[t]))}).map(function(e){return E(E({},e),{},{selected:!0})}):[]}},T=(0,m.Z)("OneBarProductFilters"),A=T.Provider,j=T.useHook;function k(e){var n,t=e.children,m=S((0,r.useState)([]),2),_=m[0],h=m[1],b=S((0,r.useState)(null),2),I=b[0],T=b[1],j=(n=(0,s.b)().scope,[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(n)),k=(0,p.Z)(),D=(0,c.Z)(),C=(0,i.Z)(),R=(0,o.Z)(),L=(0,a.Z)(),N=(0,d.Z)(),M=(0,f.Z)(),F=(0,r.useCallback)(function(e){var n=e.oneBarModules,t=e.baseCacheKey,r=null==n?void 0:n.filter(function(e){var n=e.module_type;return 17===n||0===n});if(r&&(null==r?void 0:r.length)!==0&&t){var i=t!==I,o=i?[]:_;(i||!j)&&w(o,r,4),(i||!k)&&w(o,r,1),(i||!D)&&w(o,r,0),(i||!C)&&w(o,r,3),(i||!R)&&w(o,r,12),(i||!L)&&w(o,r,6),(i||!M)&&w(o,r,10),(i||!N)&&[7,8,9].forEach(function(e){w(o,r,e)}),(0,y.ZP)(o,_)||(h(o),T(t))}},[_,C,R,L,j,D,N,k,M,I]),U=(0,u.Z)(),z=(0,s.b)(),B=z.priceMax,Z=z.priceMin,H=z.scope,K=z.brandValue,G=z.brands,V=z.onSale,W=z.style,Y=z.colors,q=z.domains;(0,r.useEffect)(function(){if(U&&0!==_.length){var e=(0,g.Z)(_);if(H!==l.lw.PINS){var n,t,r=(0,l.gi)(H),i=e.find(function(e){return 0===e.moduleType});null!=i&&null!==(t=i.action)&&void 0!==t&&t.filter&&(i.action.filter.appliedFilterOptions=((function(e){if(Array.isArray(e))return P(e)})(n=i.action.filter.filterOptions||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||x(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){var n=e.searchType;return{searchType:n,selected:n===r}}))}if("string"==typeof B||"string"==typeof Z){var o,a,s,u=e.find(function(e){var n,t=e.action;return(null==t?void 0:null===(n=t.filter)||void 0===n?void 0:n.productFilterType)===1});null!=u&&null!==(o=u.action)&&void 0!==o&&o.filter&&(u.action.filter.appliedFilterOptions=[null!==(a=u.action.filter.filterOptions)&&void 0!==a&&a[0]?E(E({},u.action.filter.filterOptions[0]),{},{numericValue:Number(Z)}):null,null!==(s=u.action.filter.filterOptions)&&void 0!==s&&s[1]?E(E({},u.action.filter.filterOptions[1]),{},{numericValue:Number(B)}):null].filter(Boolean))}O(new Set([3]),G,"stringValue",e),O(new Set([12]),K,"stringValue",e),O(new Set([6]),Y,"stringValue",e),O(new Set([0]),q,"stringValue",e),O(new Set([7,8,9]),V,"numericValue",e),O(new Set([10]),W,"stringValue",e),(0,y.ZP)(e,_)||h(e)}},[_,U,B,Z,H,K,G,Y,q,V,W]);var X=(0,r.useMemo)(function(){return{cachedProductFilterOneBarModules:_,cacheOneBarModules:F}},[_,F]);return(0,v.jsx)(A,{value:X,children:t})}},544167:function(e,n,t){t.d(n,{f:function(){return r},i:function(){return i}});var r=function(e,n){return e.toLocaleDateString(n,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})},i=function(e,n){return r(new Date(e),n)}},317861:function(e,n,t){t.d(n,{wy:function(){return X},N$:function(){return Y},M:function(){return V}});var r,i=t(282480),o=t(711284),a=t(401296),l=t(978574),s=t(331986),u=t(787487);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){f(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e,n,t){var r;return(r=function(e,n){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return m(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var y=function(e,n,t){return t&&(0,s.nZ)(t,n)?l.v.MODIFIED:(0,s.B1)(n,e)||t&&(0,s.Uv)(t,e)||(0,s.Uv)(n,e)?l.v.CLEARED:l.v.APPLIED};function _(e,n){(0,s.ph)(n);var t,r,i=e.find(function(e){return(null==e?void 0:e.id)===n.id}),o=null==i?void 0:i.rules,a=(null==i?void 0:null===(t=i.filter_options)||void 0===t?void 0:null===(r=t.find(function(e){return"selectedOptionId"in n&&e.id===n.selectedOptionId}))||void 0===r?void 0:r.rules)||o;if(!a)return[e,[]];var l=[],u=[];return e.forEach(function(e){void 0!==e.product_filter_type&&a.includes(e.product_filter_type)?l.push(e):u.push(e)}),[l,u]}function h(e,n){switch(n.type){case"RESET_FILTERS":var t=g(n.payload,2),r=t[0],i=t[1],o=r,a=(0,u.Z)(i)?(0,s.iP)(r):i;return Object.values(a).forEach(function(e){o=g(_(o,e),1)[0]}),{models:r,availableFilterModels:o,appliedFilters:i,filters:a,isFetching:!1,pendingDeletedSelections:{},status:y(r,i,a)};case"CLEAR_FILTERS":var c=e.models,d=(0,s.P5)(e.models);return Object.values(d).forEach(function(e){c=g(_(c,e),1)[0]}),p(p({},e),{},{filters:d,availableFilterModels:c,pendingDeletedSelections:{},status:y(e.models,e.appliedFilters,d)});case"UPDATE_FILTER":var m=n.payload,h=g(_(e.models,m),2),v=h[0],b=h[1],S=p(p({},e.filters),{},f({},m.id,m)),x=p({},e.pendingDeletedSelections);return v.forEach(function(e){if(e.id){var n=x[e.id];n&&(S[e.id]=n,delete x[e.id])}}),b.forEach(function(e){if(e.id){var n=S[e.id];n&&(x[e.id]=n,delete S[e.id])}}),(0,s.ph)(m,e.models.find(function(e){return e.id===m.id}))&&delete S[m.id],p(p({},e),{},{availableFilterModels:v,filters:S,pendingDeletedSelections:x,status:y(e.models,e.appliedFilters,S)});case"SUBMIT_FILTER":return p(p({},e),{},{pendingDeletedSelections:{},status:l.v.SUBMITTED});case"SUBMIT_FAILED":return p(p({},e),{},{status:l.v.FAILED});case"SUBMIT_COMPLETE":var P=e.filters;return p(p({},e),{},{appliedFilters:P,pendingDeletedSelections:{},status:y(e.models,P)});case"LOADING":return p(p({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return p(p({},e),{},{isFetching:!1});default:return e}}var v=t(239763),b=t(942052),S=t(799328),x=t(473599),P=t(832442),I=t(435881),E=t(785220);function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||O(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){if(e){if("string"==typeof e)return T(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,n):void 0}}function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var A=new Set([1,0,3,6,10,7,8,9]),j=function(e,n,t){var r=null==n?void 0:n.find(function(e){return e.product_filter_type===t});if(r){var i=e.findIndex(function(e){return e.product_filter_type===t});e[i]?e[i]=r:e.push(r)}},k=function(e,n,t){var r=null==n?void 0:n.find(function(e){return e.product_filter_type===t});if(!r)return e;var i=e.findIndex(function(e){return e.product_filter_type===t});return e[i]?e[i]=r:e.push(r),e},D=t(90230),C=t(498490),R=t(961754),L=t(847881),N=t(511507),M=t(770443);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||B(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){if(e){if("string"==typeof e)return Z(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(e,n):void 0}}function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var H=function(){},K=(0,C.Z)("UnifiedFiltersContext"),G=K.Provider,V=K.useMaybeHook,W=function(e){var n,t,r,o,a,u,c,d,p,f,g,m,y,_=e.applyInitFilters,C=e.children,R=e.filterModels,N=e.filters,F=e.isFetching,B=e.refreshFiltersData,Z=(0,L.b)().query,H=(0,D.Z)(),K=(t=(n=w((0,i.useState)([]),2))[0],r=n[1],a=(o=w((0,i.useState)(null),2))[0],u=o[1],c=(0,P.Z)(),d=(0,S.Z)(),p=(0,v.Z)(),f=(0,b.Z)(),g=(0,x.Z)(),m=(0,I.Z)(),y=(0,i.useCallback)(function(e){var n=e.unifiedFilterModels,i=e.baseCacheKey,o=null==n?void 0:n.filter(function(e){var n=e.product_filter_type;return void 0!==n&&A.has(n)});if(o&&(null==o?void 0:o.length)!==0&&i){var l=i!==a,s=l?[]:t;(l||!c)&&j(s,o,1),(l||!d)&&j(s,o,0),(l||!p)&&j(s,o,3),(l||!f)&&j(s,o,6),(l||!m)&&j(s,o,10),(l||!g)&&[7,8,9].forEach(function(e){j(s,o,e)}),(0,E.ZP)(s,t)||(r(s),u(i))}},[t,p,f,m,d,g,c,a]),{getCachedFilters:(0,i.useCallback)(function(e){if(!e||(null==e?void 0:e.length)===0)return[];var n=function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return c&&(n=k(n,t,1)),d&&(n=k(n,t,0)),p&&(n=k(n,t,3)),f&&(n=k(n,t,6)),m&&(n=k(n,t,10)),g&&[7,8,9].forEach(function(e){n=k(n,t,e)}),n},[t,p,f,m,d,g,c]),cacheUnifiedFilterModelsWithProductFilters:y}),V=K.getCachedFilters,W=K.cacheUnifiedFilterModelsWithProductFilters,Y=(null==_?void 0:_(R))||N||{},q=z((0,i.useReducer)(h,{models:R,availableFilterModels:R,appliedFilters:Y,filters:Y,pendingDeletedSelections:{},isFetching:F,status:(0,s.B1)(Y,R)||(0,s.Uv)(Y,R)?l.v.CLEARED:l.v.APPLIED}),2),X=q[0],Q=q[1],$=z((0,i.useState)(R),2),J=$[0],ee=$[1];(0,i.useEffect)(function(){F&&Q({type:"LOADING"})},[F]),(0,i.useEffect)(function(){if(!F&&(!X.isFetching||0!==R.length)){if(!(0,s.a$)(J,R)){Q({type:"LOADING_COMPLETED_OR_FAILED"});return}var e=R;H||(e=V(U(R)),W({unifiedFilterModels:U(R),baseCacheKey:Z})),Q({type:"RESET_FILTERS",payload:[e,(null==_?void 0:_(e))||{}]}),ee(R)}},[_,R,J,F,X.isFetching,V,W,Z,H]);var en=(0,i.useMemo)(function(){return{filterState:X,dispatch:Q,refreshFiltersData:B}},[X,B]);return(0,M.jsx)(G,{value:en,children:C})},Y=function(e){var n=e.bookmark,t=void 0===n?"":n,r=e.children,i=e.generateInitFilterCb,o=(0,D.Z)(),l=(0,R.Z)(!o&&t?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:t}}}:null),u=l.data,c=l.refresh,d=l.isLoaded,p=(0,a.X)().cachedProductFilterOneBarModules.map(s.tx).filter(Boolean);return(0,M.jsx)(W,{applyInitFilters:i,filterModels:(o?p:void 0===u?null:u)||[],isFetching:o?0===p.length:!d||!t,refreshFiltersData:c,children:r})},q=void 0!==r?r:r=t(99637),X=function(e){var n,t,r,a,s,u,c,d=e.children,p=e.oneBarModulesKey,f=(0,N.Z)(),g=f.data,m=f.isFetching,y=f.isLoaded,_=(g||{}).oneBarModules,h=(0,o.useFragment)(q,p),v=(0,i.useMemo)(function(){return{dispatch:function(){},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:m,pendingDeletedSelections:{},status:l.v.CLEARED},refreshFiltersData:H}},[m]),b=null===(s=h?[h]:null==_?void 0:_.map(function(e){var n,t;return e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(function(e){var n,t,r,i;return{isSelected:null!==(n=e.is_selected)&&void 0!==n?n:null,id:null!==(t=e.id)&&void 0!==t?t:null,display:e.display?{displayText:null!==(r=e.display.display_text)&&void 0!==r?r:null}:null,action:e.action?{feedUrl:null!==(i=e.action.feed_url)&&void 0!==i?i:null}:null}}):null}:null,id:null!==(n=e.id)&&void 0!==n?n:null,moduleType:null!==(t=e.module_type)&&void 0!==t?t:null}}))||void 0===s?void 0:s.find(function(e){return 0===e.moduleType}),S=null==b?void 0:null===(u=b.action)||void 0===u?void 0:u.filters;if(!b||!S)return(0,M.jsx)(G,{value:v,children:d});var x=b.id||"",P=(t={},r=x,a={id:x,selectedOptionId:(null===(c=S.find(function(e,n){return(null==e?void 0:e.isSelected)&&0!==n}))||void 0===c?void 0:c.id)||"",type:"single",lastChangedLocation:1},(n=function(e,n){if("object"!=F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(r,"string"),(r="symbol"==F(n)?n:n+"")in t)?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t);return(0,M.jsx)(W,{filterModels:[{filter_component_type:2,filter_options:S.map(function(e,n){var t,r;return{label:(null==e?void 0:null===(t=e.display)||void 0===t?void 0:t.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e?void 0:null===(r=e.action)||void 0===r?void 0:r.feedUrl)||"",is_selected:"boolean"==typeof(null==e?void 0:e.isSelected)?e.isSelected:0===n}}),id:x,title:"",product_filter_type:4}],filters:P,isFetching:!y,refreshFiltersData:H,children:d})}},978574:function(e,n,t){t.d(n,{$:function(){return r},v:function(){return i}});var r=50,i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},813452:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(401296),i=t(317861),o=t(331986),a=t(135296),l=t(861972),s=t(976534),u=t(847881);function c(){var e=(0,u.b)(),n=e.brands,t=e.brandValue,c=e.colors,d=e.domains,p=e.onSale,f=e.priceMax,g=e.priceMin,m=e.style,y=(0,i.M)(),_=(0,r.X)().cachedProductFilterOneBarModules,h=Number((0,s.Z)().filter_location);if(1===h){var v=(y||{}).filterState;return v?(0,o.Ax)(v.appliedFilters,v.models):null}if(0===h){var b=(0,a.Z)(l.Z,!0)(_.map(function(e){var n;return null===(n=e.action)||void 0===n?void 0:n.filter}).filter(Boolean));return(0,o.vJ)({brandsParam:n,brandValueParam:t,colorsParam:c,domainsParam:d,onSaleParam:p,priceMaxParam:f,priceMinParam:g,styleParam:m,unifiedFilterModels:b})}return null}},239763:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(868073),i=t(868808);function o(){return!!(0,i.mB)((0,r.TH)().search).brands}},14488:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(868073),i=t(297728),o=t(868808);function a(){var e=(0,i.F)().checkExperiment,n=(0,r.TH)();return!!(0,o.mB)(n.search).brandValue&&!!e("dweb_shopping_onebar_brand_values_filter",{dangerouslySkipActivation:!0}).anyEnabled}},942052:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(868073),i=t(297728),o=t(868808);function a(){var e=(0,i.F)().checkExperiment,n=(0,r.TH)();return!!(0,o.mB)(n.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},90230:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(297728);function i(){return(0,(0,r.F)().checkExperiment)("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},799328:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(868073),i=t(868808);function o(){return!!(0,i.mB)((0,r.TH)().search).domains}},473599:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(868073),i=t(868808);function o(){var e=(0,r.TH)();return!!(0,i.mB)(e.search).on_sale}},832442:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(868073),i=t(868808);function o(){var e=(0,r.TH)(),n=(0,i.mB)(e.search),t=n.price_max,o=n.price_min;return!!(null!=o?o:t)}},435881:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(868073),i=t(297728),o=t(868808);function a(){var e=(0,i.F)().checkExperiment,n=(0,r.TH)();return!!(0,o.mB)(n.search).style&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},331986:function(e,n,t){t.d(n,{Ak:function(){return C},Ax:function(){return A},B1:function(){return S},LG:function(){return D},P5:function(){return I},UP:function(){return R},Uv:function(){return x},a$:function(){return v},eF:function(){return L},i7:function(){return w},iP:function(){return P},nZ:function(){return h},ph:function(){return b},rc:function(){return T},tx:function(){return k},vJ:function(){return O}});var r=t(978574),i=t(785220),o=t(663641);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||u(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=u(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function u(e,n){if(e){if("string"==typeof e)return c(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){f(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e,n,t){var r;return(r=function(e,n){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==g(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e){return e.map(function(e){var n=e.filter_component_type,t=e.filter_options,r=e.title;return{filter_component_type:n,filter_options:null==t?void 0:t.map(function(e){return{id:e.id,label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:r}})},y=function(e,n){if(!e&&!n)return!1;if(!e||!n)return!0;if("single"===e.type&&"single"===n.type)return e.selectedOptionId!==n.selectedOptionId;if("multi"===e.type&&"multi"===n.type)return!(0,i.ZP)(e.selectedOptionIds,n.selectedOptionIds);if("range"===e.type&&"range"===n.type)return!(e.min===n.min&&e.max===n.max);throw Error("Filter type specific return must be specified")},_=function(e){return!e||!Object.keys(e).length},h=function(e,n){if(_(e)&&_(n))return!1;if(_(e)||_(n)||e&&n&&Object.entries(e).length!==Object.entries(n).length)return!0;for(var t in e)if(y(e[t],null==n?void 0:n[t]))return!0;return!1},v=function(e,n){return!(0,i.ZP)(m(e),m(n))},b=function(e,n){if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type){var t,r;return!!(null!=n&&n.filter_options)&&e.min===(null===(t=n.filter_options[0])||void 0===t?void 0:t.numeric_value)&&e.max===(null===(r=n.filter_options[2])||void 0===r?void 0:r.numeric_value)}throw Error("Filter type specific return must be specified")},S=function(e,n){try{for(var t in e){var r=function(t){var r=e[t],i=n.find(function(e){return e.id===(null==r?void 0:r.id)});if(r&&!b(r,i))return{v:!1}}(t);if("object"===g(r))return r.v}return!0}catch(e){return!0}},x=function(e,n){if(!n||0===n.length)return!1;var t,r=n[0];if(!r)return!1;switch(null==r?void 0:r.filter_component_type){case 2:var i=null===(t=r.filter_options)||void 0===t?void 0:t[0];for(var o in e){var a=e[o];if(!a)break;if("selectedOptionId"in a&&a.selectedOptionId===(null==i?void 0:i.id))return!0}return!1;case 1:for(var l in e){var s=e[l];if(!s)break;if(s.id===r.id&&"selectedOptionIds"in s&&0===s.selectedOptionIds.size)return!0}return!1;default:return!1}},P=function(e){return e.map(function(e){var n,t,r;switch(e.filter_component_type){case 2:var i=null===(n=e.filter_options)||void 0===n?void 0:null===(t=n.find(function(e){return e.is_selected}))||void 0===t?void 0:t.id;return i?{selectedOptionId:i,id:e.id,type:"single"}:null;case 1:var o=null===(r=e.filter_options)||void 0===r?void 0:r.filter(function(e){return e.is_selected}).map(function(e){return e.id});return o&&o.length>0?{selectedOptionIds:new Set(o),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,n){return n?p(p({},e),{},f({},n.id,n)):e},{})},I=function(e){if(!e||0===e.length)return{};var n,t,r=e[0];switch(null==r?void 0:r.filter_component_type){case 2:var i=null===(n=r.filter_options)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.id;return i&&"string"==typeof r.id?f({},r.id,{selectedOptionId:i,lastChangedLocation:1,id:r.id,type:"single"}):{};case 1:return"string"==typeof r.id?f({},r.id,{selectedOptionIds:new Set,lastChangedLocation:1,id:r.id,type:"multi"}):{};default:return{}}},E=function(e){return e.map(function(e){var n=e.filter_id,t=e.filter_options,r=e.product_filter_type,i=n;return"number"==typeof r&&(i+="_".concat(r)),t.length>0&&(i+=":",t.forEach(function(e,n){var r=e.filter_option_id,o=e.numeric_value,a=e.string_value,l=e.unit;i+="".concat(r),"number"==typeof o&&(i+="_".concat(o)),"string"==typeof a&&(i+="_".concat(a)),"string"==typeof l&&(i+="_".concat(l)),n<t.length-1&&(i+=",")})),i}).join("|")},w=function(e){var n,t=e.brands,r=e.brandValue,i=e.colors,a=e.domains,u=e.onSale,c=e.priceMax,d=e.priceMin,p=e.scope,f=e.style,g=e.unifiedFilterModels,m={},y=s(g);try{for(y.s();!(n=y.n()).done;)!function(){var e=n.value,s=e.filter_options,g=e.id,y=e.product_filter_type;if(g&&null!=s&&s.length){if(1===y&&("number"==typeof d||"number"==typeof c)){var _,h,v,b,S=l(s,4),x=S[0],P=S[1],I=S[2],E=S[3],w=null!==(_=null!==(h=null!=d?d:null==I?void 0:I.numeric_value)&&void 0!==h?h:null==x?void 0:x.numeric_value)&&void 0!==_?_:0,O=null!==(v=null!==(b=null!=c?c:null==E?void 0:E.numeric_value)&&void 0!==b?b:null==P?void 0:P.numeric_value)&&void 0!==v?v:100;m[g]={min:w,max:O,id:g,type:"range",lastChangedLocation:1}}if(0===y&&a&&a.length>0){var T=a.map(function(e){var n=s.find(function(n){return n.string_value===e});return n?n.id:null}).filter(Boolean);T.length>0&&(m[g]={id:g,lastChangedLocation:1,selectedOptionIds:new Set(T),type:"multi"})}if(3===y&&t&&t.length>0){var A=t.map(function(e){var n=s.find(function(n){return n.string_value===e});return n?n.id:null}).filter(Boolean);A.length>0&&(m[g]={id:g,lastChangedLocation:1,selectedOptionIds:new Set(A),type:"multi"})}if(6===y&&i&&i.length>0){var j=i.map(function(e){var n=s.find(function(n){return n.string_value===e});return n?n.id:null}).filter(Boolean);j.length>0&&(m[g]={id:g,lastChangedLocation:1,selectedOptionIds:new Set(j),type:"multi"})}if(10===y&&f){var k=s.find(function(e){return e.string_value===f});null!=k&&k.id&&(m[g]={id:g,lastChangedLocation:1,selectedOptionId:k.id,type:"single"})}if(12===y&&r){var D=s.find(function(e){var n=e.string_value;return(null==n?void 0:n.toLowerCase())===r.toLowerCase()});null!=D&&D.id&&(m[g]={id:g,lastChangedLocation:1,selectedOptionId:D.id,type:"single"})}if(4===y&&p){var C=(0,o.gi)(p),R=s.find(function(e){return e.search_type===C});null!=R&&R.id&&(m[g]={id:g,lastChangedLocation:1,selectedOptionId:R.id,type:"single"})}if("number"==typeof y&&new Set([7,8,9]).has(y)&&u){var L,N=null===(L=s[0])||void 0===L?void 0:L.id;N&&(m[g]={id:g,lastChangedLocation:1,selectedOptionId:N,type:"single"})}}}()}catch(e){y.e(e)}finally{y.f()}return m},O=function(e){var n,t,r,i,o=e.brandsParam,a=e.brandValueParam,l=e.colorsParam,u=e.domainsParam,c=e.onSaleParam,d=e.priceMaxParam,p=e.priceMinParam,f=e.styleParam,g=e.unifiedFilterModels,m=[],y=Number(p),_=Number(d),h=Number.isNaN(y)?void 0:y,v=Number.isNaN(_)?void 0:_,b=null!==(n=null==u?void 0:u.split(",").filter(Boolean))&&void 0!==n?n:[],S=null!==(t=null==o?void 0:o.split(",").filter(Boolean))&&void 0!==t?t:[],x=null!==(r=null==l?void 0:l.split(",").filter(Boolean))&&void 0!==r?r:[],P=s(g);try{for(P.s();!(i=P.n()).done;)!function(){var e=i.value,n=e.filter_options,t=e.id,r=e.product_filter_type;if(t&&null!=n&&n.length){if(1===r&&"number"==typeof h&&"number"==typeof v){var o={filter_id:t,filter_options:n.slice(0,2).filter(function(e){return void 0!==e.id}).map(function(e,n){return{filter_option_id:e.id,numeric_value:0===n?h:v,unit:e.unit||"USD"}}),location:0,product_filter_type:r};m.push(o)}if(0===r&&b&&b.length>0){var l=b.map(function(e){var t=n.find(function(n){return n.string_value===e});return t?t.id:null}).filter(Boolean);if(l.length>0){var s={filter_id:t,filter_options:l.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};m.push(s)}}if(3===r&&S&&S.length>0){var u=S.map(function(e){var t=n.find(function(n){return n.string_value===e});return t?t.id:null}).filter(Boolean);if(u.length>0){var d={filter_id:t,filter_options:u.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};m.push(d)}}if(6===r&&x&&x.length>0){var p=x.map(function(e){var t=n.find(function(n){var t;return(null===(t=n.string_value)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()});return t?t.id:null}).filter(Boolean);if(p.length>0){var g={filter_id:t,filter_options:p.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};m.push(g)}}if(10===r&&f){var y=n.find(function(e){var n;return(null===(n=e.string_value)||void 0===n?void 0:n.toLowerCase())===f.toLowerCase()});if(null!=y&&y.id){var _={filter_id:t,filter_options:[{filter_option_id:y.id,string_value:y.id}],location:0,product_filter_type:r};m.push(_)}}if(12===r&&a){var P=n.find(function(e){var n;return(null===(n=e.string_value)||void 0===n?void 0:n.toLowerCase())===a.toLowerCase()});if(null!=P&&P.id){var I={filter_id:t,filter_options:[{filter_option_id:P.id,string_value:P.id}],location:0,product_filter_type:r};m.push(I)}}if(7===r&&c){var E,w=null===(E=n[0])||void 0===E?void 0:E.id;if(w){var O={filter_id:t,filter_options:[{filter_option_id:w,numeric_value:Number(c)}],location:0,product_filter_type:r};m.push(O)}}}}()}catch(e){P.e(e)}finally{P.f()}return 0===m.length?null:E(m)},T=function(e){var n,t=e.filterMap,r=e.isInWebHundredPercentProductLoadExp,i=e.models,a=null,l=null,s=null,u=!1,c=null,d=null,p=null,f=null,g=null,m=null;for(var y in t)!function(e){var n=t[e];if(n){var y=i.find(function(e){return e.id===n.id});if(y){if("range"===n.type&&1===y.product_filter_type)p=n.min,d=n.max;else if("multi"===n.type&&0===y.product_filter_type){var _,h,v,b=null===(v=y.filter_options)||void 0===v?void 0:v.filter(function(e){return n.selectedOptionIds.has(e.id||"")});c=null==b?void 0:b.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===n.type&&3===y.product_filter_type){var S,x=null===(S=y.filter_options)||void 0===S?void 0:S.filter(function(e){return n.selectedOptionIds.has(e.id||"")});a=null==x?void 0:x.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===n.type&&6===y.product_filter_type){var P,I=null===(P=y.filter_options)||void 0===P?void 0:P.filter(function(e){return n.selectedOptionIds.has(e.id||"")});s=null==I?void 0:I.map(function(e){return e.string_value}).filter(Boolean)}else if("single"===n.type&&10===y.product_filter_type){var E,w=null===(E=y.filter_options)||void 0===E?void 0:E.find(function(e){return n.selectedOptionId===e.id});w&&(m=w.id)}else if("single"===n.type&&12===y.product_filter_type){var O,T=null===(O=y.filter_options)||void 0===O?void 0:O.find(function(e){return n.selectedOptionId===e.id});T&&(l=T.id)}else if("single"===n.type&&4===y.product_filter_type){var A,j=null===(A=y.filter_options)||void 0===A?void 0:A.find(function(e){return n.selectedOptionId===e.id}),k=j&&void 0!==j.search_type?(0,o.zh)(j.search_type):o.lw.PINS;g=k,r&&(g=k===o.lw.PINS_BUYABLE?o.lw.PINS:k,u=k===o.lw.PINS_BUYABLE)}else"single"===n.type&&7===y.product_filter_type&&(f=null===(_=y.filter_options)||void 0===_?void 0:null===(h=_[0])||void 0===h?void 0:h.numeric_value)}}}(y);var _=i.find(function(e){return 4===e.product_filter_type}),h=null==_?void 0:null===(n=_.filter_options)||void 0===n?void 0:n.find(function(e){return e.is_selected});return null===g&&"number"==typeof(null==h?void 0:h.search_type)&&(g=(0,o.zh)(h.search_type)),{brands:a,brand_value:l,colors:s,commerce_only:u,domains:c,max:d,min:p,on_sale:f,scope:g,style:m}},A=function(e,n){var t=[];return(Object.entries(e).forEach(function(e){var r=l(e,2),i=r[0],o=r[1],a=n.find(function(e){return e.id===o.id});if(a&&4!==a.product_filter_type&&"number"==typeof a.product_filter_type&&a.filter_options){var s=[];if("range"===o.type){var u=l(a.filter_options,2),c=u[0],d=u[1];if(!(null!=c&&c.id)||!(null!=d&&d.id))return;s=[{filter_option_id:c.id,numeric_value:o.min,unit:c.unit},{filter_option_id:d.id,numeric_value:o.max,unit:d.unit}]}if("single"===o.type){var p=a.filter_options.find(function(e){return e.id===o.selectedOptionId});if(!(null!=p&&p.id))return;s=[{filter_option_id:p.id,numeric_value:p.numeric_value,string_value:p.string_value}]}if("multi"===o.type){var f=a.filter_options.filter(function(e){return e.id&&o.selectedOptionIds.has(e.id)});if(0===f.length)return;s=f.filter(function(e){return void 0!==e.id}).map(function(e){return{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}})}t.push({filter_id:i,filter_options:s,location:o.lastChangedLocation,product_filter_type:a.product_filter_type})}}),t&&0!==t.length)?E(t):null},j=function(e){var n=e.map(function(e){if(!e)return null;var n=e.auxData,t=e.id,r=e.imageUrl,i=e.isVerified,o=e.label,l=e.numericValue,s=e.searchType,u=e.stringValue,c=e.unit,d=e.rules;return null===r||null===r||null===l||null===i||null===u||null===c?null:p(p(p({id:t||"",label:o||"",count:0,image_url:r,is_verified:i,numeric_value:l},d?{rules:a(d)}:{}),"number"==typeof s?{search_type:s}:{}),{},{string_value:u,unit:c},"string"==typeof(null==n?void 0:n.moduleId)?{aux_data:{module_id:n.moduleId}}:{})}).filter(Boolean);return n.length>0?n:null},k=function(e){var n=e.action||{},t=n.filter,r=n.title,i=(t||{}).title,o=r||i;if(!t||!o)return null;var l=t.filterComponentType,s=t.productFilterType,u=t.id,c=(t.filterOptions||[]).filter(Boolean);if(void 0===l||void 0===c||0===c.length||null==s||null==u)return null;var d=j(c);return d?{filter_component_type:l,filter_options:a(d),id:u||"",product_filter_type:s,title:o}:null};function D(e,n,t){var i,o,a,s=l(t,4),u=s[0],c=s[1],d=s[2],p=s[3],f=(null!==(i=null!=p?p:u)&&void 0!==i?i:{}).numeric_value,g=void 0===f?0:f,m=(null!==(o=null!=d?d:c)&&void 0!==o?o:{}).numeric_value,y=void 0===m?g+r.$:m,_=(null!=u?u:{}).unit,h=(null===(a=e.filters[n])||void 0===a?void 0:a.type)==="range"?e.filters[n]:{min:g,max:y,id:n,type:"range",lastChangedLocation:1};return{defaultMax:y,defaultMin:g,unit:void 0===_?"USD":_,range:h}}function C(e){return"multi"!==e.type?e:p(p({},e),{},{selectedOptionIds:new Set})}function R(e,n){var t=[];return Object.entries(n).forEach(function(n){var r=l(n,2),i=r[0],o=r[1],s=e.find(function(e){return(null==e?void 0:e.id)===i});if(s){var u,c=null===(u=s.aux_data)||void 0===u?void 0:u.module_id;c&&t.push(c);var d=("multi"===o.type?Array.from(o.selectedOptionIds):"single"===o.type?[o.selectedOptionId]:[]).map(function(e){var n,t,r=null===(n=s.filter_options)||void 0===n?void 0:n.find(function(n){return n.id===e});return(null==r?void 0:null===(t=r.aux_data)||void 0===t?void 0:t.module_id)||""}).filter(Boolean);t.push.apply(t,a(d))}}),t}function L(e,n){var t=[];return Object.keys(n).forEach(function(n){var r=e.find(function(e){return(null==e?void 0:e.id)===n});if(r){var i=r.product_filter_type;i&&t.push(i)}}),t}},795264:function(e,n,t){t.d(n,{Z:function(){return o},t:function(){return i}});var r=t(545230),i=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],o=296},5629:function(e,n,t){t.d(n,{EA:function(){return u},JC:function(){return o},KC:function(){return s},Lu:function(){return r},Mz:function(){return l},TY:function(){return f},WU:function(){return p},aI:function(){return d},fp:function(){return c},jf:function(){return a},uS:function(){return i}});var r=58,i=12,o=3,a=8,l=80,s=function(e,n,t){var r=[];return(e&&n||!e&&t)&&r.push("linear-gradient(to left, #FFFFFF, rgba(255,255,255,0) 40px)"),(e&&t||!e&&n)&&r.push("linear-gradient(to right, #FFFFFF, rgba(255,255,255,0) 40px)"),r.join(",")},u=32,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{display:{backgroundColorHex:["#efefef","#292929"],displayText:e.displayText,selectedBackgroundColorHex:["#292929"],icon:3,textColorHex:["#111111","#ffffff"],selectedTextColorHex:["#ffffff"]},moduleType:0,id:""}},d=-1,p=120,f={moduleType:-1,id:""}},360307:function(e,n){var t=function(e,n){this.uid=e,this.item=n,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,n){var r=this._uidToData[e];r||(r=new t(e,n),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){var n=this._uidToData[e];return n?(this._moveToFront(n),n.item):null},r.prototype.remove=function(e){var n=this._uidToData[e];n&&(delete this._uidToData[e],this._firstData===n&&(this._firstData=n.next),this._lastData===n&&(this._lastData=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},n.Z=r},700337:function(e,n,t){t.d(n,{N:function(){return a},Z:function(){return o}});var r=t(297949),i=t(770443);function o(e){var n=e.children,t=e.fullWidth;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:n})}function a(e){var n=e.children;return e.enabled?(0,i.jsx)(o,{children:n}):n}},945960:function(e,n,t){t.d(n,{Dv:function(){return a},Kn:function(){return i},Ml:function(){return l},Oc:function(){return r},mv:function(){return o}});var r=16,i="".concat(r,"px ").concat(r,"px 0 0"),o=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},l=120},160647:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(297949),i=t(770443),o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,n,t){switch(t){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:n?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"6px":"10px",left:"26px"},2:{transform:n?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:n?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"36px":"40px",left:"68px"},2:{transform:n?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:n?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:n?"rotate(1deg)":"rotate(0deg)",top:n?"10px":"14px",left:"82px"},2:{transform:n?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,i=r[e];return i.border="1px solid #FFFFFF",i.transition="all 150ms ease-out",i};function l(e){var n,t=e.fanOut,l=e.card,s=e.index,u=e.size,c=e.rounding,d=o[u],p=l.height,f=void 0===p?d.HEIGHT_PX:p,g=l.url,m=l.width,y=void 0===m?d.WIDTH_PX:m,_=l.colorRGB,h=l.opacity;return g?n=(0,i.jsx)(r.Ee,{alt:g,fit:"cover",naturalHeight:f,naturalWidth:y,src:g}):_&&h&&(n=(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(_.join(", "),", ").concat(h,")")}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(s,t,u)},position:"absolute",rounding:null!=c?c:5,children:(0,i.jsx)(r.zd,{height:d.HEIGHT_PX,rounding:5,wash:!0,width:d.WIDTH_PX,children:n})})}},713211:function(e,n,t){function r(e){return[0,24,21,26].includes(e)}function i(e){var n=e.articleType,t=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===n?"/today/shop/".concat(r,"/").concat(t,"/"):"/discover/article/".concat(r,"/").concat(t,"/")}t.d(n,{x:function(){return i},y:function(){return r}})},656817:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(282480);function i(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function o(){return window.innerWidth}function a(){return window.innerHeight}function l(){return null}function s(){var e=(0,r.useSyncExternalStore)(i,a,l),n=(0,r.useSyncExternalStore)(i,o,l);return null!==e&&null!==n?{height:e,width:n}:null}},212515:function(e,n,t){t.d(n,{Q:function(){return d},Z:function(){return p}});var r=t(282480),i=t(488792),o=t(477058),a=t(972147),l=t(730212);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d(e,n){var t=(0,o.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,u=(0,i.Z)(),d=(0,o.SU)().viewData;(0,r.useEffect)(function(){if(e){var n;t({viewType:null!==(n=e.view_type)&&void 0!==n?n:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(c(c({},e),{},{event_type:13,request_identifier:s}))}},[n])}function p(e){var n=e.children;return d(e.log),n||null}},455699:function(e,n){n.Z=function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}},39260:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(297728),i=t(730212),o=t(855746);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e){var n,t,a,l,u,c,d,p,f=(0,i.B)().isAuthenticated,g=(t=(n={experimentsClient:(0,r.F)(),handlerId:(0,o.MM)(),isAuthenticated:f,skipActivation:null!==(p=null==e?void 0:e.skipActivation)&&void 0!==p&&p}).experimentsClient,a=n.handlerId,l=n.isAuthenticated,u=n.skipActivation,(d=(c=t.checkExperiment)(l?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:u})).group?s({expName:l?"web_masonry_v2_auth":"web_masonry_v2_unauth"},d):"www/[username]/[slug].js"!==a||l?"www/pin/[id].js"!==a||l?{expName:"",anyEnabled:!1,group:""}:s({expName:"web_masonry_v2_unauth_pin"},c("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:u})):s({expName:"web_masonry_v2_unauth_board"},c("web_masonry_v2_unauth_board",{dangerouslySkipActivation:u}))),m=g.expName,y=g.anyEnabled,_=g.group;return{expName:m,anyEnabled:y,group:_,isMeasureAllEnabled:"enabled_measure_all"===_||"enabled_measure_all_impression_fix"===_,isImpressionFixEnabled:"control_impression_fix"===_||"enabled_impression_fix"===_||"enabled_measure_all_impression_fix"===_}}},740227:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){return e.reduce(function(e,t){var r="function"==typeof n?n(t):t[n];return r in e||(e[r]=[]),e[r].push(t),e},{})}},936437:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(967232),i=t(144326),o=t(240760);function a(){var e=(0,i.ZP)();return function(n,t){var i=new Date(n).getTime(),a=Date.now()-i,l=Math.floor(a/r.FS),s=Math.floor(a/r.UK),u=Math.floor(a/r.F4),c=Math.floor(a/r.VL),d=Math.floor(a/r.N9),p=Math.floor(a/r.N1),f=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),g=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', u, ' - ', ' -- '),y=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),_=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),h=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),b=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),S=e.ngettext('{{ days }}d', '{{ days }}d', u, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),I=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,o.nk)(t?I:h,{years:p}).join(""):d>0?(0,o.nk)(t?P:_,{months:d}).join(""):c>0?(0,o.nk)(t?x:y,{weeks:c}).join(""):u>0?(0,o.nk)(t?S:m,{days:u}).join(""):s>0?(0,o.nk)(t?b:g,{hours:s}).join(""):l>0?(0,o.nk)(t?v:f,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},590338:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(144326),i=t(207630);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var s=function(e,n){var t=n||0,r=Math.pow(10,t),i=+(t?e*r:e).toFixed(8),o=Math.floor(i),a=i-o,l=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(i);return t?l/r:l},u=function(e){var n=e.maximumFractionDigits,t=e.minimumFractionDigits,r=e.style,i=e.currency,o={maximumFractionDigits:n,minimumFractionDigits:t};return r?l(l({},o),{},{style:r},"currency"===r?{currency:i,currencyDisplay:"symbol"}:{}):o},c=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0},d=function(e,n){if(n){var t=new Intl.NumberFormat(e,{style:"currency",currency:n}).resolvedOptions(),r=t.minimumFractionDigits,i=t.maximumFractionDigits;if(void 0!==r&&void 0!==i)return{minimumFractionDigits:r,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function p(){var e=(0,r.ZP)();return function(n,t,r){var o=0,a=0,l=r&&r.style||void 0,p=r&&r.shortform||!1,f=r&&r.uplimit||void 0,g=r&&r.currency||void 0,m=!!f&&t>=f,y=f&&m?f:t;if("currency"===l){var _=d(n,g),h=_.minimumFractionDigits,v=_.maximumFractionDigits;o=void 0===r||void 0===r.maximum_fraction_digits?v:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?h:r.minimum_fraction_digits}else o=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(p&&y>999&&(o=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,a=0),o<a)return String(y);var b=y,S="",x=[{"100m":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],P=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],I=/^zh|ja|ko/.test(n);if(p&&y>999)for(var E=I?x:P,w=0;w<E.length;w+=1){var O=Object.keys(E[w])[0],T=E[w][O].value;if(y>=T){b=s(y/T*Math.pow(10,o))/Math.pow(10,o),S=E[w][O].localeKey;break}}if(null==b)return"";var A=b.toLocaleString([c(n)&&"ar-SA"!==n?n:"en-US"],u({maximumFractionDigits:o,minimumFractionDigits:a,currency:g,style:l}));return S&&S.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:A,numberSuffix:S})+(m?"+":""):A+(m?"+":"")}}},788388:function(e,n,t){t.d(n,{F:function(){return x},Z:function(){return S}});var r=t(282480),i=t(829196),o=t(118755),a=t(573706),l=t(39260),s=t(635284),u=t(730212),c=t(410150),d=t(644797),p=t(243583),f=t(415787),g=t(855746),m=["children"];function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){v(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function v(e,n,t){var r;return(r=function(e,n){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==y(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function S(e){var n=e.carouselData,t=e.closeupImpressionType,m=e.closeupNavigationType,y=e.componentType,_=e.contextLogData,S=e.clientTrackingParams,x=e.duploShouldTrackPinEvents,P=e.elementType,I=e.impressionAuxFields,E=e.inImpressionExp,w=e.impressionType,O=e.impressionsFramework,T=e.isPaused,A=e.loggingId,j=e.objectIdStr,k=e.slotIndex,D=e.trackCarousel,C=e.viewData,R=e.viewParameter,L=e.viewType,N=e.isPromoted,M=e.storyPinProductEventData,F=(0,a.v)().logContextEvent,U=(0,d.r)().logMrcVideoAdEventOnPlay,z=(0,u.B)().userAgent.browserName,B=(0,p.Yg)().logStat,Z=O||s.Z,H=(0,r.useRef)(null),K=(0,r.useRef)(function(e){});K.current=function(e){var r,a,l,s,u,c,d,p,f=b[w],g=f.idType,E=h(h((v(O={clientTrackingParams:S,endTime:e.endTime},g,A),v(O,"slotIndex",k),v(O,"time",e.startTime),v(O,"renderDuration",e.endTime-e.startTime),v(O,"type",t),O),I),{},{forcedExit:"removed"===e.forcedExit?0:void 0});if("Pin"===w){var O,T,N,Z=[],H=e.visibleEvents||new Map,K=e.hiddenEvents||new Map;if([1,50,80,2].forEach(function(e){H.has(e)&&Z.push({type:e,time:1e6*(H.get(e)||0),visible:!0}),K.has(e)&&Z.push({type:e,time:1e6*(K.get(e)||0),visible:!1})}),E=h(h({},E),{},{pinCellWidth:e.pinCellWidth||0,pinCellHeight:e.pinCellHeight||0,windowWidth:null===(T=window)||void 0===T?void 0:T.innerWidth,windowHeight:null===(N=window)||void 0===N?void 0:N.innerHeight,visibleEvents:Z.sort(function(e,n){return e.time-n.time})}),(0,o.i7)(z)&&I&&I.isPromoted){var G=I.attributionSourceId,V=I.isPromoted,W=I.link,Y=I.campaignId,q=I.araAuxData,X=I.advertiserId,Q=I.domain,$=I.adDestinationUrl;(0,i.YS)(w,null!=V?V:null,null!=G?G:null,null!=W?W:null,null!=Y?Y:null,null!=q?q:null,null!=X?X:null,null!=Q?Q:null,null!=$?$:null)}}var J={component:y,object_id_str:j,view_type:L,view_data:C||{},view_parameter:R};if(D)n&&D&&F(h(h({event_type:7352,event_data:{pinCarouselSlotImpressions:[h(h({},E),"canonical"===n.type?{carouselDataId:Number(null!==(r=n.carouselId)&&void 0!==r?r:0),slotIndex:n.index,carouselSlotId:(null===(a=n.carouselSlots)||void 0===a?void 0:a[null!==(l=n.index)&&void 0!==l?l:0])&&Number(n.carouselSlots[null!==(s=n.index)&&void 0!==s?s:0].slotId)}:{carouselDataId:Number(null!==(u=n.id)&&void 0!==u?u:0),carouselSlotId:(null===(c=n.carousel_slots)||void 0===c?void 0:c[null!==(d=n.index)&&void 0!==d?d:0])&&Number(n.carousel_slots[null!==(p=n.index)&&void 0!==p?p:0].id),slotIndex:n.index})]}},J),{},{aux_data:h({},_)}));else{var ee=h(h({clientTrackingParams:S,event_type:f.eventType},J),{},{element:P,event_data:h(v({},f.impressionType,"Story"===w?E:[E]),M?{storyPinProductEventData:M}:{}),aux_data:h({closeup_navigation_type:m},_)});F(ee),U(ee)}x&&B("log_pin_impression")};var G=(0,l.Z)({skipActivation:!0}),V=G.expName,W=G.group,Y=(0,c.ZP)(),q=(0,g.MM)(),X=(0,u.B)().isAuthenticated,Q=(0,r.useCallback)(function(){var e=!1;try{var n=H.current;if(n instanceof HTMLElement&&(!N||n.getElementsByTagName("img").length>0)){var t=Z.start(n);t.onExitViewport(K.current).setDebugId(A||"unknown"),x&&t.onEnterViewport(function(){B("log_pin_impression_track_enter_viewport")}),e=!0,W&&(0,f.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:Y,experimentName:V,group:W,handlerId:q,isAuthenticated:X,slotIndex:null!=k?k:"unknown"}})}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}x&&B("log_pin_impression_track",{didStartTracking:e})},[H.current]);return(0,r.useEffect)(function(){return E&&!Z.inExperiment&&Z.setExperimentStatus(!0),T||Q(),function(){var e=H.current;e instanceof HTMLElement&&(!N||e.getElementsByTagName("img").length>0)&&Z.stop(e)}},[T,Q]),H}var x=function(e){return(0,e.children)({impressionTrackerRef:S(function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.includes(t)||({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,m))})}},766546:function(e,n,t){var r=t(282480);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,n,t){return(n=c(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}var d=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&o(e,n)}(p,e);var n,t,d=(n=l(),function(){var e,t=s(p);return e=n?Reflect.construct(t,arguments,s(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==i(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function p(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return u(a(e=d.call.apply(d,[this].concat(t))),"ref",(0,r.createRef)()),u(a(e),"observer",null),u(a(e),"handleVisibilityChanged",function(n,t){e.props.onVisibilityChange(n,t)}),e}return t=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(p.prototype,t),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component);n.Z=d},899544:function(e,n,t){t.d(n,{Z:function(){return r}});function r(){window&&window.focus(),document.activeElement&&document.activeElement.blur()}},363889:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(282480);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function l(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function c(e){var n,i,o=e.animationData,u=e.autoplay,c=e.initialSegment,d=e.loop,p=e.onComplete,f=e.onConfigReady,g=e.onDataFailed,m=e.onDataReady,y=e.onDestroy,_=e.onDOMLoaded,h=e.onEnterFrame,v=e.onLoadedImages,b=e.onLoopComplete,S=e.onSegmentStart,x=s((0,r.useState)(null),2),P=x[0],I=x[1],E=s((0,r.useState)(!1),2),w=E[0],O=E[1],T=(0,r.useRef)(null),A=(0,r.useRef)(null),j=(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(73349).then(t.t.bind(t,773349,23));case 2:I(e.sent);case 4:case"end":return e.stop()}},e)}),i=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)});return(0,r.useEffect)(function(){j()},[]),(0,r.useEffect)(function(){if(A.current&&P){null===(n=T.current)||void 0===n||n.destroy();var n,t=a(a({},e),{},{container:A.current});T.current=P.loadAnimation(t),O(!!T.current)}},[A,T,o,P,e]),(0,r.useEffect)(function(){T.current&&(T.current.loop=!!d,d&&T.current.isPaused&&T.current.play())},[d]),(0,r.useEffect)(function(){T.current&&(T.current.autoplay=!!u)},[u]),(0,r.useEffect)(function(){if(T.current){if(!c){T.current.resetSegments(!1);return}Array.isArray(c)&&c.length&&((T.current.currentRawFrame<c[0]||T.current.currentRawFrame>c[1])&&(T.current.currentRawFrame=c[0]),T.current.setSegment(c[0],c[1]))}},[c]),(0,r.useEffect)(function(){var e=[{name:"complete",handler:p},{name:"loopComplete",handler:b},{name:"enterFrame",handler:h},{name:"segmentStart",handler:S},{name:"config_ready",handler:f},{name:"data_ready",handler:m},{name:"data_failed",handler:g},{name:"loaded_images",handler:v},{name:"DOMLoaded",handler:_},{name:"destroy",handler:y}].filter(function(e){return null!=e.handler});return function(){e.length&&e.map(function(e){var n;return null===(n=T.current)||void 0===n||n.addEventListener(e.name,e.handler),function(){var n;null===(n=T.current)||void 0===n||n.removeEventListener(e.name,e.handler)}}).forEach(function(e){return e()})}},[p,b,h,S,f,m,g,v,_,y]),{animationContainerRef:A,play:function(){var e;null===(e=T.current)||void 0===e||e.play()},stop:function(){var e;null===(e=T.current)||void 0===e||e.stop()},pause:function(){var e;null===(e=T.current)||void 0===e||e.pause()},setSpeed:function(e){var n;null===(n=T.current)||void 0===n||n.setSpeed(e)},goToAndStop:function(e,n){var t;null===(t=T.current)||void 0===t||t.goToAndStop(e,n)},goToAndPlay:function(e,n){var t;null===(t=T.current)||void 0===t||t.goToAndPlay(e,n)},setDirection:function(e){var n;null===(n=T.current)||void 0===n||n.setDirection(e)},playSegments:function(e,n){var t;null===(t=T.current)||void 0===t||t.playSegments(e,n)},setSubframe:function(e){var n;null===(n=T.current)||void 0===n||n.setSubframe(e)},getDuration:function(e){var n;return null===(n=T.current)||void 0===n?void 0:n.getDuration(e)},destroy:function(){var e;null===(e=T.current)||void 0===e||e.destroy()},animationLoaded:w,animationItem:T.current}}},864183:function(e,n,t){t.d(n,{J:function(){return i},e:function(){return r}});var r=new(t(297949)).Ry(1),i=12},674944:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(297949),i=t(793874),o=t(144326),a=t(864183),l=t(770443);function s(e){var n=e.text,t=e.icon,s=e.inPinRep,u=(0,o.ZP)(),c=(0,i.vs)();return(0,l.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:c?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",height:24,left:s,margin:2,overflow:"hidden",padding:2,position:"absolute",rounding:"pill",top:!0,zIndex:a.e,children:[t&&(0,l.jsx)(r.xu,{marginEnd:1,children:(0,l.jsx)(r.JO,{accessibilityLabel:u._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:t,inline:!0,size:a.J})}),(0,l.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:n})]})}},994964:function(e,n,t){var r=t(868808);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n,t){return(n=a(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}var l={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var n=e.user;return!!(null!=n&&n.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0}},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinAltText:{authOnly:!0,experiment:"web_idea_pin_creation_alt_text",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}},s=new(function(){var e;function n(){!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,n),o(this,"_experiments",null),o(this,"_viewer",null),o(this,"_advertiser",null),o(this,"_scenario",null),o(this,"_language",null),o(this,"_context",null),o(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var n=e.requestContext,t=e.viewer,i=e.location,o=e.advertiser,a=e.scenario,l=e.orbacActingAs;this._context=e,this._experiments=n.experimentsClient,this._language=n.language,this._viewer=t,this._advertiser=o,this._orbacActingAs=l;var s=(0,r.mB)(i.search).adCreate;a?this._scenario=a:s?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var n,t=l[e],r=t.advertisers,i=t.authOnly,o=t.customEnabledCheck,a=t.experiment,s=t.groups,u=t.hasCustomEnabledCheck,c=t.languages,d=t.orbacDisabled,p=t.partnerOnly,f=t.scenarios,g=t.skipActivation;return(null===(n=this._orbacActingAs)||void 0===n||!n.id||this._orbacActingAs.id===this._viewer.id||!d)&&(u&&o&&this._context&&u(this._context)?!!this._context&&o(this._context):g&&this._experiments?!!a&&this.checkExperimentWithSkipActivation(e):!!r&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!p||!!this._viewer.isPartner)&&(!f||!!f.includes(this._scenario))&&(!c||!!c.includes(this._language))&&(!a||(void 0===s?/.*/:s).test(this.getExperimentGroup(e)||"")))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var n,t,r,i,o,a,l,s,u,c=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!==(n=c("disable_pin_creation").group)&&void 0!==n?n:null;case"disabledPinCreation":return null!==(t=c("disable_pin_creation").group)&&void 0!==t?t:null;case"disabledVideoPinCreation":return null!==(r=c("disable_pin_creation").group)&&void 0!==r?r:null;case"imageSignals":return null!==(i=c("pin_quality_signal_image").group)&&void 0!==i?i:null;case"tagging":return null!==(o=c("web_pin_builder_tagging").group)&&void 0!==o?o:null;case"videoEditing":return null!==(a=c("video_edit").group)&&void 0!==a?a:null;case"ideaPinProductTagging":return null!==(l=c("web_idea_pin_product_tagging").group)&&void 0!==l?l:null;case"ideaPinAltText":return null!==(s=c("web_idea_pin_creation_alt_text").group)&&void 0!==s?s:null;case"pinItemBase64":return null!==(u=c("aid_exp_pin_builder_item_base64").group)&&void 0!==u?u:null;default:return null}}},{key:"checkExperimentWithSkipActivation",value:function(e){if(!this._viewer||!this._experiments)return!1;var n,t,r,i,o,a,l=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!==(n=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&void 0!==n&&n;case"disabledPinCreation":return null!==(t=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&void 0!==t&&t;case"disabledVideoPinCreation":return null!==(r=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&void 0!==r&&r;case"imageSignals":return null!==(i=l("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled)&&void 0!==i&&i;case"tagging":return null!==(o=l("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled)&&void 0!==o&&o;case"videoEditing":return null!==(a=l("video_edit",{dangerouslySkipActivation:!0}).anyEnabled)&&void 0!==a&&a;default:return!1}}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}());n.Z=s},504178:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(282480),i=t(498490),o=t(248750),a=t(845729),l=t(353168),s=t(69118),u=t(294726),c=t(348595),d=t(192307),p=t(920301),f=t(914495),g=t(142921),m=t(537567),y=t(399022),_=t(147921),h=t(671481);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){if(e){if("string"==typeof e)return x(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,n):void 0}}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach(function(n){E(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function E(e,n,t){var r;return(r=function(e,n){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"==v(r)?r:r+"")in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var w=(0,a.XV)("PwtStopwatch"),O=function(e,n){if(h.Z){if("start"===n.type&&!e.isTiming){var t=n.name,r=n.startTime,i=n.navigationType;return(0,o.A9)("TIMING.".concat(t)),{isTiming:!0,name:t,isSampled:n.isSampled,startTime:"number"==typeof r?r:h.Z.now(),metricId:{type:"stopwatch",name:t,navigationType:i},pwtStaticContext:n.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(n.bypassIsTimingCheck)w("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",n);else{var a=n.name||e.name;return w("ignoring action - stopwatch is not actively timing",n),(0,o.A9)("WARN.".concat(a,".noTiming.").concat(n.type)),e}}if("annotate"===n.type){var g=h.Z.now();return w("adding annotation {".concat(n.label,": ").concat(g,"}")),I(I({},e),{},{annotations:e.annotations.concat([{label:n.label,timestamp:g}])})}if("binaryAnnotate"===n.type)return w("adding binary annotation {".concat(n.name,": ").concat(String(n.value),"}")),I(I({},e),{},{binaryAnnotations:I(I({},e.binaryAnnotations),E({},n.name,{value:n.value,type:n.annotationType}))});if("binaryAnnotateOperation"===n.type){var y=n.binaryAnnotationValueAndType,v=y.value,S=y.type;if(!e.binaryAnnotations[n.name])return I(I({},e),{},{binaryAnnotations:I(I({},e.binaryAnnotations),E({},n.name,{value:v,type:S}))});var x=e.binaryAnnotations[n.name].value||0;return w("operating on binary annotation {\n          name: ".concat(n.name,"\n          pervious value: ").concat(String(x),"\n          operand: ").concat(String(v),"\n        }")),I(I({},e),{},{binaryAnnotations:I(I({},e.binaryAnnotations),E({},n.name,{value:v?n.operation(x,v):x,type:S}))})}if("addSubspan"===n.type){w("adding subspan {".concat(n.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===n.name})&&w("WARNING: adding duplicate subspan name {".concat(n.name,"}"));var P=n.id||(0,_.Z)();-1!==e.spans.findIndex(function(e){return e.id===P})&&w("WARNING: adding duplicate subspan id {".concat(n.name,": ").concat(P,"}"));var O=0;return n.startTime?O=n.startTime:e.startTime?O=e.startTime:w("WARNING: adding subspan {".concat(n.name,"} without start time")),I(I({},e),{},{spans:[].concat(b(e.spans),[{name:n.name,id:P,startTime:O,endTime:n.endTime||1/0,annotationMap:I({},n.annotations),binaryAnnotationMap:I({},n.binaryAnnotations),parentId:n.parentId}])})}if("subspanStart"===n.type){w("starting subspan {".concat(n.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===n.name})&&w("WARNING: starting duplicate subspan name {".concat(n.name,"}"));var T,A=n.id||(0,_.Z)();-1!==e.spans.findIndex(function(e){return e.id===A})&&w("WARNING: starting duplicate subspan id {".concat(n.name,": ").concat(A,"}"));var j=n.parentName?null===(T=e.spans.find(function(e){return e.name===n.parentName}))||void 0===T?void 0:T.id:null;return I(I({},e),{},{spans:[].concat(b(e.spans),[{name:n.name,id:A,parentId:n.parentId||j,startTime:h.Z.now(),endTime:1/0,annotationMap:I({},n.annotations),binaryAnnotationMap:I({},n.binaryAnnotations)}])})}if("subspanStop"===n.type){w("stopping subspan {".concat(n.name,"}")),!n.id&&e.spans.filter(function(e){return e.name===n.name}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:n.name,type:n.type});var k=n.id?e.spans.findIndex(function(e){return e.id===n.id}):e.spans.findIndex(function(e){return e.name===n.name});return k>-1?(e.spans[k].endTime=h.Z.now(),n.annotations&&(e.spans[k].annotationMap=I(I({},e.spans[k].annotationMap),n.annotations)),n.binaryAnnotations&&(e.spans[k].binaryAnnotationMap=I(I({},e.spans[k].binaryAnnotationMap),n.binaryAnnotations))):(0,o.H)("invalid_subspan_stop_name",{name:n.name}),e}if("subspanUpdateName"===n.type){e.spans.filter(function(e){return e.name===n.currentName}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:n.currentName,type:n.type});var D=e.spans.findIndex(function(e){return e.name===n.currentName});return D>-1?n.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(b(e.spanNameUpdates),[{currentName:n.currentName,newName:n.newName}]):(w("renaming subspan {".concat(n.currentName,"} to {").concat(n.newName,"}")),e.spans[D].name=n.newName):(0,o.H)("no_subspan_found_to_rename",{name:n.currentName}),e}if("stop"===n.type&&e.isTiming){var C=e.startTime,R=e.metricId,L=e.pwtStaticContext,N=e.annotations,M=e.binaryAnnotations,F=e.isSampled,U=e.spans,z=e.traceId;if(n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect(),F){var B=n.stopTime||h.Z.now(),Z=b(U.map(function(n){n.endTime===1/0&&(n.endTime=B);var t=e.spanNameUpdates.findIndex(function(e){return n.name===e.currentName});return t>-1&&(w("renaming subspan {".concat(n.name,"} to {").concat(e.spanNameUpdates[t].newName,"}")),n.name=e.spanNameUpdates[t].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==n.name})),n}));if(n.manualAndResourceSpans||0===U.length){var H=(0,_.Z)();Z.push.apply(Z,[{name:"network_resources",id:H,startTime:C,endTime:B,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(b((n.customStopwatchBuffer||[]).map(function(e){return(0,f.Z)((0,d.p)(e,[]),H)}).filter(Boolean))))}var K="initial_app_load"===R.navigationType&&(0,c.Z)(),G={type:"COMPLETE",traceId:z,startTime:C,endTime:B,spans:Z,annotationMap:I(I(I({},(0,m.Z)(N)),(0,s.jh)("browser_",K?(0,s.D3)(K):{})),(0,s.jh)("mark_",(0,l.gQ)())),binaryAnnotationMap:(0,u.ng)({metricId:R,pwtStaticContext:L,binaryAnnotations:M,performanceResourceTimings:n.customStopwatchBuffer||[],type:"COMPLETE"})};(0,p.Z)({metricId:R,pwtStaticContext:L,result:G})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,_.Z)(),spanNameUpdates:[]}}if("error"===n.type){var V=n.error,W=n.stopwatchPerformanceObserver;return V&&(0,o.H)(V),W&&W.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,_.Z)(),spanNameUpdates:[]}}if("abort"===n.type&&e.isTiming){n.stopwatchPerformanceObserver&&n.stopwatchPerformanceObserver.disconnect();var Y=n.reason||"",q=e.startTime,X=e.metricId,Q=e.pwtStaticContext,$=e.binaryAnnotations,J=e.traceId,ee={type:"ABORT",traceId:J,startTime:q,endTime:h.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,u.ng)({metricId:X,pwtStaticContext:Q,binaryAnnotations:$,performanceResourceTimings:n.customStopwatchBuffer||[],type:"ABORT"}),reason:Y};return(0,p.Z)({metricId:X,pwtStaticContext:Q,result:ee}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:J,spanNameUpdates:[]}}}return e},T=function(e){var n,t=e.name,i=e.sampleRate,o=e.navigationType,a=e.manualAndResourceSpans,l=void 0!==a&&a,s=(0,g.Z)(),u=(0,r.useRef)([]),c=(0,r.useRef)(null),d=function(e){if(Array.isArray(e))return e}(n=(0,r.useReducer)(O,{isTiming:!1,name:t,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,_.Z)(),spanNameUpdates:[]}))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||S(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],f=d[1];return s?{isTiming:p.isTiming,name:p.name,start:function(e){return window.PerformanceObserver&&(u.current=[],c.current=(0,y.Z)({entryTypes:["resource"]},function(e){u.current=u.current.concat(e.getEntries()),u.current.length>1e3&&(u.current=u.current.slice(-1e3))})),f({type:"start",startTime:e,name:t,navigationType:o,pwtStaticContext:s,isSampled:!i||Math.random()<i})},stop:function(e){return f({type:"stop",stopTime:e,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:u.current,manualAndResourceSpans:l})},error:function(e){f({type:"error",stopwatchPerformanceObserver:c.current,error:e})},abort:function(e){return f({type:"abort",stopTime:null===h.Z||void 0===h.Z?void 0:h.Z.now(),stopwatchPerformanceObserver:c.current,customStopwatchBuffer:u.current,reason:e})},annotate:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f({type:"annotate",label:e,parentId:n,bypassIsTimingCheck:t})},binaryAnnotate:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f({type:"binaryAnnotate",name:e,value:n,annotationType:t,parentId:r,bypassIsTimingCheck:i})},binaryAnnotateOperation:function(e){var n=e.name,t=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;return f({type:"binaryAnnotateOperation",name:n,binaryAnnotationValueAndType:t,operation:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var n=e.name,t=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,l=e.id,s=e.bypassIsTimingCheck;return f({type:"addSubspan",name:n,startTime:t,endTime:r,annotations:void 0===i?{}:i,binaryAnnotations:void 0===o?{}:o,parentId:void 0===a?null:a,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,l=e.bypassIsTimingCheck;return f({type:"subspanStart",name:n,annotations:void 0===t?{}:t,binaryAnnotations:void 0===r?{}:r,parentId:void 0===i?null:i,parentName:void 0===o?null:o,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;return f({type:"subspanStop",name:n,annotations:t,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var n=e.currentName,t=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;return f({type:"subspanUpdateName",currentName:n,newName:t,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===i||i})},getSpans:function(e,n){return p.spans.filter(function(t){return t[e]===n})},getTraceId:function(){return p.traceId}}:null},A=t(431771),j=t(770443),k=function(e){var n=e.name,t=e.sampleRate,a=e.abortOnUnloadOrClientNavigation,l=void 0===a||a,s=e.navigationType,u=e.manualAndResourceSpans,c=void 0!==u&&u,d=(0,i.Z)("Stopwatch_".concat(n)),p=d.Provider;return{Provider:function(e){var i=e.children,a=T({name:n,sampleRate:t,navigationType:s,manualAndResourceSpans:c}),u=(0,A.Z)(),d=u?u.time:0,f=(0,r.useRef)(!1),g=null==a?void 0:a.isTiming,m=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.abort(e)):(0,o.A9)("WARN.".concat(n,".noTiming.abort"))},[a]),y=(0,r.useCallback)(function(e,n){null==a||a.annotate(e,n)},[a]),_=(0,r.useCallback)(function(e,n,t,r){null==a||a.binaryAnnotate(e,n,t,r)},[a]),h=(0,r.useCallback)(function(e){var n=e.name,t=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;null==a||a.binaryAnnotateOperation({name:n,binaryAnnotationValueAndType:t,operation:r,parentId:i,bypassIsTimingCheck:o})},[a]),v=(0,r.useCallback)(function(e){var n=e.name,t=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,l=e.parentId,s=e.id,u=e.bypassIsTimingCheck;null==a||a.addSubspan({name:n,startTime:t,endTime:r,annotations:i,binaryAnnotations:o,parentId:l,id:s,bypassIsTimingCheck:u})},[a]),b=(0,r.useCallback)(function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,l=e.id,s=e.bypassIsTimingCheck;null==a||a.subspanStart({name:n,annotations:t,binaryAnnotations:r,parentId:i,parentName:o,id:l,bypassIsTimingCheck:s})},[a]),S=(0,r.useCallback)(function(e){var n=e.name,t=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,l=e.bypassIsTimingCheck;null==a||a.subspanStop({name:n,annotations:t,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:l})},[a]),x=(0,r.useCallback)(function(e){var n=e.currentName,t=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;null==a||a.subspanUpdateName({currentName:n,newName:t,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:i})},[a]),P=(0,r.useCallback)(function(e,n){return a?a.getSpans(e,n):[]},[a]),I=(0,r.useCallback)(function(){return a?a.getTraceId():""},[a]),E=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.error(e)):(0,o.A9)("WARN.".concat(n,".noTiming.error"))},[a]),w=(0,r.useCallback)(function(e){f.current&&(null==a||a.abort("duplicated_init_stopwatch_action")),f.current=!0,null==a||a.start(e)},[a]),O=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.stop(e)):(0,o.A9)("WARN.".concat(n,".noTiming.stop"))},[a]);(0,r.useEffect)(function(){return function(){l&&m("unloadOrClientNavigation")}},[d]);var k=(0,r.useMemo)(function(){return{name:n,isTiming:g,abort:m,addAnnotation:y,addBinaryAnnotation:_,binaryAnnotationOperation:h,addSubspan:v,subspanStart:b,subspanStop:S,getSpans:P,getTraceId:I,updateSubspanName:x,stop:O,error:E,start:w}},[g,m,y,_,h,v,b,S,P,I,x,O,E,w]);return(0,j.jsx)(p,{value:k,children:i})},useHook:d.useMaybeHook}}},431771:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(282480),i=t(791773);function o(){return(0,r.useContext)(i.Z)}},142921:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(282480),i=t(708790);function o(){return(0,r.useContext)(i.Z)}},793355:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(297949),i=t(636565),o=t(371160),a=t(770443);function l(e){var n=e.allBold,t=e.searchDelightConfig,l=e.query,s=void 0===l?"":l,u=e.text,c=(u.toLowerCase().startsWith(s.toLowerCase())?s:"").length,d=t?(0,i.pF)(u,t.search_query_list):null;return d&&t?(0,a.jsx)(i.KS,{allBold:n,searchDelightConfig:t,searchDelightParts:d,text:u,weightPivot:c}):(0,a.jsxs)(r.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,a.jsx)(o.Z,{gray:!0,weight:n?"bold":"normal",children:u.substr(0,c)}),(0,a.jsx)(o.Z,{weight:"bold",children:u.substr(c)})]})}},961414:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(282480),i=t(360307),o=t(465848),a=["bookmarks"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)})}}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f(e){var n,t,l,u,d,f,g,m,y,_,h,v,b,S,x=e.allowSearchOnMount,P=void 0!==x&&x,I=e.resourceName,E=e.resourceOptions,w=void 0===E?{}:E,O=e.value,T=(0,r.useRef)(!1),A=(0,r.useRef)({}),j=function(e){if(Array.isArray(e))return e}(S=(0,r.useState)([]))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(S,2)||function(e,n){if(e){if("string"==typeof e)return s(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,2):void 0}}(S,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=j[0],D=j[1],C=(_=(n={resourceName:I,resourceOptions:w}).resourceName,h=n.resourceOptions,v=(0,o.vL)(),(b=(0,r.useRef)()).current||(b.current=(u=(0,(t={resourceCreator:v,resourceName:_,resourceOptions:h}).resourceCreator)(t.resourceName,p(p({},l=t.resourceOptions),{},{count:"count"in l?l.count:5})),d=new i.Z,f=function(){u.abort()},g=c(regeneratorRuntime.mark(function e(n,t){var r,i,o,l,s,c,g,m,y,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isCalling()){e.next=8;break}if(o=null===(r=u.options)||void 0===r?void 0:r.term,l=null===(i=u.options)||void 0===i?void 0:i.pin_scope,!(n===o&&t===l)){e.next=7;break}return e.abrupt("return",void 0);case 7:f();case 8:return(s=u.options||{}).bookmarks,c=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.includes(t)||({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(s,a),u.options=p(p({},c),{},{term:n,pin_scope:t}),e.next=12,u.callGet({showError:!1});case 12:return m=null==(g=e.sent.resource_response.data)?void 0:g.items,_={hint:y=(null==g?void 0:g.hint)||{},items:m},d.set("".concat(t,"-").concat(n),_),e.abrupt("return",{term:n,items:m,hint:y});case 19:case"end":return e.stop()}},e)})),m=function(e,n){return g.apply(this,arguments)},y=c(regeneratorRuntime.mark(function e(n,t){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.get("".concat(t,"-").concat(n)))||!((i=r.items)&&i.length)){e.next=7;break}return f(),o=r.hint,e.abrupt("return",{hint:o,items:i,term:n});case 7:if(!(n.length>=0)){e.next=11;break}return e.abrupt("return",m(n,t));case 11:return e.abrupt("return",{hint:{},items:[],term:n});case 12:case"end":return e.stop()}},e)})),function(e,n){return y.apply(this,arguments)})),b.current),R=w.pin_scope||"pins",L="".concat(R,"-").concat(O);return(0,r.useEffect)(function(){c(regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=O&&""!==O&&(P||T.current))){e.next=17;break}if(!(L in A.current)){e.next=5;break}D(A.current[L]),e.next=17;break;case 5:return e.prev=5,e.next=8,C(O,R);case 8:(n=e.sent)&&(t=n.items,A.current[L]=t,D(t)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:T.current||(T.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[O,R,L]),k}},663641:function(e,n,t){t.d(n,{Hd:function(){return u},_R:function(){return l},gi:function(){return o},lw:function(){return r},oD:function(){return i},wF:function(){return s},zh:function(){return a}});var r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},i=function(e){var n=Object.values(r).find(function(n){return n===e});return null!=n?n:void 0},o=function(e){switch(e){case r.PINS:return 0;case r.PINS_MINE:return null;case r.PINS_BUYABLE:return 1;case r.PINS_VIDEO:return 2;case r.BOARDS:return 3;case r.USERS:return 4;default:return null}},a=function(e){switch(e){case 0:return r.PINS;case 1:return r.PINS_BUYABLE;case 2:return r.PINS_VIDEO;case 3:return r.BOARDS;case 4:return r.USERS;default:return null}},l=function(e){switch(e){case r.PINS_MINE:case r.MY_CONTENT:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.SHOP_TOOL:return 3380;case r.BOARDS:return 44;case r.USERS:return 45;case r.PINS:default:return 43}},s=function(e){switch(e){case r.PINS:return 60;case r.PINS_MINE:case r.MY_CONTENT:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},u=function(e,n){if(n)switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}switch(e){case r.USERS:return 1000432;case r.PINS_BUYABLE:return 1000433;case r.PINS:default:return 1000269}}},24534:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(937304);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){var n=e.enteredQuery,t=e.filters,a=e.guideAdded,l=e.query,s=e.requestParams,u=e.rs,c=e.scope,d=e.selectedOneBarModules,p=e.user;if(!l)return"/";var f=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({q:l,rs:u},s);if(t&&(f.filters=t),p&&(f.user=p),d&&(f.selected_one_bar_modules=d),a&&a.term&&(f.add_refine="".concat(a.term,"|guide|word|").concat(a.index)),n&&(f.entered_query=n),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(f));var g=c;return["pins","buyable_pins","my_pins","boards","users","idea_pins","videos"].includes(g)||(g="pins"),g?"/search/".concat(g,"/?").concat((0,r.Z)(f)):"".concat(window.location.pathname,"?").concat((0,r.Z)(f))}},661529:function(e,n,t){t.d(n,{Sx:function(){return i},wU:function(){return r},zc:function(){return o}});var r="#E1E1E1",i="#F1F1F1",o="0 0 0 4px rgba(0, 132, 255, .5)"},613059:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(868808);function i(e){var n,t=(0,r.mB)(e.search)||{};if(t.q){var i=e.pathname.split("/");n=i.length>2?i[2]:"pins"}if(t.q&&n){var o=Array.isArray(t.q)?t.q.join(" "):t.q,a=Array.isArray(t.rs)?"":t.rs,l=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:l,query:o||"",rs:a||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n||"idea_pins"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},61853:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map(function(e){return null!=e?e:""}).join("-")}},573372:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(713211),i=t(937304);function o(e){var n=e.bubbleId,t=e.pinId,o=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,u=e.title,c=[0,24,21,26].includes(l),d=(0,i.Z)({q:o,rs:a||void 0,b_id:n,source_id:s,top_pin_id:t}),p=c&&u?(0,r.x)({title:u,id:n,articleType:"discover"}):"/discover/article/".concat(n,"/");return c?p:"/search/pins/".concat(d?"?"+d:"")}},607320:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(868808);function i(e,n){var t=(0,r.mB)(e);return t.utm_pai&&t.utm_source&&t.pid&&"pins"===n?t.pid:null}},851680:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},861972:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){var t=null!=n&&n.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(t,function(e,n){return"_"+n.toLowerCase()})}},499671:function(e,n,t){var r=t(282480),i=t(297949),o=t(136061),a=t(766546),l=t(730212),s=t(655201),u=t(616949),c=t(158776),d=t(603667),p=t(66560),f=t(770443);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){S(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _(e,n){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,n,t){return(n=x(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){var n=function(e,n){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==g(n)?n:n+""}var P=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&_(e,n)}(l,e);var n,t,o=(n=v(),function(){var e,t=b(l);return e=n?Reflect.construct(t,arguments,b(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==g(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function l(e){var n;return!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,l),S(h(n=o.call(this,e)),"componentWillUnmount",function(){n.unregisterComponent()}),S(h(n),"getContext",function(){var e=n.props,t=e.clientTrackingParams,r=e.component,i=e.element,o=e.objectId,a=e.timeSpentContext,l=e.view,s=e.viewParameter;return{view:l||(null==a?void 0:a.view),viewParameter:s||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:i,objectId:o||(null==a?void 0:a.objectId),clientTrackingParams:t||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return n.getUuid()},getGrandparentUuid:function(){return n.getParentId()}}}),S(h(n),"getLoggerContext",function(){var e=y({},n.getContext());return delete e.getParentUuid,e}),S(h(n),"getParentId",function(){var e,t=n.props,r=t.timeSpentContext,i=t.shouldUseGrandparentId;if(void 0!==i&&i&&r&&r.getGrandparentUuid){var o=r.getGrandparentUuid();if(o)return o}return null==r?void 0:null===(e=r.getParentUuid)||void 0===e?void 0:e.call(r)}),S(h(n),"getUuid",function(){return n.state.timedPair?n.state.timedPair.uuid:void 0}),S(h(n),"getTimedPair",function(){return n.state.timedPair}),S(h(n),"setTimedPair",function(e,t){n.setState({timedPair:e},function(){t&&t()})}),S(h(n),"isRegistered",!1),S(h(n),"registerComponent",function(){n.props.timeSpentManager.registerComponent(h(n)),n.isRegistered=!0}),S(h(n),"unregisterComponent",function(){n.isRegistered&&(n.props.timeSpentManager.unregisterComponent(h(n)),n.isRegistered=!1)}),S(h(n),"handleVisibilityChange",function(e){var t=e[0].intersectionRatio,r=e[0].intersectionRect,i=r.bottom,o=r.left,a=r.right,l=r.top;t>0?n.registerComponent():0===t&&(0===i&&0===o&&0===a&&0===l?n.unregisterComponent():n.registerComponent())}),n.state={timedPair:new u.Z(n.getLoggerContext())},n}return t=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.intersectionObserverBoxHeight;return(0,f.jsx)(c.$,{value:this.getContext(),children:(0,f.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:function(e){return(0,f.jsx)(i.xu,{ref:e,height:null!=t?t:"100%",children:r.Children.only(n)})}})})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(l.prototype,t),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function I(e){var n,t=(0,o.Hv)(),i=(0,c.Z)(),a=(0,d.Z)(),s=(0,p.H0)(),u=(0,l.B)().requestIdentifier,g=y({app_instance_id:(void 0===u?"":u).slice(0,8)},null!==(n=e.auxData)&&void 0!==n?n:{});return(0,r.useEffect)(function(){null==a||a.setHistoryStackContext(t)},[t,a]),(0,r.useEffect)(function(){null==a||a.setPins(null!=s?s:{})},[s,a]),a?(0,f.jsx)(P,y(y({},e),{},{auxData:g,timeSpentContext:i,timeSpentManager:a,children:e.children})):e.children}I.displayName="DeprecatedTimeSpent",n.Z=I},158776:function(e,n,t){t.d(n,{$:function(){return i},Z:function(){return o}});var r=(0,t(498490).Z)("timeSpentContext"),i=r.Provider,o=r.useMaybeHook},132993:function(e,n,t){t.d(n,{BH:function(){return i},L_:function(){return r},ZP:function(){return a},lV:function(){return o}});var r=444,i=404,o=560;function a(){return{maxColumn:3,moduleWidth:r,moduleHeight:306,gutterWidth:16,feedWidth:3*(r+16)}}},51674:function(e,n,t){t.d(n,{U:function(){return o},Z:function(){return a}});var r=t(297949),i=t(770443),o=", ";function a(){return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:o})}},946970:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(297949),i=t(770443);function o(e){var n=e.ariaHidden,t=e.color,o=e.size;return(0,i.jsx)("span",{"aria-hidden":void 0!==n&&n,style:{padding:"0 4px"},children:(0,i.jsx)(r.xv,{color:void 0===t?"darkGray":t,inline:!0,size:null!=o?o:"200",children:"\xb7"})})}},625940:function(e,n){n.Z=function(){return window.location.pathname}},790661:function(e,n,t){var r=t(976534);n.Z=function(e){var n=e.url;if(n){var t=n.split("?");if(t[1])return(0,r.Z)(t[1])}return(0,r.Z)()}},741102:function(e,n){n.Z=function(e){var n=e.url;return""===n||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(n)}},453854:function(e,n,t){t.d(n,{q:function(){return l}});var r=t(282480);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return o(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var a=function(){var e=i((0,r.useState)(!1),2),n=e[0],t=e[1],o=i((0,r.useState)(!1),2),a=o[0],l=o[1],s=i((0,r.useState)(!1),2),u=s[0],c=s[1];return{active:n,focused:a,hovered:u,onBlur:function(){l(!1),t(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return t(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){c(!1),t(!1)},onMouseUp:function(){return t(!1)}}};function l(e){return(0,e.children)(a())}n.Z=a},51210:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(282480);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function o(){var e,n=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return i(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=n[0],o=n[1];return{isHovering:t,handleMouseEnter:(0,r.useCallback)(function(){return o(!0)},[o]),handleMouseLeave:(0,r.useCallback)(function(){return o(!1)},[o])}}},701899:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(282480),i=t(297949),o=t(559656),a=t(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){g(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,n,t){return(n=m(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}var y={default:{backgroundColor:o.I0k,boxShadow:"none"},drag:{backgroundColor:"#d7edff",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"#ffe0e0",boxShadow:"0 0 0 1px #e60023"}},_=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&c(e,n)}(o,e);var n,t,r=(n=p(),function(){var e,t=f(o);return e=n?Reflect.construct(t,arguments,f(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==l(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function o(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return g(d(e=r.call.apply(r,[this].concat(t))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),g(d(e),"handleOnDragEnter",function(n){var t=e.props.onDragEnter;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!0}),t&&t(n)}),g(d(e),"handleOnDragLeave",function(n){var t=e.props.onDragLeave;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!1}),t&&t(n)}),g(d(e),"handleOnDragOver",function(n){var t=e.props.onDragOver;n.preventDefault(),n.stopPropagation(),t&&t(n)}),g(d(e),"handleOnDrop",function(n){var t=e.props.onDrop;n.preventDefault(),n.stopPropagation(),e.setState({isDraggingOver:!1}),t&&t(n)}),g(d(e),"handleMouseEnter",function(){var n=e.props.onMouseEnter;n&&n(),e.setState({isHoveringOver:!0})}),g(d(e),"handleMouseLeave",function(){var n=e.props.onMouseLeave;n&&n(),e.setState({isHoveringOver:!1})}),g(d(e),"setContainedHeight",function(n){e.setState({containedHeight:n})}),e}return t=[{key:"getDragContainerStyles",value:function(e,n){return n&&"default"===e?u(u({},y[e]),{},{backgroundColor:n}):y[e]}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.color,r=e.dropRounding,o=e.hasError,l=e.height,s=e.position,c=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,g=d.containedHeight;return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:u(u({},this.getDragContainerStyles(p?"drag":o?"error":"default",t)),r?{borderRadius:r}:{})},"data-test-id":"drag-behavior-container",height:l||g||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:s,rounding:2,width:c||"100%",children:n(p,f,this.setContainedHeight,g)})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}(o.prototype,t),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component)},547482:function(e,n,t){var r=t(282480),i=t(297949),o=t(559656),a=t(701899),l=t(770443);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var d={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0};n.Z=function(e){var n,t=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return c(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=t[0],f=t[1],g=function(n){var t=e.onChange;n.preventDefault(),n.stopPropagation(),t&&t(n),n.target.value=""},m=function(n){var t=e.onClick;t&&t(n)},y=e.accept,_=e.accessibilityLabel,h=e.allowMultipleFiles,v=e.children,b=e.color,S=e.dropRounding,x=e.hasError,P=e.height,I=e.id,E=e.onDrop,w=e.position,O=e.rounding,T=void 0===O?2:O,A=e.width,j=e.isAriaHidden,k=void 0===j?void 0:j,D=e.experimentsClient;return(0,l.jsx)(a.Z,{color:b,dropRounding:S,experimentsClient:D,hasError:x,height:P,onDrop:E,position:w,width:A,children:function(e){return(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},p?{border:"2px solid ".concat(o.qtB)}:{})},height:"100%",onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},position:"relative",rounding:T,children:[v(e),(0,l.jsx)("input",{accept:y,"aria-hidden":k,"aria-label":_,"data-test-id":I,id:I,multiple:h,onChange:g,onClick:m,style:d,tabIndex:k?-1:0,type:"file"})]})}})}},248623:function(e,n,t){t.d(n,{P7:function(){return i},Zx:function(){return l},sc:function(){return a},ss:function(){return o},xl:function(){return r}});var r=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],i=["bmp","gif","jpg","jpeg","png","tiff","webp"],o=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],l={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},557268:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(240760),i=t(707874),o=t(994964);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n,t,l){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:n._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:t,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:n._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var s,u=function(e){if(Array.isArray(e))return e}(s=o.Z.enabled("pinQuality")||null!=l&&l.isStoryPin?[300,200]:[100,100])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(s,2)||function(e,n){if(e){if("string"==typeof e)return a(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1];return{dispatchId:t,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(n._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:c,minWidth:d,pixelString:n.ngettext('pixel', 'pixels', d, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(n.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:n._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:t,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(n.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var p=Math.floor(4);return{dispatchId:t,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(n.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', p, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:p}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var f=i.W_;return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(n.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', f, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:f}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:n._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:t,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:n._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(n.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(n._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(i.P9)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(n.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var g=i.Lr/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(n.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', g, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:g}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:n._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:n._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:n._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:n._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:t,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:n._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:n._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},132793:function(e,n,t){var r=t(453503),i=t(557268);n.Z=function(e){return function(n){return new Promise(function(t,o){var a=new Image;a.addEventListener("load",function(){return t({fileSrc:n,height:a.height,id:(0,r.Z)(),name:n.name,size:n.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return o((0,i.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(n)})}}},697208:function(e,n,t){var r=t(453503),i=t(557268),o=t(120252);n.Z=function(e){return function(n){return new Promise(function(t,a){var l,s=new FileReader,u=((null===(l=window.navigator)||void 0===l?void 0:l.userAgent)||"").includes("Safari")?n.slice(0,n.size,"video/mp4"):n,c=URL.createObjectURL(u);s.addEventListener("load",function(){var l=document.createElement("video");l.addEventListener("loadedmetadata",function(){return t({id:(0,r.Z)(),duration:l.duration,fileSrc:n,height:l.videoHeight,name:n.name,size:n.size,src:l.src,thumbnail:0,type:"localVideo",width:l.videoWidth})}),l.addEventListener("error",function(){a((0,i.Z)((0,o.Z)(),e))}),l.src=c}),s.readAsDataURL(n)})}}},120252:function(e,n,t){t.d(n,{Z:function(){return r}});function r(){var e,n=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(n.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(n.includes("SamsungBrowser")||n.includes("Opera")||n.includes("OPR")||n.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(n.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(n.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(n.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},816222:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(248623),i=t(557268),o=t(132793),a=t(994964),l=t(741326);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var u=t(707874),c=t(697208),d=t(120252);function p(e){var n,t,p=e.i18n,f=e.file,g=e.options,m=e.ideaPinRenamingEnabled,y=e.imageFileTypes,_=void 0===y?r.xl:y,h=g||{},v=h.allowVideo,b=h.videoOnly;return r.ss.includes(f.type)&&v?(t=(n=(g||{}).forStoryPin)?u.Lr:0x80000000,f.size>t?Promise.resolve((0,i.Z)(n?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",p)):(0,c.Z)(p)(f).then(function(e){var n,t,r,o,a,l,s,c;return n=p,t=e,o=(r=g||{}).forStoryPin,a=r.allowAllAspectRatios,s=(l=!!o)?u.W_:4,c=l?u.P9:900,t.duration<s?(0,i.Z)(l?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",n):t.duration>c?(0,i.Z)(l?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",n):t.width&&t.height?!a&&(t.width/t.height<.5||t.width/t.height>1.91)?(0,i.Z)("VIDEO_UNSUPPORTED_RATIO",n):t.width<100||t.height<100?(0,i.Z)("VIDEO_UNDER_MIN_DIMENSIONS",n):t:(0,i.Z)((0,d.Z)(),n)}).catch(function(e){return e})):!_.includes(f.type)||b?Promise.resolve((0,i.Z)("FILE_UNRECOGNIZED_TYPE",p)):f.size>0x1400000?Promise.resolve((0,i.Z)("IMAGE_OVER_MAX_FILE_SIZE",p)):(0,o.Z)(p)(f).then(function(e){var n,t,r,i,o,u;return r=(t=function(e){if(Array.isArray(e))return e}(n=a.Z.enabled("pinQuality")||null!=g&&g.isStoryPin?[300,200]:[100,100])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return s(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=t[1],o=(null==g?void 0:g.minHeight)||r,u=(null==g?void 0:g.minWidth)||i,e.height*e.width>0x5555555?(0,l.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:m}):e.height<o||e.width<u?(0,l.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:m,options:g}):e}).catch(function(e){return e})}},126007:function(e,n,t){t.d(n,{$R:function(){return h},Gd:function(){return c},I3:function(){return x},Kr:function(){return s},MJ:function(){return P},MP:function(){return p},Mm:function(){return r},OV:function(){return l},Tp:function(){return f},YB:function(){return i},bA:function(){return m},c3:function(){return b},h0:function(){return o},js:function(){return a},kr:function(){return S},lc:function(){return y},mU:function(){return _},nt:function(){return v},nv:function(){return d},rb:function(){return u},wt:function(){return g}});var r=",",i="-",o="\n",a="/",l=", ",s=["brandAwareness","consideration","videoViews"],u="Product | Media Planning Tool",c="http://pinch/mediaplanningpod",d="https://docs.google.com/document/d/1ExHoefENHwEiq56tGxUAHOxoX16Lc_7JGr99RVgDScM/edit#bookmark=kix.8xm9361cbpul",p="https://docs.google.com/document/d/1uSmZXN-TEjwm7_AjrDSEV5NzFM6P6FX8GFa7IeSXjwM/edit#bookmark=id.d23e6qi02ovi",f=Object.freeze({UTM_SOURCE:"utm_source"}),g={"Collections ad":"SHOP_THE_PIN","Shopping ad":"SHOPPING"},m={ALL:"ALL",SEARCH:"SEARCH",BROWSE:"BROWSE"},y="PUBLISHED",_="UNPUBLISHED",h={READY:"READY",INITIALIZING:"INITIALIZING",PERSONAS_INELIGIBLE_SIZE:"PERSONAS_INELIGIBLE_SIZE",TOO_SMALL:"TOO_SMALL",IN_PROGRESS:"IN_PROGRESS",INITIALIZING_PERSONA:"INITIALIZING_PERSONA"},v=1000535,b=506009,S="gpt-4o",x="/internal/planning_hub/gpt/",P="POST"},257973:function(e,n,t){t.d(n,{B:function(){return p},db:function(){return c},eg:function(){return f}});var r=t(453503),i=t(455699),o=t(814293);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var u=/.*\((\d{12})\)$/,c=function(e){var n=e;if(isNaN(e)){var t=e.match(u);t&&(n=t[1])}return n},d={name:"".concat((0,i.Z)(new Date)," | Ad group"),autoTargetingEnabled:!0,optimization:"PIN_CLICK",optimizationConversionEvent:"CHECKOUT",conversionWindow:"7/7/1",targeting:{selectedAges:[],selectedAdFormats:[],selectedLanguages:[],selectedDevices:[],selectedGenders:[],selectedLocations:["US"],selectedRegions:{},selectedMetros:{},selectedZipCodes:[],keywords:"",selectedInterests:{},selectedInterestsLabels:[],audienceListsInclude:[],audienceListsExclude:[],selectedAudienceLists:[],productGroups:{},placement:["all"],frequency:{timeRange:"optional"}}},p=function(e){return s(s({},s(s({},d),{},{optimization:e||d.optimization})),{},{id:(0,r.Z)()})},f={id:"",name:"",budgetType:"daily",objective:"consideration",budgetMicro:void 0,startDate:(0,o.Z)((0,i.Z)(new Date)),endDate:void 0,adGroups:[p()],tiersBudgetMicro:[],tiersBudgetPercentage:[],isExportTiers:!1,isSpotlightEnabled:!1}},668564:function(e,n,t){t.d(n,{X:function(){return o},Z:function(){return a}});var r=t(282480);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var o=120;function a(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,l=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(e?"active":"inactive"))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return i(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],u=l[1];return(0,r.useEffect)(function(){if(e){if(t){var n=setTimeout(function(){return u("active")},t);return function(){clearTimeout(n)}}u("active")}else{var r=setTimeout(function(){return u("inactive")},a);return function(){clearTimeout(r)}}},[e]),s}},596530:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(297949),i=t(668564),o=t(770443);function a(e){var n,t=e.children,a=e.fadeInDuration,l=e.fadeOutDuration,s=void 0===l?i.X:l,u=e.visibility;return"none"!==u&&t?(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:(n=void 0===a?0:a,{hidden:{opacity:0,transition:s?"opacity ".concat(s,"ms ease"):void 0},visible:{opacity:1,transition:n?"opacity ".concat(n,"ms ease"):void 0}})[u]},children:t}):null}},533191:function(e,n,t){t.d(n,{Z:function(){return I}}),t(711284);var r,i=t(297949),o=t(488792),a=t(384609),l=t(144326),s=t(297728),u=t(728593),c=t(1006),d=t(154785),p=t(901450),f=t(410150),g=t(969119),m=t(383399),y=t(578406),_=t(934648),h=t(424583),v=t(310368),b=t(55463),S=t(770443),x=function(e){var n=e.children,t=e.pulsar,r=e.testId;return t.show?(0,S.jsx)(i.xu,{"data-test-id":r,position:"relative",children:(0,S.jsxs)(i.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,S.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:n}),(0,S.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,S.jsx)(i.o3,{})})]})}):(0,S.jsx)(i.xu,{"data-test-id":r,children:n})},P=void 0!==r?r:r=t(646920);function I(e){var n,t=e.auxData,r=e.disabled,I=e.disableLog,E=e.followEventType,w=e.id,O=e.inline,T=e.invertColors,A=e.isFollowed,j=e.isIdeaPin,k=e.isLegoEnabled,D=e.isSecondaryButton,C=e.isUserFollowButton,R=e.isUserMe,L=e.onFollow,N=e.onUnfollow,M=e.pinKey,F=e.shouldUseLegoColors,U=e.showPulsar,z=e.size,B=e.textType,Z=void 0===B?"FollowFollowing":B,H=e.unfollowEventType,K=e.viewParameter,G=e.viewType,V=e.clientTrackingParams,W=(0,l.ZP)(),Y=(0,f.HG)(),q=(0,p.F9)().showToast,X=(0,d.Z)(),Q=(0,o.Z)(),$=(0,u.Z)(),J=(0,s.F)().checkExperiment,ee=(0,_.Z)(),en=(0,m.Z)(),et=en&&en.isAuth,er=(0,b.f)(),ei=er.unauthFollowUserId,eo=er.setUnauthFollowUserId,ea=(0,h.mN)()(w),el=ea&&{imageMediumUrl:ea.image_medium_url,username:ea.username},es=(0,a.Z)(P,M),eu=null==es?void 0:es.linkDomain,ec=null==es?void 0:es.nativeCreator,ed=null==es?void 0:es.originPinner,ep=null==es?void 0:es.pinner;n=ec||(eu?eu.officialUser:ed||ep);var ef=null!=el?el:n;(0,g.Z)(function(){!Y&&et&&ei&&w&&ei===w&&L(w)});var eg=ee({fn:function(){et?A?(N(w),I||Q({event_type:H,view_type:G,view_parameter:K,object_id_str:w,aux_data:t,clientTrackingParams:V})):(L(w),C&&q(function(e){var n=e.hideToast,t=null!=ef&&ef.username?"/".concat(ef.username,"/"):"";return(0,S.jsx)(v.Z,{handleHide:n,href:t,imageUrl:(null==ef?void 0:ef.imageMediumUrl)||"",text:(0,S.jsx)(i.xv,{lineClamp:4,children:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:w})}),I||Q({event_type:E,view_type:G,view_parameter:K,object_id_str:w,aux_data:t,clientTrackingParams:V})):((0,c.NC)(A?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:A?"unfollow-button":"follow-button"}),$({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Y&&J("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Y&&J("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),Y||eo(null!=w?w:""),(0,c.NC)("clickthrough"))},modalHeader:(0,y.N4)({i18n:W,toFollow:!A})}),em=!A&&!!U,ey=function(){if(R)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===Z)return A?W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===Z?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return A?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,S.jsx)(x,{pulsar:em?{show:!0,onClick:eg}:{show:!1},testId:R||A?"board-unfollow-button":"board-follow-button",children:(0,S.jsx)(i.zx,{accessibilityLabel:ey(),color:F||"AddRemove"===Z||!k&&D||T?"gray":"red",disabled:R||r,fullWidth:O,onClick:em?void 0:function(e){var n=e.event;n.preventDefault(),n.stopPropagation(),I||Q({event_type:101,component:13672,element:11951,object_id_str:w,view_type:G,view_parameter:K,aux_data:t,clientTrackingParams:V}),eg()},selected:A||!1,size:z,text:ey()})})}},844991:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(297949),i=t(700941),o=t(488792),a=t(636565),l=t(144326),s=t(899544),u=t(343583),c=t(453854),d=t(317128),p=t(770443),f=function(e){var n=e.children,t=e.role,a=e.url,l=e.contextData,d=e.onClick,f=e.dataTestId,g=(0,o.Z)(),m=(0,u.Z)({href:a||"",onHistoryChange:s.Z}),y=(0,c.Z)(),_=y.onBlur,h=y.onFocus,v=y.onMouseDown,b=y.onMouseEnter,S=y.onMouseLeave,x=y.onMouseUp,P=(0,i.Z)(),I=P.onMouseDown,E=P.onNavigateToHomefeed,w=function(e){l&&g(l),d&&d(e)};return"link"===t?(0,p.jsx)(r.Tg,{href:a||"",onBlur:_,onFocus:function(){h()},onMouseDown:function(){"home-tab"===f&&I(),v()},onMouseEnter:function(){b()},onMouseLeave:function(){S()},onMouseUp:x,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),w(n),a&&(E(),m({event:n}))},rounding:6,children:n}):(0,p.jsx)(r.iP,{onBlur:_,onFocus:h,onMouseDown:v,onMouseEnter:b,onMouseLeave:S,onMouseUp:x,onTap:function(e){var n=e.event;w(n),a&&m({event:n})},role:"button",rounding:6,children:n})};function g(e){var n=e.contextData,t=e.dataTestId,i=e.iconEnd,o=e.isSelected,s=e.onClick,u=void 0===s?function(){}:s,g=e.role,m=e.showNotifBadge,y=void 0!==m&&m,_=e.text,h=e.url,v=(0,l.ZP)(),b=(0,c.Z)(),S=b.active,x=b.hovered,P=(0,a.oS)(d.nu);return(0,p.jsx)(r.xu,{"data-test-id":t,flex:"none",height:48,minWidth:60,rounding:6,children:(0,p.jsx)(f,{contextData:n,dataTestId:t,onClick:function(e){u(e),y&&P.completeExperience(d.nu,d.wo)},role:void 0===g?"link":g,url:h,children:(0,p.jsx)(r.xu,{color:o||S?"selected":x?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:S&&!o?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:6,children:(0,p.jsxs)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,p.jsx)(r.xv,{align:"center",color:o?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:_}),i&&(0,p.jsx)(r.xu,{marginStart:2,children:(0,p.jsx)(r.JO,{accessibilityLabel:"",color:o?"inverse":"default",icon:i,size:12})}),y&&(0,p.jsx)(a.a3,{eligibleIds:[d.wo],placementId:d.nu,children:(0,p.jsx)(r.z$,{accessibilityLabel:v._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications')})})]})})})})}},957548:function(e,n,t){t.d(n,{ZP:function(){return E},f$:function(){return S},qS:function(){return b}});var r=t(282480),i=t(711284),o=t(297949),a=t(922877),l=t(558621),s=t(986782),u=t(144326),c=t(730212),d=t(235838),p=t(132993),f=t(154785),g=t(410150),m=t(589371),y=t(834869),_=t(256187),h=t(770443);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var b=404,S=360,x=function(e){var n=e.children,t=e.dataTestId,r=e.todayModuleWidth,i=(0,g.ml)();return(0,g.HG)(),(0,h.jsx)(o.xu,{"data-test-id":t,marginBottom:2,marginEnd:2,marginStart:2,marginTop:2,maxWidth:i?void 0:r,width:"100%",children:n})};function P(e){var n=e.data,t=e.itemIdx,i=e.todayModuleWidth;return(0,h.jsxs)(r.Fragment,{children:["TodayArticle"===n.__typename&&(0,h.jsx)(x,{dataTestId:"ideas-root-today-article",todayModuleWidth:i,children:(0,h.jsx)(y.i,{containerKey:n,gridIndex:t,headerAccessibilityLevel:2,viewParameter:3372,viewType:1})}),"Board"===n.__typename&&(0,h.jsx)(x,{dataTestId:"ideas-root-board",todayModuleWidth:i,children:(0,h.jsx)(m.Z,{containerKey:n,gridIndex:t,headerAccessibilityLevel:2,viewParameter:3372,viewType:1})})]})}function I(){var e,n,t,s,m,y=(0,u.ZP)(),x=(0,g.HG)(),I=(0,g.ml)(),E=(0,c.B)().isBot,w=(0,i.useLazyLoadQuery)(l.default,{}),O=(0,p.ZP)().feedWidth,T=(0,f.Z)(),A=(0,i.usePaginationFragment)(a.default,w),j=A.data,k=A.isLoadingNext,D=A.loadNext,C=A.hasNext,R=(null===(s=j.v3RecommendedTodayArticlesQuery)||void 0===s?void 0:s.__typename)==="V3RecommendedTodayArticles"?j.v3RecommendedTodayArticlesQuery.data:null,L=(null==R?void 0:R.__typename)==="V3RecommendedTodayArticlesDataConnectionContainer"?R.connection:null,N=null==L?void 0:L.edges,M=(e=!!N&&N.length||0,E?e:x?3:2),F=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(M))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return v(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=F[0],z=F[1],B=!!N&&N.length>U&&N.length>=7&&7!==U,Z=null!==(m=null==N?void 0:N.map(function(e){return null==e?void 0:e.node}).filter(function(e){return!!e&&("TodayArticle"===e.__typename||"Story"===e.__typename||"Board"===e.__typename)}))&&void 0!==m?m:[],H=x?b:S;return(0,h.jsxs)(o.xu,{"data-test-id":"ideas-root-today-articles",marginEnd:I?void 0:-2,marginStart:I?void 0:-2,marginTop:(t=Z.length)>0&&x?8:t>0&&!x?6:0,children:[Z.length>0&&(0,h.jsx)(o.xu,{margin:"auto",marginBottom:-2,maxWidth:x?O:void 0,width:"100%",children:(0,h.jsxs)(o.kC,{alignItems:"stretch",justifyContent:x?"start":"center",width:"100%",wrap:!0,children:[Z.map(function(e,n){return e&&n<=U&&(0,h.jsx)(P,{data:e,itemIdx:n,todayModuleWidth:H},e.__id)}),!B&&(0,h.jsx)(o.gr,{fetchMore:(0,d.Z)(function(){C&&D(50)},100),isAtEnd:!C,isFetching:k})]})}),B&&N&&(0,h.jsx)(_.Z,{handleClick:function(){T({action:"click",item:"idearoot-today-module-more-button"}),z(U+M)},testId:"idearoot-today-module-more-button"}),k&&(0,h.jsx)(o.xu,{column:12,paddingY:2,children:(0,h.jsx)(o.$j,{accessibilityLabel:y._('Loading feed', 'today_tab.loading', 'spinner label when loading today tab'),show:!0})})]})}function E(){var e=(0,u.ZP)();return(0,h.jsx)(s.Z,{name:"SafeSuspense_TodayArticles",children:(0,h.jsx)(r.Suspense,{fallback:(0,h.jsxs)(o.xu,{padding:5,children:[(0,h.jsx)(o.xu,{paddingY:8,children:(0,h.jsx)(o.X6,{align:"center",overflow:"normal",size:"500",children:e._('Loading today\'s picks...', 'IdeasRootPage.TodayArticlesFeed.loadingMessage', 'Loading message on Today tab')})}),(0,h.jsx)(o.$j,{accessibilityLabel:e._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})]}),children:(0,h.jsx)(I,{})})})}},87416:function(e,n,t){t.d(n,{Cy:function(){return p},HE:function(){return f},Mv:function(){return s},Y4:function(){return g},dL:function(){return l},fS:function(){return m},fv:function(){return c},lu:function(){return y},qS:function(){return d},u:function(){return _},uc:function(){return u}});var r=t(788388);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach(function(n){var r,o;r=n,o=t[n],(r=function(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var l=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},s=function(e){var n=(0,r.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},u=function(e){var n=(0,r.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:n})},c=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:n})},d=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},p=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},f=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},g=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})},m=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:n})},y=function(e){var n,t=(0,r.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(n=e.slotIndex)&&void 0!==n?n:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},_=function(e){var n=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:n})}},96405:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(297949),i=t(770443);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function l(e){var n=e.children,t=e.additionalStyles;return(0,i.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({pointerEvents:"none"},void 0===t?{}:t)},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:n})}},856163:function(e,n,t){t.d(n,{Z:function(){return L}});var r,i=t(282480);t(711284);var o=t(868073),a=t(297949),l=t(488792),s=t(559028),u=t(384609),c=t(936437),d=t(144326),p=t(590338),f=t(240760),g=t(730212),m=t(1006),y=t(51674),_=t(946970),h=t(410150),v=t(383399),b=t(752578),S=t(845873);function x(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return P(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var I=t(770443);function E(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return w(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function O(e){var n,t,r,o=e.boardId,l=(0,d.ZP)(),s=(0,v.Z)(),u=(0,h.HG)(),c=(0,S.gC)()(o),p=(n=(0,v.Z)(),t=(0,h.HG)()&&n&&n.isAuth,r=(0,S.gC)()(o),(0,i.useMemo)(function(){if(!r)return[];for(var e=r.owner,i=r.collaborating_users,o=new Set,a=new Set,l=new Set,s=0,u=[].concat(x(e?[e]:[]),x(i||[]));s<u.length;s++){var c=u[s];c.id===(null==e?void 0:e.id)?o.add(c):c.id===n.id?a.add(c):l.add(c)}return[].concat(x(o),x(a),x(l)).map(function(e){var n,r,i;return{name:null!==(n=t?e.full_name:e.username)&&void 0!==n?n:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(r=e.image_medium_url)&&void 0!==r?r:"",color:null!==(i=null==e?void 0:e.avatar_color_index)&&void 0!==i?i:void 0}})},[t,r,n]));if(!c)return null;var f=c.collaborator_count,g=void 0===f?0:f,m=u&&s&&s.isAuth?23:16,_=m/3*((p.length>2?3:p.length)*2+1),b=g>=p.length?g-p.length:0;b=b>99?100:b;var P=[].concat(E(p),E(Array(b).fill({name:"",src:""})));return(0,I.jsx)(a.xu,{height:m,marginStart:2,minWidth:_,width:_,children:(0,I.jsx)(a.HE,{accessibilityLabel:y.U+(l._('Board has collaborators', 'boardCard.avatarGroup.collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:P})})}var T=t(140002),A=t(670049),j=t(598259),k=t(533191),D=t(87416),C=void 0!==r?r:r=t(373137),R=function(e){var n=e.children,t=e.isOwnProfile;return(0,h.HG)()?(0,I.jsx)(a.X6,{accessibilityLevel:2,lineClamp:t?1:2,size:t?"400":"300",children:n}):(0,I.jsx)(a.xv,{lineClamp:t?1:2,size:t?void 0:"200",weight:"bold",children:n})};function L(e){var n,t=e.archivedDate,r=e.boardId,S=e.boardUrl,x=e.canEdit,P=e.numberOfCollaborators,E=e.containerBackgroundColor,w=e.coverPhoto,L=e.display,N=e.followedByMe,M=e.fullSizeDrawer,F=e.sensitivityScreen,U=e.handleInviteResponse,z=e.hideMeta,B=e.hideSecretBoardIcon,Z=void 0!==B&&B,H=e.id,K=e.invite,G=e.imagesLego,V=e.isActive,W=e.isAttributionHeightUnfixed,Y=e.isAuthenticated,q=e.isBoardInviteAccepted,X=e.isCollaborative,Q=e.isCollaborator,$=e.isCollaboratorsAttributionVisible,J=e.isFeaturedBoardsModule,ee=void 0!==J&&J,en=e.isNoBoardTitleStyle,et=void 0!==en&&en,er=e.isOwner,ei=e.isProtected,eo=e.isSecret,ea=e.isTemporarilyDisabled,el=e.lastModifiedDate,es=e.layout,eu=e.locale,ec=e.metaMarginTop,ed=void 0===ec?0:ec,ep=e.metaPaddingY,ef=void 0===ep?2:ep,eg=e.name,em=e.numCols,ey=e.onEditClick,e_=e.onFollow,eh=e.onUnfollow,ev=e.pinCount,eb=void 0===ev?0:ev,eS=e.sectionCount,ex=e.slotIndex,eP=e.showFollowButton,eI=e.showMask,eE=e.showBoardCollaborators,ew=void 0===eE||eE,eO=e.trackingParams,eT=e.userKey,eA=e.viewObjectIdStr,ej=e.viewParameter,ek=e.viewType,eD=(0,d.ZP)(),eC=(0,c.Z)(),eR=(0,p.Z)(),eL=(0,l.Z)(),eN=(0,h.HG)(),eM=(0,g.B)().isRTL,eF=(0,v.Z)(),eU=eF.username,ez=eF.isAuth?null==eF?void 0:eF.avatar_color_index:void 0,eB=(0,o.UO)().username,eZ=(0,u.Z)(C,eT),eH=eN&&Y,eK="square"===es?T.M0:T.z9,eG="responsive"!==L&&(eH||ee)?eK:"100%",eV=eU&&eU===eB,eW=eB&&T.sN.includes(eB.toLowerCase()),eY=function(e){Y||(0,m.NC)("press_follow_board"),e_&&e_(e)},eq=function(e){Y||(0,m.NC)("press_unfollow_board"),eh&&eh(e)},eX=(void 0===G?[]:G).map(function(e){return{url:e.url,name:eg}}),eQ=!!eZ&&!x&&eP,e$=null==eZ?void 0:eZ.isVerifiedMerchant,eJ=null==eZ?void 0:null===(n=eZ.verifiedIdentity)||void 0===n?void 0:n.verified,e0=e$||eJ,e1=X&&!ee;!eV&&e1&&(e1=eB&&!eW);var e2=!er&&!Q&&!!(null!=F&&F.show_warning),e3={board_id:H,reason:null==F?void 0:F.reason},e4=!eV&&(!eB||void 0!==$&&$||eW),e6=eH?void 0:T.s0+(eQ?T.o2:0);eV||(e6=eN?void 0:(e4?T.AC:T.Y_)+(eQ?T.o2:0));var e7=eQ&&"responsive"!==L?"max(calc(25vh + 10px), calc(".concat(210,"px + ").concat(eV?0:5,"vh))"):"100%";return(0,i.useEffect)(function(){e2&&eL({event_type:13,component:13861,view_type:215,aux_data:e3})},[]),(0,I.jsx)(D.fS,{auxData:{board_id:H,board_pin_count:null!=eb?eb:0,board_section_count:null!=eS?eS:0,grid_index:ex||0},impressionData:{imageURL:null==w?void 0:w.url},loggingId:H,slotIndex:ex||0,trackingParams:eO,viewData:{view_object_id_str:eA},viewParameter:ej,viewType:ek,children:function(e){var n,o,l,u,c,d,p,g=e.impressionTrackerRef;return(0,I.jsxs)(a.xu,{ref:g,"data-test-id":"boardCard-".concat(eg),height:t&&!eN?185:e7,position:"relative",width:eG,children:[(0,I.jsx)(a.zd,{rounding:4,wash:eI,children:(0,I.jsx)(A.Z,{canEdit:x,containerBackgroundColor:E,coverPhoto:w,fullSize:M,hideSecretBoardIcon:Z,images:eX,isActive:V,isProtected:ei,isSecret:eo,isTemporarilyDisabled:ea,layout:es,onEditClick:ey,renderAsImage:!0,showSensitivityScreen:e2})}),!z&&(0,I.jsx)(i.Fragment,{children:K&&!ea?(0,I.jsxs)(i.Fragment,{children:[(0,I.jsxs)(a.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,I.jsxs)(a.xu,{width:"100%",children:[(0,I.jsx)(a.rU,{href:null!=S?S:"",children:(0,I.jsx)(a.xu,{marginBottom:1,marginTop:0,children:(0,I.jsx)(R,{isOwnProfile:eV,children:eg})})}),q?(0,I.jsx)(a.xv,{lineClamp:1,size:"200",children:eD._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,I.jsx)(a.xv,{size:"200",children:(o=(n=K.invited_by_user).full_name,l=n.username,u=(0,I.jsx)(a.rU,{display:"inlineBlock",href:"/".concat(l),underline:"hover",children:o},"linkToUser"),(0,f.nk)(eD._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:u}))})]}),ew&&(0,I.jsx)(O,{boardId:r})]}),q?(0,I.jsx)(a.xu,{direction:"row",display:"flex",paddingX:2,children:(0,I.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,I.jsx)(a.ZP,{fullWidth:!0,href:null!=S?S:"",size:"lg",text:eD._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,I.jsxs)(a.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,I.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,I.jsx)(a.zx,{fullWidth:!0,onClick:function(){null==U||U(!1)},size:"lg",text:eD._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,I.jsx)(a.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,I.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:function(){null==U||U(!0)},size:"lg",text:eD._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,I.jsxs)(a.xu,{height:W?void 0:e6,marginTop:eH?ed:1,paddingX:2,paddingY:eH?ef:0,children:[et&&(0,I.jsxs)(a.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginEnd:2,paddingY:1,children:[(0,I.jsx)(a.xu,{marginEnd:2,marginStart:1,children:(0,I.jsx)(s.qE,{accessibilityLabel:eD._('Avatar', 'User`s Avatar', 'User`s Avatar'),color:ez,name:null!==(c=null==eZ?void 0:eZ.fullName)&&void 0!==c?c:"",size:"xs",src:null!==(d=null==eZ?void 0:eZ.imageMediumUrl)&&void 0!==d?d:""})}),(0,I.jsxs)(a.kC,{direction:"column",children:[(0,I.jsxs)(a.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",children:[(0,I.jsxs)(a.xv,{inline:!0,lineClamp:1,size:"100",children:[(0,I.jsx)(a.xv,{inline:!0,size:"100",children:eD._('By', 'boardRep.boardCard.userAttribution', 'User attribution for a board rep')})," ",(0,I.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:null==eZ?void 0:eZ.fullName})]}),e0&&(0,I.jsx)(a.xu,{marginStart:1,children:(0,I.jsx)(j.Z,{isVerifiedIdentity:!!eJ,isVerifiedMerchant:!!e$,size:"xs"})})]}),(0,I.jsxs)(a.xu,{alignItems:eN?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,I.jsxs)(a.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,I.jsx)(y.Z,{}),(0,f.nk)(eD.ngettext('{{ count }} Pin', '{{ count }} Pins', eb, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eR(eu,eb,{shortform:!0,shortform_maximum_fraction_digits:1})})]}),(0,I.jsx)(a.xv,{color:"subtle",size:"100",children:(0,I.jsx)(_.Z,{ariaHidden:!0,size:"100"})}),!t&&(0,I.jsx)(a.xu,{display:"inlineBlock",marginEnd:eM?2:0,children:(0,I.jsxs)(a.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,I.jsx)(y.Z,{}),eC(el,!0)]})})]})]})]}),!et&&(0,I.jsxs)(i.Fragment,{children:[(0,I.jsxs)(a.xu,{alignItems:eV?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,I.jsx)(R,{isOwnProfile:eV,children:eg}),e1&&!ea&&ew&&(0,I.jsx)(O,{boardId:r})]}),e4&&(0,I.jsx)(a.xu,{marginTop:1,children:(0,I.jsx)(b.Z,{numberOfCollaborators:P,ownerFullName:null!==(p=null==eZ?void 0:eZ.fullName)&&void 0!==p?p:"",ownerIsVerifiedIdentity:!!eJ,ownerIsVerifiedMerchant:!!e$,showBoardCollaborators:ew})}),(0,I.jsxs)(a.xu,{alignItems:eN?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,I.jsx)(a.kC.Item,{flex:"none",children:(0,I.jsxs)(a.xv,{color:eV?void 0:"subtle",lineClamp:1,size:"100",children:[(0,I.jsx)(y.Z,{}),(0,f.nk)(eD.ngettext('{{ count }} Pin', '{{ count }} Pins', eb, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eR(eu,eb,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!eS&&(0,I.jsxs)(a.xv,{color:eV?void 0:"subtle",lineClamp:1,size:"100",children:[(0,I.jsx)(_.Z,{ariaHidden:!0,size:"100"}),(0,I.jsx)(y.Z,{}),(0,f.nk)(eD.ngettext('{{ count }} section', '{{ count }} sections', eS, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:eS})]}),!eV&&(0,I.jsx)(a.xv,{color:"subtle",size:"100",children:(0,I.jsx)(_.Z,{ariaHidden:!0,size:"100"})}),(0,I.jsx)(a.kC.Item,{flex:eS?"none":"grow",children:(0,I.jsx)(a.xu,{display:eH?"flex":"inlineBlock",marginEnd:eM?2:0,marginStart:eV?2:void 0,children:(0,I.jsxs)(a.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,I.jsx)(y.Z,{}),eC(el,!0)]})})})]}),t&&!eN&&(0,I.jsxs)(a.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,I.jsx)(y.Z,{}),eD._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eQ&&(0,I.jsx)(a.xu,{column:2===em?12:void 0,flex:"none",marginTop:2===em?3:void 0,children:(0,I.jsx)(k.Z,{disabled:!!(null==eZ?void 0:eZ.blockedByMe),followEventType:26,id:H,isFollowed:N,onFollow:eY,onUnfollow:eq,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ej,viewType:ek})})]})]})})]})}})}},888027:function(e,n,t){t.r(n),t.d(n,{BOARD_REP_PADDING_DWEB:function(){return S},BOARD_REP_PADDING_MWEB:function(){return x},default:function(){return P}});var r,i=t(545007);t(711284);var o=t(297949),a=t(488792),l=t(384609),s=t(730212),u=t(1006),c=t(154785),d=t(410150),p=t(383399),f=t(856163),g=t(464099),m=t(478595),y=t(560425),_=t(845873),h=t(770443),v=void 0!==r?r:r=t(777579),b=["thumbnail","imageOnly"],S=2,x=3;function P(e){var n,t,r,P,I,E,w,O,T,A,j,k,D,C,R,L,N,M,F,U,z,B,Z,H,K,G,V=e.boardKey,W=e.component,Y=e.containerBackgroundColor,q=e.display,X=e.forwardedRef,Q=e.fullSize,$=e.hideSecretBoardIcon,J=e.isAttributionHeightUnfixed,ee=e.isCollaboratorsAttributionVisible,en=e.isFeaturedBoardsModule,et=e.isNoBoardTitleStyle,er=e.noPaddings,ei=e.showFollowButton,eo=e.showMask,ea=e.showPinCount,el=e.slotIndex,es=e.type,eu=e.viewObjectIdStr,ec=e.viewParameter,ed=e.viewType,ep=e.isBoardPreviewEnabled,ef=(0,p.Z)(),eg=ef&&ef.isAuth,em=(0,i.I0)(),ey=(0,s.B)().locale,e_=(0,c.Z)(),eh=(0,l.Z)(v,V),ev=(0,_.gC)(),eb=null!=eh&&eh.entityId?ev(eh.entityId):null,eS=(0,g.Z)(eh),ex=(0,a.Z)(),eP=(0,d.HG)();if(!eh)return null;var eI=eh.owner,eE=eh.shouldShowBoardCollaborators,ew=ef.isAuth?ef.id:"",eO=(null==eI?void 0:eI.entityId)===ew,eT=(null===(n=eh.collaboratingUsers)||void 0===n?void 0:n.__typename)==="UserCollaboratingUsersConnectionContainer"?null===(t=eh.collaboratingUsers.connection)||void 0===t?void 0:t.edges:[],eA=(null==eT?void 0:eT.some(function(e){var n;return(null==e?void 0:null===(n=e.node)||void 0===n?void 0:n.entityId)===ew}))||eO;if("secret"===eh.privacy&&!eA)return null;var ej="grid"===es||"thumbnail"===es?2:4,ek=ep&&null!==(r=eh.images236x)&&void 0!==r&&null!==(P=r[0])&&void 0!==P&&P.url?null===(I=eh.images236x)||void 0===I?void 0:null===(E=I[0])||void 0===E?void 0:E.url:eS(ej),eD=null!==(w=eh.coverPin)&&void 0!==w?w:null==eb?void 0:eb.cover_pin,eC=null!==(O=(null==eD?void 0:eD.crop)&&(null==eD?void 0:eD.size)&&{x:null!==(T=null==eD?void 0:eD.crop[0])&&void 0!==T?T:0,y:null!==(A=null==eD?void 0:eD.crop[1])&&void 0!==A?A:0,width:null!==(j=null==eD?void 0:eD.size[0])&&void 0!==j?j:0,height:null!==(k=null==eD?void 0:eD.size[0])&&void 0!==k?k:0})&&void 0!==O?O:{x:0,y:0,width:0,height:0},eR={isCustom:!ep&&(eh.hasCustomCover||void 0),url:ek,position:eC},eL=null!==(D=eh.pinThumbnailUrls)&&void 0!==D?D:null==eb?void 0:eb.pin_thumbnail_urls,eN=(0,m.Jx)(eh.images170x,null!==(C=null==eL?void 0:eL.filter(function(e){return null!==e}))&&void 0!==C?C:void 0,ek).map(function(e){var n=e.url;return{name:(0,m.po)(n),url:n}}),eM=[44,49].includes(ec)||[3,442,625].includes(ed),eF=null!=eh&&eh.sensitivityScreen?{reason:null===(R=eh.sensitivityScreen)||void 0===R?void 0:R.reason,showWarning:null===(L=eh.sensitivityScreen)||void 0===L?void 0:L.showWarning}:void 0,eU=null!==(N=null!==(M=eh.pinCount)&&void 0!==M?M:null==eb?void 0:eb.pin_count)&&void 0!==N?N:0,ez=null!==(F=null!==(U=eh.sectionCount)&&void 0!==U?U:null==eb?void 0:eb.section_count)&&void 0!==F?F:0,eB=(0,h.jsx)(f.Z,{archivedDate:null!==(z=eh.archivedByMeAt)&&void 0!==z?z:null==eb?void 0:eb.archived_by_me_at,boardId:eh.entityId,canEdit:!!eh.boardAccess&&eh.boardAccess.includes("write"),containerBackgroundColor:Y,coverPhoto:eR,display:void 0===q?"responsive":q,followedByMe:!!(null!==(B=null==eb?void 0:eb.followed_by_me)&&void 0!==B?B:eh.followedByMe),fullSizeDrawer:Q,hideMeta:b.includes(es),hideSecretBoardIcon:void 0!==$&&$,id:eh.entityId,imagesLego:eN,isAttributionHeightUnfixed:void 0!==J&&J,isAuthenticated:eg,isCollaborative:!!eh.isCollaborative,isCollaborator:!!eA,isCollaboratorsAttributionVisible:void 0!==ee&&ee,isFeaturedBoardsModule:void 0!==en&&en,isNoBoardTitleStyle:void 0!==et&&et,isOwner:eO,isProtected:"protected"===eh.privacy||(null==eb?void 0:eb.privacy)==="protected",isSecret:"secret"===eh.privacy||(null==eb?void 0:eb.privacy)==="secret",isTemporarilyDisabled:!!eh.isTemporarilyDisabled||!!(null!=eb&&eb.is_temporarily_disabled),lastModifiedDate:null!==(Z=null!==(H=eh.boardOrderModifiedAt)&&void 0!==H?H:null==eb?void 0:eb.board_order_modified_at)&&void 0!==Z?Z:"",layout:eP?"square":void 0,locale:ey,metaMarginTop:2,metaPaddingY:0,name:null!==(K=eh.name)&&void 0!==K?K:(null==eb?void 0:eb.name)||"",numberOfCollaborators:null!==(G=null==eT?void 0:eT.length)&&void 0!==G?G:0,numCols:ej,onFollow:function(e){return em((0,y.Z)(e,ex))},onUnfollow:function(e){return em((0,y.f)(e,ex))},pinCount:(void 0===ea||ea)&&eU?eU:void 0,sectionCount:null!=ez?ez:0,sensitivityScreen:eF,showBoardCollaborators:!1!==eE,showFollowButton:void 0===ei||ei,showMask:void 0!==eo&&eo,slotIndex:el,userKey:null==eh?void 0:eh.owner,viewerId:ew,viewObjectIdStr:eu,viewParameter:ec,viewType:ed}),eZ=eh.url||(null==eb?void 0:eb.url);return!b.includes(es)&&eZ?(0,h.jsx)(o.Tg,{href:eg?eZ:eZ.toLowerCase(),onTap:function(){eM&&ex({aux_data:{board_id:eh.entityId,board_pin_count:eU,board_section_count:ez},component:null!=W?W:1,element:36,event_type:102,view_parameter:49===ec?eO?3106:3107:ec,view_data:{view_object_id_str:eu}}),eg||((0,u.NC)("click_go_to_board"),e_({action:"click",item:"board-card"}))},rounding:2,tapStyle:"compress",children:(0,h.jsx)(o.xu,{ref:X,paddingY:void 0!==er&&er?0:eP?S:x,children:eB})}):eB}},752578:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(297949),i=t(251263),o=t(144326),a=t(590338),l=t(730212),s=t(770443),u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function c(e){var n=e.ownerFullName,t=e.ownerIsVerifiedMerchant,c=e.ownerIsVerifiedIdentity,d=e.numberOfCollaborators,p=e.size,f=void 0===p?"xs":p,g=e.showBoardCollaborators,m=(0,o.ZP)(),y=(0,l.B)().locale,_=(0,a.Z)();return(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[f].height,children:[(0,s.jsx)(r.xv,{lineClamp:1,size:u[f].text,children:(0,s.jsx)(i.Z,{text:n})}),(t||c)&&(0,s.jsx)(r.xu,{flex:"none",marginStart:1,children:t?(0,s.jsx)(r.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"shopping",icon:"workflow-status-ok",size:u[f].icon}):(0,s.jsx)(r.JO,{accessibilityLabel:m._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"check-circle",size:u[f].icon})}),(void 0===g||g)&&d>0&&(0,s.jsx)(r.xu,{flex:"none",marginStart:1,children:(0,s.jsx)(r.xv,{size:u[f].text,children:"+ "+_(y,d,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},162779:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(282480),i=t(297949),o=t(770443);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function c(e){return"".concat(Math.min(100*e,100),"%")}function d(e){var n,t=e.customCover,i=e.imgPos,o=e.imgUrl,a=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)({height:0,width:0}))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return u(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1];if((0,r.useEffect)(function(){var e=new Image;e.onload=function(){return s({height:e.naturalHeight,width:e.naturalWidth})},e.src=o},[o]),!t||!i||!l.height||!l.width)return"center center";var d=l.width-i.width,p=l.height-i.height,f=d>0?c(i.x/d):"center",g=p>0?c(i.y/p):"center";return"".concat(f," ").concat(g)}function p(e){var n=d(e),t=e.imgUrl;return(0,o.jsx)(i.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(t,")"),backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"}},"data-test-id":"cover-image",children:(0,o.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function f(e){var n=d(e),t=e.alt,r=e.color,a=e.imgUrl;return(0,o.jsx)(i.zd,{height:"100%",width:"100%",children:(0,o.jsx)("img",{alt:t||"",src:a,style:{backgroundColor:r||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function g(e){return e.renderAsImage?(0,o.jsx)(f,s({},e)):(0,o.jsx)(p,s({},e))}},670049:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(282480),i=t(297949),o=t(144326),a=t(945960),l=t(730212),s=t(410150),u=t(596530),c=t(140002),d=t(162779),p=t(770443);function f(e){var n=e.backgroundColor,t=e.iconColor,r=e.iconSize,a=e.privacy,l=e.size,s=void 0===l?20:l,u=(0,o.ZP)();return(0,p.jsx)(i.xu,{alignItems:"center",color:void 0===n?"darkGray":n,direction:"column",display:"flex",height:s,justifyContent:"center",rounding:"circle",width:s,children:(0,p.jsx)(i.JO,{accessibilityLabel:u._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:void 0===t?"inverse":t,icon:"secret"===a?"lock":"security",size:null!=r?r:s/2})})}var g=t(96405),m="100%";function y(e){var n,t,y=(0,o.ZP)(),_=e.canEdit,h=e.containerBackgroundColor,v=void 0===h?"white":h,b=e.coverPhoto,S=e.fullSize,x=e.hideSecretBoardIcon,P=e.images,I=e.isActive,E=e.isProtected,w=e.isSecret,O=e.isTemporarilyDisabled,T=e.layout,A=e.onEditClick,j=e.renderAsImage,k=e.showSensitivityScreen,D=(0,s.HG)(),C=(0,l.B)(),R=C.isRTL,L=C.isAuthenticated,N=(0,r.useRef)(null),M=P[0],F=!b&&(null===(n=P[0])||void 0===n?void 0:n.name)||y._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),U=[,,].fill(0),z=new i.Ry(1),B="square"===T?c.M0:c.z9,Z="square"===T?c.FP:c.FC,H=null!=M&&M.url?(0,p.jsx)(i.Ee,{alt:F,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:M.url}):(0,p.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"}),K=O||k?{filter:"blur(20px)"}:{};return(0,p.jsxs)(i.zd,{height:S?"100%":void 0,rounding:4,width:"100%",children:[(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,p.jsx)(i.sg,{span:8,children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:K},height:S?"100%":void 0,position:"relative",children:(0,p.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:m}},overflow:"hidden",width:"100%",children:(0,p.jsxs)(i.xu,{ref:N,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:v,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(E||w)&&!x&&(0,p.jsx)(i.xu,{left:!R,margin:2,position:"absolute",right:R,top:!0,zIndex:z,children:(0,p.jsx)(f,{backgroundColor:"default",iconColor:"default",privacy:w?"secret":"protected",size:D&&L?32:24})}),null!=b&&b.url?(0,p.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,p.jsx)(d.Z,{customCover:b.isCustom,height:Z,imgPos:b.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(t=b.url)&&void 0!==t?t:"",renderAsImage:j,width:Math.floor(B/3*2)})}):H]})})})}),(0,p.jsx)(i.sg,{span:4,children:(0,p.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:K},height:"100%",children:[_&&(0,p.jsx)(i.xu,{bottom:!0,left:R,margin:2,opacity:I?1:0,position:"absolute",right:!R,zIndex:z,children:(0,p.jsx)(i.iP,{onTap:function(e){var n=e.event;return null==A?void 0:A(n)},children:(0,p.jsx)(i.hU,{accessibilityLabel:y._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})})}),U.map(function(e,n){var t=b?P[n]:P[n+1];return(0,p.jsx)(i.xu,{height:S?"50%":void 0,position:"relative",children:(0,p.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:m}},overflow:"hidden",width:"100%",children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:v,borderStyle:"solid",borderWidth:0===n?1:"0 1px 1px 1px"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:null!=t&&t.url?(0,p.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,p.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:t.url})}):(0,p.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})},n)})]})}),(O||k)&&(0,p.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:O?(0,p.jsx)(i.xu,{maxWidth:188,children:(0,p.jsx)(i.xv,{align:"center",color:"light",size:"200",weight:"bold",children:y._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,p.jsx)(i.X6,{align:"center",color:"light",size:"400",children:y._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,p.jsx)(u.Z,{visibility:I?"visible":"none",children:(0,p.jsx)(g.Z,{additionalStyles:{backgroundColor:a.Dv.LEGO_WASH}})})]})}},140002:function(e,n,t){t.d(n,{AC:function(){return a},FC:function(){return c},FP:function(){return s},M0:function(){return l},SA:function(){return f},Xq:function(){return d},Y_:function(){return o},o2:function(){return i},s0:function(){return r},sN:function(){return p},z9:function(){return u}});var r=44,i=40,o=49,a=69,l=236,s=157,u=320,c=213,d=7,p=["pinterest","pinterest_canada","pinterestuk","pinterestfr","pinterestde","pinterestit","pinterestespana","pinterestaustralia","pinterestindia","pinterestindonesia","pinterestjp","pinterestbr","pinterestmx","pinterestar","beauty","fashion","homedecor","food","inspiration","inspiringideas","aesthetics","shop","art","travel","trends","collages","pinterestpredicts","collagecuration","createjp","criadores","giftguides","indiaslpcuration","indonesiatodaytabcuration","pinterestarabia","pinterestcl","pinterestco","pinterestcreadores","pinterestcreatorsde","pinterestkorea","pinterestmalaysia","pinterestnl","pinterestpe","pinterestphilippines","pinterestpredictsuk","pinterestsingapore","pinterestthailand","pinterestvietnam","predicts","shopbrasil","todaytabbr","todaytabcurationhome","todaytablatam"],f=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},464099:function(e,n,t){t(711284);var r,i=t(384609),o=t(410150),a=t(383399),l=t(845873),s=void 0!==r?r:r=t(384777);n.Z=function(e){var n,t,r,u,c,d,p,f,g,m,y,_,h,v=(0,o.HG)(),b=(0,a.Z)(),S=null!==(n=null==b?void 0:b.isAuth)&&void 0!==n&&n,x=(0,i.Z)(s,e),P=(0,l.gC)(),I=null!=x&&x.entityId?P(x.entityId):null,E=null!==(t=null==x?void 0:x.imageCoverUrl)&&void 0!==t?t:null==I?void 0:I.image_cover_url,w=null!==(r=null==x?void 0:null===(u=x.coverPin)||void 0===u?void 0:u.imageUrl)&&void 0!==r?r:null==I?void 0:null===(c=I.cover_pin)||void 0===c?void 0:c.image_url,O=null!==(d=null==x?void 0:x.coverImageSpec_216x146)&&void 0!==d?d:null==I?void 0:null===(p=I.cover_images)||void 0===p?void 0:p.spec_216x146,T=null!==(f=null==x?void 0:x.coverImageSpec_222x)&&void 0!==f?f:null==I?void 0:null===(g=I.cover_images)||void 0===g?void 0:g.spec_222x,A=null!==(m=null==x?void 0:x.coverImageSpec_400x300)&&void 0!==m?m:null==I?void 0:null===(y=I.cover_images)||void 0===y?void 0:y.spec_400x300,j=null!==(_=null==x?void 0:x.image_170x)&&void 0!==_?_:null==I?void 0:null===(h=I.images)||void 0===h?void 0:h.spec_170x;return function(e){if(v&&S)return null!==(i=null!==(o=null!=w?w:null==T?void 0:T.url)&&void 0!==o?o:null===(a=(j||[])[0])||void 0===a?void 0:a.url)&&void 0!==i?i:"";var n,t,r,i,o,a,l=(null==x?void 0:x.imageCoverHdUrl)||(null==x?void 0:x.imageCoverUrl);if(l)return l;var s=null!==(n=null!==(t=null!==(r=null==A?void 0:A.url)&&void 0!==r?r:null==T?void 0:T.url)&&void 0!==t?t:null==O?void 0:O.url)&&void 0!==n?n:"";return e&&e>2&&s?s:E||""}}},478595:function(e,n,t){t.d(n,{Bw:function(){return l},Jx:function(){return a},po:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1)},i=function(e){return{dominant_color:"#FFFFFF",height:1,url:e,width:1}},o=function(e){if(!e)return function(){return!0};var n=r(e);return function(e){var t;return"string"==typeof e?r(e)!==n:r(null!==(t=e.url)&&void 0!==t?t:"")!==n}},a=function(e,n,t){return e?e.filter(o(t)):n?n.filter(o(t)).map(i):[]},l=function(e){var n;return null!==(n=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==n?n:{x:0,y:0,width:0,height:0}}},827423:function(e,n,t){function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{C:function(){return i},_:function(){return l}});var i=function(e){return!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname)},o=function(e){var n=e.pathname;return/^\/search\/pins\//.test(n)},a=function(e){var n=e.pathname,t=e.search,r=/^\/search\/pins\/(\?.*)$/.exec(n),i=(t||r&&r[1]||"").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){return"q"===e[0]});return i?decodeURIComponent(i[1]):""},l=function(e){var n=((function(e){if(Array.isArray(e))return r(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return r(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().find(function(e){var n=e.location;return n&&!i(n)});return n&&n.location&&o(n.location)?a(n.location):""}},943438:function(e,n,t){var r=t(790661);n.Z=function(e){var n=(0,r.Z)({url:e.location.search});switch(e.action){case"PUSH":if("news_hub"===n.entrySource)return"deeplink";return"click";case"REPLACE":return"click";case"POP":if(!e.location.key)return"deeplink";return"click";default:return null}}},598259:function(e,n,t){t.d(n,{O:function(){return _},Z:function(){return h}});var r=t(282480),i=t(868073),o=t(297949),a=t(144326),l=t(812477),s=t(297728),u=t(730212),c=t(635258),d=t(827423),p=t(765955),f=t(770443);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var m=(0,r.lazy)(function(){return t.e(87674).then(t.bind(t,309500))}),y={xs:12,sm:16,md:20,lg:24};function _(e){var n=e.children,t=(0,a.ZP)();return(0,f.jsx)(o.u,{link:(0,f.jsx)(o.rU,{href:c.vBy,target:"blank",children:(0,f.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:n})}function h(e){var n,t=e.iconOnly,c=e.isVerifiedIdentity,h=e.isVerifiedMerchant,v=e.showText,b=e.size,S=e.inspirationalBadges,x=e.inspirationalBadgesColor,P=e.surface,I=(0,a.ZP)(),E=(0,s.F)().checkExperiment,w=(0,i.TH)(),O=(0,u.B)().isAuthenticated,T=(0,l.Z)(w)||(0,l.c)(w),A=(0,d.C)(w),j=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return g(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=j[0],D=j[1],C=(0,f.jsxs)(o.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,f.jsx)(o.iP,{onTap:function(){return D(!0)},children:(0,f.jsx)(o.JO,{accessibilityLabel:I._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:y[b]})}),v&&(0,f.jsx)(o.xu,{marginStart:2,children:(0,f.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:I._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]}),R=(0,f.jsxs)(r.Fragment,{children:[h&&!t&&(0,f.jsx)(_,{children:C}),h&&t&&C,c&&!h&&(0,f.jsx)(o.JO,{accessibilityLabel:I._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:y[b]}),!c&&!t&&h&&k&&(0,f.jsx)(r.Suspense,{children:(0,f.jsx)(m,{inspirationalBadges:S,inspirationalBadgesColor:x,setShowModal:D,showModal:k})})]});if(A||"SuggestionReps"===P||T)return R;var L=E("simplify_creator_attributions_web").group,N=E("simplify_creator_attributions_unauth_web"),M=N.group,F=N.anyEnabled,U=!O&&F&&!(0,p.kX)(M);if((c||h)&&!A&&("enabled_att_trusted_merchants_and_verified_creators_only"===L||"enabled_att_trusted_merchants_and_verified_creators_only"===M))return(0,f.jsx)(r.Fragment,{});switch(U?M:L){case"enabled_att_trusted_merchant_blue_checkmark":return(0,f.jsxs)(r.Fragment,{children:[h&&!t&&(0,f.jsx)(_,{children:C}),h&&t&&C]});case"enabled_att_creators_with_red_checkmarks":return(0,f.jsx)(r.Fragment,{children:c&&!h&&(0,f.jsx)(o.JO,{accessibilityLabel:I._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:y[b]})});default:return R}}},810655:function(e,n,t){t.d(n,{A:function(){return l},Z:function(){return s}});var r=t(282480),i=t(297949),o=t(770443);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var n,t,s,u=e.backgroundColor,c=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,g=e.id,m=e.isHovered,y=e.onClick,_=e.onMouseDown,h=e.onMouseEnter,v=e.onMouseLeave,b=e.searchBoxRenderStopwatch,S=e.url,x=e.width,P=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return a(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=P[0],E=P[1],w=function(){h?h():E(!0)},O=function(){v?v():E(!1)},T=m||I,A=T?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(i.Tg,{href:S,onBlur:O,onFocus:w,onMouseDown:_,onMouseEnter:w,onMouseLeave:O,onTap:function(){null==y||y(g)},rounding:4,tabIndex:p?-1:void 0,children:(0,o.jsx)(i.zd,{height:f,rounding:4,width:x||"100%",children:null!=d&&d.url?(0,o.jsxs)(i.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!==(t=d.height)&&void 0!==t?t:1,naturalWidth:null!==(s=d.width)&&void 0!==s?s:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:A},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:T}):c]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},283973:function(e,n,t){t.d(n,{Z:function(){return tI}});var r,i=t(282480),o=t(297949),a=t(503546),l=t(868073),s=t(269771),u=t(573706),c=t(144326),d=t(969119),p=t(770443);function f(e){var n=e.showCancel,t=e.viewType,r=(0,c.ZP)(),i=(0,l.$B)().path,a=(0,u.v)().logContextEvent,f=(0,s.t)(),g=f.setImage,m=f.setUpdatedCropArea,y=f.setIsLensModalOpen,_="/lens-search"===i;(0,d.Z)(function(){a({component:43,element:1304,event_type:120,view_type:t})});var h=function(){a({component:43,element:1304,event_type:101}),y(!0)};return(0,p.jsxs)(o.kC,{alignItems:"center",direction:"row",height:"100%",children:[n&&(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #cdcdcd",borderRadius:24}},"data-test-id":"lens-vertical-line",height:20}),(0,p.jsx)(o.hU,{accessibilityLabel:r._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",iconColor:"gray",onClick:function(){_||(g(void 0),m(void 0)),h()}})]})}var g=t(262462),m=t(961754),y=t(160647),_=t(453854);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function v(){var e,n=(0,c.ZP)(),t=(0,s.t)(),r=t.setHistoryData,a=t.setImage,d=t.setIsLensModalOpen,f=(0,l.k6)(),g=(0,u.v)().logContextEvent,v=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,n){if(e){if("string"==typeof e)return h(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],S=v[1],x=(0,m.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/history/",data:{fields:"id,image_urls,image_sizes"}},noCache:!0}),P=x.data,I=void 0===P?[]:P,E=x.isLoaded&&I&&I.length>0;(0,i.useEffect)(function(){!b&&E&&(g({component:15075,element:14560,event_type:120,view_type:119}),S(!0))},[E,g,S,b]),(0,i.useEffect)(function(){E&&r(I)},[r,I,E]);var w=function(){a(void 0),d(!1),g({component:15075,element:14560,event_type:101,view_type:119}),f.push("/lens-search/history")};return I&&0!==I.length?(0,p.jsx)(_.q,{children:function(e){var t=e.hovered,r=e.onMouseEnter,i=e.onMouseLeave;return(0,p.jsx)(o.iP,{onTap:w,children:(0,p.jsxs)(o.xu,{alignContent:"between",dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0, 0, 0, .1)":void 0}},direction:"row",display:"flex",height:110,onMouseEnter:r,onMouseLeave:i,position:"relative",rounding:4,width:"100%",children:[(0,p.jsx)(o.xu,{marginTop:2,position:"relative",width:112,children:I.slice(0,3).map(function(e,n){return(null==e?void 0:e.id)&&n<3&&(0,p.jsx)(y.Z,{card:{url:e.image_urls["236x236"]},fanOut:!1,index:n,rounding:4,size:"SMALL"},e.id)})}),(0,p.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingX:2,width:"calc(100% - ".concat(112,"px)"),children:[(0,p.jsxs)(o.kC,{alignItems:"stretch",direction:"column",gap:1,justifyContent:"start",children:[(0,p.jsx)(o.X6,{size:"400",children:n._('History', 'lens.history', 'header for the history count')}),(0,p.jsx)(o.xv,{size:"200",children:n._('View previous uploads', 'lens.previous.uploads', 'previously uploaded lens image history ')})]}),(0,p.jsx)(o.JO,{accessibilityLabel:n._('Lens history', 'lens.history.navigation.button', 'Clicking on the button will navigate the user to the Lens History landing page'),color:"default",icon:"arrow-forward"})]})]})})}}):null}var b=t(910674),S=t(920595),x=t(194093),P=t(758339),I=t(240760),E=t(700337),w=t(741102),O=t(248623),T=t(547482),A=t(816222);function j(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function k(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){j(o,r,i,a,l,"next",e)}function l(e){j(o,r,i,a,l,"throw",e)}a(void 0)})}}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||C(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,n){if(e){if("string"==typeof e)return R(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,n):void 0}}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var L={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function N(){var e,n=(0,c.ZP)(),t=(0,l.k6)(),r=(0,s.t)(),a=r.historyData,f=r.image,m=r.setHeroImageUrl,y=r.setImage,_=r.setImageData,h=r.setIsLensModalOpen,j=(0,l.$B)().path,N=(0,u.v)().logContextEvent,M=D((0,i.useState)(347),2),F=M[0],U=M[1],z=D((0,i.useState)(""),2),B=z[0],Z=z[1],H=D((0,i.useState)(""),2),K=H[0],G=H[1],V=D((0,i.useState)(null),2),W=V[0],Y=V[1],q=D((0,i.useState)(""),2),X=q[0],Q=q[1],$=(0,i.useRef)(null),J="/lens-search"===j,ee="/lens-search/history"===j;(0,d.Z)(function(){N({component:15075,event_type:120,view_type:119})}),(0,i.useEffect)(function(){""===B?Q(""):G("")},[B]),(0,i.useEffect)(function(){(J||ee)&&W&&!f&&(h(!1),ee&&t.push("/lens-search/"))},[h,t,J,f,W,ee]),(0,i.useEffect)(function(){f&&!J&&(t.push("/lens-search/"),h(!1))},[t,J,f,h]),(0,i.useEffect)(function(){a&&a.length>0&&347===F&&U(F+110+12)},[a,U,F]);var en=function(e){var n=new FormData;n.append("image",e),(0,S.Z)({url:"/upload-image-lens-history/",type:"PUT",data:n})},et=(0,i.useCallback)(k(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=14;break}return e.prev=1,e.next=4,(0,b.Z)(W,_);case 4:return t=e.sent,e.next=7,(0,A.Z)({i18n:n,ideaPinRenamingEnabled:!1,file:t,options:{allowVideo:!1}});case 7:"error"===(r=e.sent).type?G(r.message):(G(""),y(t),en(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),G(null!==(i=(0,x.Z)(e.t0,"message"))&&void 0!==i?i:"");case 14:case"end":return e.stop()}},e,null,[[1,11]])})),[W,G,y,n,_]),er=function(e){var t=(0,w.Z)({url:e});N({component:15075,element:14559,event_type:15656,view_type:119}),t?Q(""):Q(n._('Invalid URL. Try using another link', 'lens.url.invalid', 'Error message for invalid URL in Lens Image Search')),y(void 0),k(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.Z)(e);case 2:Y(n.sent);case 4:case"end":return n.stop()}},n)}))(),e&&((0,g.Z)(e),m(e))},ei=function(){y(void 0),m(void 0)};return(0,i.useEffect)(function(){W&&et()},[et,W]),(0,p.jsx)(P.ZP,{accessibilityModalLabel:n._('Lens modal', 'lens.modal.accessibilityLabel', 'Modal for Lens Image Search'),align:"start",heading:(0,p.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(o.X6,{accessibilityLevel:1,size:"500",children:n._('Upload an image to search', 'lens.modal.header', 'Header for Lens Image Search modal')}),(0,p.jsx)(o.hU,{accessibilityLabel:n._('Lens icon', 'lens.entrypoint.icon', 'Icon for lens entrypoint'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){return h(!1)},size:"md"})]}),isOpen:!0,onDismiss:function(){return h(!1)},size:"sm",children:(0,p.jsx)(o.xu,{height:F,marginTop:1,paddingX:6,children:(0,p.jsxs)(o.xu,{height:311,position:"relative",children:[(0,p.jsx)(T.Z,{accept:((function(e){if(Array.isArray(e))return R(e)})(e=O.xl)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(","),accessibilityLabel:n._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!K,id:"lens-photo-upload-input",onChange:function(e){var n,t=null===(n=e.target.files)||void 0===n?void 0:n[0];t&&(N({component:15075,element:14558,event_type:15656,view_type:119}),Y(t)),ei()},onDrop:function(e){var t=e.dataTransfer.files;N({component:15075,event_type:3501,view_type:119}),t.length>1?G(n._('We can\u2019t search multiple images at once', 'lens.error.multipleImages', 'Error message for uploading multiple images in Lens Image Search')):(G(""),Y(e.dataTransfer.files[0])),ei()},children:function(){return(0,p.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:L},direction:"column",display:"flex",height:"100%",children:[(0,p.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,p.jsx)(o.JO,{accessibilityLabel:n._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:K?"error":"dark",icon:K?"alert":"arrow-circle-up",size:24}),(0,p.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,p.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!K&&(0,p.jsx)(o.xu,{marginBottom:4,width:320,children:(0,p.jsx)(o.xv,{align:"center",color:"error",children:K})}),(0,p.jsx)(o.xv,{align:"center",inline:!0,children:(0,I.nk)(n._('Drag an image here or {{ chooseFile }}', 'lens.modal.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,p.jsx)(o.xv,{inline:!0,underline:!0,children:n._('choose a file', 'lens.modal.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]}),(0,p.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #cdcdcd"}},paddingY:6,position:"absolute",width:"90%",children:(0,p.jsx)(E.Z,{children:(0,p.jsxs)(o.xu,{position:"relative",zIndex:new o.Ry(10),children:[(0,p.jsx)(o.nv,{ref:$,errorMessage:X,hasError:!!X,id:"scrape-view-website-link",label:n._('Upload from URL', 'lens.url.label', 'Label for url input'),onChange:function(e){Z(e.value)},placeholder:n._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:B}),!!B&&(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:30}},paddingX:2,position:"absolute",right:!0,top:!0,children:(0,p.jsx)(o.hU,{accessibilityLabel:n._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"lightGray",icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return er(B)},size:"sm"})})]})})})]})}}),(0,p.jsx)(o.xu,{marginTop:6,children:(0,p.jsx)(v,{})})]})})})}var M=t(401296),F=t(459870),U=(0,t(504178).Z)({name:"search_tab_render",sampleRate:1}),z=U.Provider,B=U.useHook,Z=t(730212),H=t(454047),K=t(512541);function G(e){var n=e.gradientPrimaryColor,t=e.gradientSecondaryColor,r=e.gradientDirection,i=e.position;return(0,p.jsx)(o.xu,{bottom:"bottom"===i,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(n,", ").concat(t,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===i,width:"100%",zIndex:new o.Ry(1)})}var V=function(e){var n=e.term;return(0,p.jsx)(o.xv,{color:"subtle",inline:!0,lineClamp:1,children:n})};function W(e){var n,t,r=e.defaultPlaceholder,a=e.gradientSecondaryColor,l=void 0===a?"#FFF":a,s=e.height,u=e.suggestedSearchTerms,d=(0,c.ZP)(),f=u.length<3,g=(0,i.useRef)(null);return(0,p.jsx)(o.xu,{ref:g,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===s?48:s,overflow:"hidden",position:"relative",children:f?(0,p.jsx)(o.xv,{color:"subtle",inline:!0,children:r}):(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(G,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:l,position:"top"}),(0,p.jsx)(G,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:l,position:"bottom"}),(0,p.jsxs)(o.kC,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,p.jsx)(o.xv,{color:"subtle",inline:!0,overflow:"noWrap",children:d._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,p.jsx)(K.Z,{unsafeCSS:"\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,p.jsx)(o.xu,{children:(0,p.jsxs)(o.xu,{dangerouslySetInlineStyle:(n=u.length,{__style:{animation:"slide-".concat(n,"-terms-loop ").concat(2.3*(n+1),"s ease-out infinite forwards")}}),display:"inlineBlock",marginStart:1,children:[u.map(function(e){return(0,p.jsx)(o.xu,{marginBottom:7,children:(0,p.jsx)(V,{term:e})},e)}),(0,p.jsx)(o.xu,{marginBottom:7,children:(0,p.jsx)(V,{term:null!==(t=u[0])&&void 0!==t?t:""})})]})})]})]})})}var Y=t(545007),q=t(535726),X=t(282999),Q=t(1006),$=t(623722),J=t(410150),ee=t(887525);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,n){if(e){if("string"==typeof e)return er(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?er(e,n):void 0}}function er(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function ei(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ei(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=en(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=en(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==en(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ei(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ea=void 0!==r?r:r=t(53280),el=function(e){var n={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,X.uM)(e)?(n.pageType="pin",n.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,X.am)(e)&&(n.pageType="board",n.isEligiblePageTypeForDynamicSearchPlaceholder=!0),n},es=function(e){var n=e.fetchedSuggestedTerms,t=e.deviceType,r=e.pageType,i={deviceType:t,dataType:e.dataType,pageType:r};return n.length<3?((0,Q.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",eo({termsCount:n.length},i)),n=[]):(n=n.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,Q.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",eo({termsCount:n.length},i)),n=[]),n},eu=t(661529),ec=t(383399),ed=t(498490),ep=t(795264),ef=t(635284),eg=t(611735),em=t(297728),ey=t(24534),e_=t(613059),eh=t(851680),ev=t(545230),eb=t(663641),eS=t(868808),ex=t(830017),eP=t(151905),eI=t(713211),eE=t(573372),ew=t(720398),eO=t(976534),eT={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null};function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ek(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ej(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=eA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==eA(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ej(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eD(e){var n=e.suggestion,t=e.query,r=e.lastFocusTime,i=void 0===r?0:r,o=e.filterSelectedTerm,a=e.suggestionStoryId;if("explorearticle"===n.type){var l,s,u=n.aux_fields,c=n.id,d=n.query,p=n.story_category;return null!==(l=null===(s=n.action)||void 0===s?void 0:s.url)&&void 0!==l?l:(0,eE.Z)({bubbleId:c,pinId:null==u?void 0:u.image_pin_id,query:d,referringSource:2===p?"trending":"autocomplete_bubble",storyCategory:p,storyId:a})}if("todayarticle"===n.type){var f=n.id,g=n.title;return(0,eI.x)({title:g,id:f,articleType:"today"})}var m={eq:(0,eh.Z)(t)};return i&&(m.etslf=String(Date.now()-i)),o&&(m.filters=o),(0,ew.Z)("url"in n?n.url:"",m)}function eC(e){var n=e.enteredQuery,t=e.suggestion,r=e.index,i=e.additionalAuxData,o=ek(ek({},void 0===i?{}:i),{},{entered_query:n||void 0,selected_query:t.query||t.label||void 0});switch(t.type){case"board":case"user":case"enriched_autocomplete":case"inclusive_product_filter_query":case"recent_query":case"query":return ek({autocomplete_type:"inclusive_product_filter_query"===t.type?"query":t.type,result_index:r,user_id:"user"===t.type?t.id:void 0,ac_suggestion_id:t.id},o);case"explorearticle":return 26===t.story_category?ek({article_id:t.id,autocomplete_type:"recommended_article",story_id:t.storyId,story_type:"shopping_spotlight"},o):ek({autocomplete_type:2===t.story_category?"trending":"recommended",result_index:r},o);case"todayarticle":return ek({article_id:t.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight"},o);default:return{}}}function eR(e,n){return"SuggestionGroup-Option-".concat(e,"-").concat(n)}var eL=function(e,n){var t=0;return e.map(function(e){var r,i,o=t;return t+=(null!==(r=(null!==(i=e.items)&&void 0!==i?i:[]).length)&&void 0!==r?r:0)+(n?1:0),o})},eN=function(e,n){if(null!=n){for(var t,r=((null!==(t=e.find(function(e){return"blended_autocomplete"===e.type}))&&void 0!==t?t:[])||[]).items.some(function(e){return e&&e.modifiedFilterEligibility}),i=eL(e,r),o=r?1:0,a=0;a<i.length;a+=1)if(e[a].items.length&&n-i[a]<e[a].items.length+o)return e[a].items[n-i[a]-o];return null}};function eM(e,n,t){var r=e.map(function(e){var n;return null!==(n=e.items.length)&&void 0!==n?n:0}).reduce(function(e,n){return e+n},0),i=t?null==n?0:n===r-1?void 0:n+1:null==n?r-1:0===n?void 0:n-1,o=eN(e,i);return[i,o]}var eF=t(740227),eU=t(468808),ez=t(961414);function eB(e){return(eB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eZ(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eH(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eZ(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=eB(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eB(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==eB(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eZ(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eK=function(){var e=(0,Y.I0)();return(0,i.useMemo)(function(){return function(){e((0,eU.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))}},[e])};function eG(){return"undefined"!=typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}var eV=t(211397),eW=t(511507);function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eq(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eX(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return eQ(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eQ(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eQ(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var e$=(0,ed.Z)("SearchBoxHandlers"),eJ=e$.Provider,e0=e$.useHook;function e1(e){var n=e.children,t=function(e){var n,t,r,a,p,f,g,y,_,h,v,b,S,x=e.handleIconOnlyChange,P=e.iconOnly,I=void 0!==P&&P,E=e.isPartner,w=void 0!==E&&E,O=e.widthType,T=void 0===O?"md":O,A=(0,u.v)().logContextEvent,j=(0,Z.B)(),k=j.country,D=j.language,C=(0,ec.Z)(),R=(0,l.k6)(),L=(0,l.TH)(),N=(0,l.$B)().path,M=(0,em.F)().checkExperiment,F=eX((0,i.useTransition)(),2)[1],U=(0,s.t)().isLensModalOpen,z=C.isAuth&&M("web_lens").anyEnabled;n=(0,ec.Z)(),t=(0,Z.B)().isBot,r=n.isAuth,a=n.isLimitedLogin,(0,m.Z)(r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:eb.lw.PINS},noCache:!0}:null),(0,m.Z)(t?null:{name:"SearchTabResource"}),(0,m.Z)(r&&!a?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:eP.a3.join(","),pin_preview_count:eP.sA}}}:null);var B=(0,eW.Z)({skipResourceCall:!(0,X.En)(L)}).auxData,H=null==B?void 0:null===(S=B.metadata)||void 0===S?void 0:S.unity_search_query,K=(0,e_.Z)(L),G=K.query,V=K.scope,W=K.rs,en=M("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&H||(0,eS.mB)(L.search).entered_query,ei=ep.t.includes(W)?"":en||G,eo=null!=ei?ei:"",eu=eX((0,i.useState)(eo),2),ed=eu[0],eI=eu[1],eE=eX((0,i.useState)(),2),ew=eE[0],eA=eE[1],ej=ew&&ew.query?ew.query:ed,ek=(p=(0,l.TH)(),f=(0,ec.Z)(),y=(g=(0,eO.Z)(p.search)).ideas_referrer,_=g.view_parameter_type,y=parseInt(y,10),_=parseInt(_,10),h=f.isAuth&&p.pathname.startsWith("/".concat(f.username,"/")),v=f.isAuth&&p.pathname.startsWith("/recently-viewed"),b=3173===_&&(1===y||25===y),(h||v)&&!b),eR=null!=V?V:eb.lw.PINS;ek&&(eR=eb.lw.PINS_MINE),eR===eb.lw.PINS_BUYABLE&&(eR=eb.lw.PINS);var eL=eX((0,i.useState)(eR),2),eF=eL[0],eU=eL[1],ez=C.isAuth&&eF===eb.lw.PINS_MINE,eB=eX((0,i.useState)([]),2),eZ=eB[0],eH=eB[1],eQ=eX((0,i.useState)(),2),e$=eQ[0],eJ=eQ[1],e0=eX((0,i.useState)(!1),2),e1=e0[0],e2=e0[1],e3=eX((0,i.useState)(!1),2),e4=e3[0],e6=e3[1],e7=eX((0,i.useState)(!1),2),e5=e7[0],e8=e7[1],e9=eX((0,i.useState)(!1),2),ne=e9[0],nn=e9[1],nt=eX((0,i.useState)(!1),2),nr=nt[0],ni=nt[1],no=eX((0,i.useState)(0),2),na=no[0],nl=no[1],ns=eG()&&C.isAuth&&"US"===k&&"en"===D&&M("web_voice_search").anyEnabled,nu=eX((0,i.useState)(eT.NULL),2),nc=nu[0],nd=nu[1];function np(){eJ(void 0),eA(void 0)}var nf=e4||ne,ng=(0,ex.I)(),nm=ng.setAppFocusState,ny=ng.toggleTypeaheadOverlay,n_=eK(),nh=(0,eV.Z)(),nv=eX((0,i.useState)(I),2),nb=nv[0],nS=nv[1];(0,i.useEffect)(function(){nS(I)},[I]);var nx=eX((0,i.useState)(!1),2),nP=nx[0],nI=nx[1],nE=eX((0,i.useState)(),2),nw=nE[0];!function(e){var n=e.setShouldHideGhostText,t=e.setSuggestionsMaxHeight,r=(0,(0,em.F)().checkExperiment)("web_search_autocomplete_empty_state").anyEnabled;function i(){var e;n(((null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0)<=eP.le),t(window.innerHeight-14-eP.Fj-(r?60:0))}(0,d.Z)(function(){return window.addEventListener("resize",i),i(),function(){window.removeEventListener("resize",i)}})}({setShouldHideGhostText:nI,setSuggestionsMaxHeight:nE[1]});var nO=C.isAuth&&"shrink"!==T&&(eo||ek),nT=["shrink","auto"].includes(T)?"8px":0;nO&&(nT="4px");var nA=eX(function(e){var n,t,r,a,s,u,d,p,f,g,y,_,h,v,b,S,x,P,I,E=e.shouldHideGhostText,w=e.isSyop,O=e.inputFocused,T=e.voiceSearchPlaceholder,A=(0,c.ZP)(),j=(0,ec.Z)().isAuth,k=(0,m.Z)(j?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),D=j?A._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):A._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),C="";if(T)D=T===eT.LISTENING?A._('Listening...', 'searchBox.placeholder.search', 'default placeholder text for search box'):A._('Didn\'t get that! Try again', 'searchBox.placeholder.search', 'default placeholder text for search box');else if(!E&&k.isLoaded&&k.data&&k.data.length>0){var R=k.data[0].text;C=k.data[0].query,D=R}return w&&(D=O?A._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):A._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[D,C,(r=(t=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)([]))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||et(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],a=t[1],s=(0,l.TH)(),u=(0,o.JZ)(),d=(0,$.Z)(s.pathname)||"",p=(0,Z.B)().isAuthenticated,f=(0,J.ZP)(),g=(0,X.uM)(s),y=(0,X.am)(s),h=(_=el(s)).pageType,v=_.isEligiblePageTypeForDynamicSearchPlaceholder,b=!p&&v&&!u,S=(0,q.useRelayEnvironment)(),x=(0,Y.v9)(function(e){return(0,ee.Z)(e)[s.pathname]}),P=(0,i.useCallback)(function(){(0,q.fetchQuery)(S,ea,{pinId:d},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var n,t,r,i=[],o=(null===(n=e.v3GetPinQuery)||void 0===n?void 0:n.__typename)==="V3GetPin"?null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.data:null;null!=o&&o.isUnsafe?(0,Q.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!=o&&null!==(r=o.pinJoin)&&void 0!==r&&r.visualAnnotation&&(i=o.pinJoin.visualAnnotation),i=es({fetchedSuggestedTerms:i,deviceType:f,pageType:h,dataType:"vase"})),a(i.slice(0,5))},error:function(e){(0,Q.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[f,d,S,h]),I=(0,i.useCallback)(function(){var e;if(null!=x&&x.seo_related_interests&&!(null!==(e=x.owner)&&void 0!==e&&e.is_partner)){var n=x.seo_related_interests.reduce(function(e,n){return n.name?[].concat(function(e){if(Array.isArray(e))return er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||et(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.name]):e},[]);a((n=es({fetchedSuggestedTerms:n,deviceType:f,pageType:h,dataType:"board_annotations"})).slice(0,5))}},[x,h,f]),(0,i.useEffect)(function(){!p&&b&&("desktop"!==f?a([]):(g&&P(),y&&I()))},[x,g,y,b,p,f,P,I]),(0,i.useEffect)(function(){g||y||0===r.length||a([])},[g,r.length,y]),r)]}({shouldHideGhostText:nP,isSyop:ez,inputFocused:e4,voiceSearchPlaceholder:nc}),3),nj=nA[0],nk=nA[1],nD=nA[2],nC=(0,i.useRef)();function nR(){var e=(0,eh.Z)(ed);if(e.length){var n=(0,ey.Z)({query:e,rs:ev.i.AC,scope:eb.lw.PINS_MINE});nh(n),R.push(n)}}function nL(e){var n=e.index,t=e.isKeyDown,r=e.suggestion,i=e.suggestionStoryId,o=t?97:101,a=eC({index:n,suggestion:r,enteredQuery:ed,additionalAuxData:{user_id:"user"===r.type?r.id:void 0}});switch(r.type){case"inclusive_product_filter_query":case"recent_query":case"query":A({event_type:o,view_type:eP.Ie,view_parameter:"recent_query"===r.type?3467:103,component:35,element:"recent_query"===r.type?253:104,aux_data:a,object_id_str:r.id});var l=eD({suggestion:r,query:ed,lastFocusTime:na});ez&&"recent_query"===r.type&&(l=l.replace("pins","my_pins")),nh(l),R.push(l);break;case"recent_save":R.push(r.url);break;case"enriched_autocomplete":A({event_type:o,view_type:eP.Ie,view_parameter:103,component:35,element:104,aux_data:a}),nh(r.url),R.push(r.url);break;case"explorearticle":var s=26===r.story_category?13865:200;A({event_type:101,view_type:eP.Ie,view_parameter:3467,component:s,aux_data:a});var u=eD({suggestion:r,query:"",suggestionStoryId:i});nh(u),t&&R.push(u);break;case"todayarticle":A({event_type:101,view_type:eP.Ie,view_parameter:3467,component:200,aux_data:a}),t&&R.push(eD({suggestion:r,query:""}));break;case"board":case"user":A({event_type:o,view_type:eP.Ie,view_parameter:103,component:35,element:104,aux_data:a,object_id_str:r.id}),nh(r.url),R.push(r.url);break;case"syop_cta":nR()}np(),e6(!1),nn(!1)}(0,i.useEffect)(function(){nC.current!==nf&&F(function(){nf?ef.Z.pause():ef.Z.resume(),nm(!nf),nf||(np(),eI(eo)),ny(nf),nC.current=nf})},[eo,nf,nm,ny]),(0,i.useEffect)(function(){eI(eo),eU(eR),eo||n_(),e6(!1),nn(!1)},[eo,eR,n_]);var nN=function(){if(ej!==eo||eF!==eR){var e,n=(0,eh.Z)(ej);if(n.length){var t=(0,ey.Z)({query:n,rs:null!==(e=ev.i.TYPED)&&void 0!==e?e:"",scope:eF});nh(t),e6(!1),nn(!1),R.push(t)}}};return{allowLens:z,allowVoiceSearch:ns,appliedQuery:eo,displayedQuery:ej,endPadding:nT,enteredQuery:ed,enteredScope:eF,getSuggestionImpressionOptions:function(e){var n=e.additionalAuxData,t=e.index,r=e.groupIndex,i=e.suggestion,o=e.loggingId,a=eP.Ie,l=eC({index:t,suggestion:i,enteredQuery:ed,additionalAuxData:n});switch(i.type){case"inclusive_product_filter_query":case"query":case"user":return{viewType:a,componentType:35,elementType:104,viewParameter:103,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_query":return{viewType:a,componentType:35,elementType:253,viewParameter:3467,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"explorearticle":case"todayarticle":case"story":return{componentType:200,contextLogData:l,impressionType:"Story",loggingId:o,objectIdStr:o,slotIndex:r,viewParameter:3467,viewType:a};default:return{}}},handleClearSearch:function(){if(eI(""),eU(eb.lw.PINS),np(),nd(eT.CANCEL),C.isAuth&&eo){var e=(0,ey.Z)({query:"",rs:ev.i.REMOVE});R.push(e)}else w&&x&&x(!0)},handleInclusiveProductFilterClick:function(e,n,t){var r={};ed&&(r.entered_query=ed),A({event_type:101,view_type:eP.Ie,view_parameter:103,component:35,element:104,aux_data:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eq(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=eY(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=eY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==eY(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eq(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({autocomplete_type:"query",result_index:n},r)});var i=eD({suggestion:e,query:ed,lastFocusTime:na,filterSelectedTerm:t});nh(i),R.push(i)},handleInputBlur:function(e){var n=e.currentTarget;setTimeout(function(){n.contains(document.activeElement)||e6(!1)},0)},handleInputFocus:function(){nl(Date.now()),A({event_type:101,component:43,element:227}),e6(!0)},handleKeyDown:function(e){switch(e.keyCode){case eg.Z.ENTER:var n=eN(eZ,e$);nf&&n&&e.preventDefault(),n&&e1?(nL({index:n.resultIndex||0,isKeyDown:!0,suggestion:n}),e2(!1)):nN();break;case eg.Z.ESCAPE:nf&&e.preventDefault(),e.stopPropagation(),e6(!1),nn(!1);break;case eg.Z.UP:nf&&e.preventDefault();var t=eX(eM(eZ,e$),2),r=t[0],i=t[1];eJ(r),e2(!0),eA(i);break;case eg.Z.DOWN:nf&&e.preventDefault();var o=eX(eM(eZ,e$,!0),2),a=o[0],l=o[1];eJ(a),e2(!0),eA(l);break;case eg.Z.TAB:nk&&!ed&&nf&&(e.preventDefault(),e.stopPropagation(),eI(nk))}},handleScopeChange:function(e){eU(e),e6(w&&!ed),np()},handleSearchIconButtonClick:function(){e6(!0),nS(!1),x&&x(!1),w&&A({event_type:101,element:11809})},handleSuggestionSelect:nL,handleSyopCtaClick:nR,handleTextChange:function(e){eI(e),np()},handleTypedSearchSubmit:nN,handleVoiceSearchSubmit:function(e){var n=(0,ey.Z)({query:e,rs:ev.i.VOICE_SEARCH,scope:eF});nh(n),e6(!1),nn(!1),R.push(n)},inputFocused:e4,isContentTypeFilterHovered:nr,isCurrentlyOnLensPage:"/lens-search"===N,isInTypeaheadSession:nf,isLensModalOpen:U,searchBoxHovered:e5,searchBoxPlaceholder:nj,setContentTypeFilterHovered:ni,setSearchBoxHovered:e8,setVoiceSearchPlaceholder:nd,setSuggestionsFocusIndex:eJ,setSuggestionsHovered:nn,showContentTypeFilter:nO,showIconOnly:nb,voiceSearchPlaceholder:nc,suggestedSearchTerms:nD,suggestionGroups:eZ,suggestionsFocusIndex:e$,suggestionsMaxHeight:nw,updateSuggestionGroups:eH}}({handleIconOnlyChange:e.handleIconOnlyChange,iconOnly:e.iconOnly,widthType:e.widthType,isPartner:e.isPartner});return(0,p.jsx)(eJ,{value:t,children:n})}function e2(e){var n=e.disabled,t=e.name,r=(0,c.ZP)(),a=(0,i.useRef)(null),s=(0,i.useRef)(),u=(0,ec.Z)().isAuth,f=(0,l.TH)(),g=(0,o.JZ)(),m=e0(),y=m.displayedQuery,_=m.handleInputBlur,h=m.handleTextChange,v=m.handleInputFocus,b=m.handleKeyDown,S=m.suggestionsFocusIndex,x=m.suggestionGroups,P=m.isInTypeaheadSession,I=m.handleTypedSearchSubmit,E=m.searchBoxPlaceholder,w=m.searchBoxHovered,O=m.setVoiceSearchPlaceholder,T=m.suggestedSearchTerms,A=m.voiceSearchPlaceholder,j=function(e){var n,t,r=e.suggestionsFocusIndex,i=eL(e.suggestionGroups);if("number"==typeof r){for(var o=i.length-1;o>=0;o-=1)if(r>=i[o]){n=o,t=r-i[o];break}}return"number"==typeof n&&"number"==typeof t?eR(n,t):""}({suggestionsFocusIndex:S,suggestionGroups:x}),k=el(f).isEligiblePageTypeForDynamicSearchPlaceholder;(0,i.useEffect)(function(){A&&s.current&&(s.current.pathname!==f.pathname||s.current.search!==f.search)&&O(eT.NULL),s.current=f},[f,A,O]),(0,d.Z)(function(){a.current&&I&&a.current.addEventListener("searchTrigger",I)}),(0,i.useEffect)(function(){a.current&&(document.activeElement===a.current!==P?P?a.current.focus():a.current.blur():O(eT.NULL))},[P,O]),(0,d.Z)(function(){a.current&&new URLSearchParams(window.location.search).get("search_box_open")&&setTimeout(v,500)});var D=!g&&!u&&k&&!y,C=E||r._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box');return(0,p.jsxs)(o.xu,{flex:"grow",height:"100%",children:[(0,p.jsx)(K.Z,{unsafeCSS:"input::placeholder{ color: #6E6E6E".concat(D?"; opacity: 0":"","}")}),(0,p.jsx)("input",{ref:a,"aria-activedescendant":j,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":P,"aria-label":r._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-gestalt-valid-html":"SearchField","data-test-id":"search-box-input",disabled:void 0!==n&&n,name:t,onBlur:_,onChange:function(e){h(e.target.value)},onClick:function(){},onFocus:v,onKeyDown:b,placeholder:C,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:H.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:y}),D&&(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,p.jsx)(W,{defaultPlaceholder:C,gradientSecondaryColor:w?eu.wU:eu.Sx,suggestedSearchTerms:T})}),(0,p.jsx)(o.xu,{display:"none",id:"searchBoxAccessibleText",children:r._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}var e3=t(241716);function e4(e){var n=e.contentTypes,t=e.contentTypesAnchor,r=e.handleSelectFilter,i=e.onDismiss;return(0,p.jsx)(o.Lt,{anchor:t,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:i,zIndex:new o.Ry(e3.fe),children:n.map(function(e,n){return(0,p.jsx)(o.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(n)},option:{value:e.text,label:e.text},children:(0,p.jsx)(o.xv,{weight:[eb.lw.PINS,eb.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}var e6=t(402189);function e7(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return e5(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e5(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e5(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var e8=function(e){switch(e){case eb.lw.PINS:return 220;case eb.lw.PINS_MINE:return 223;case eb.lw.PINS_VIDEO:return 11399;case eb.lw.BOARDS:return 221;case eb.lw.USERS:return 222;default:return null}},e9=function(e){var n,t,r=e.currentlySelectedFilter,s=e.currentQuery,d=e.handleContentTypeFilterHover,f=e.handleScopeChange,g=(0,u.v)().logContextEvent,m=(0,c.ZP)(),y=(t=(n=[{scope:eb.lw.PINS,text:m._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:eb.lw.PINS_MINE,text:m._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===eb.lw.PINS_MINE}),n.push(n.splice(t,1)[0]),n),_=(0,i.useRef)(null),h=(0,l.k6)(),v=(0,a.Z)().enabled,b=e7((0,i.useState)(r||y[0].scope),2),S=b[0],x=b[1],P=e7((0,i.useState)(!1),2),I=P[0],E=P[1],w=e7((0,i.useState)(!1),2),O=w[0],T=w[1];(0,i.useEffect)(function(){x(r)},[r]);var A=function(){T(!0),d&&d(!0)},j=function(){T(!1),d&&d(!1)},k=(y[S?y.findIndex(function(e){return e.scope===S}):0]||y[0]).text,D=(0,p.jsx)(o.xu,{ref:_,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:eP.XI}},"data-test-id":"search-filter",overflow:"hidden",children:(0,p.jsxs)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,p.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:k}),(0,p.jsx)(o.xu,{marginStart:2,children:(0,p.jsx)(o.JO,{accessibilityLabel:m._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,p.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:O?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:eP.XI,marginStart:2,position:"relative",rounding:v?e6.Qq:6,children:[(0,p.jsx)(o.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return A()},onMouseLeave:function(){return j()},onTap:function(e){var n=e.event;n&&(n.preventDefault(),n.stopPropagation()),E(!I),g({event_type:101,component:215,aux_data:{entered_query:s}})},rounding:6,children:D}),I&&(0,p.jsx)(e4,{contentTypes:y,contentTypesAnchor:_.current,handleSelectFilter:function(e){var n=y[e].scope;x(n),E(!1),g({event_type:101,component:215,element:e8(n),aux_data:{entered_query:s}}),f(n),s&&h.push("/search/".concat(n,"/?q=").concat(encodeURIComponent(s),"&rs=").concat(ev.i.FILTER))},onDismiss:function(){return E(!1)}})]})},ne=t(465848);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nt(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nn(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nn(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ni={recentSaves:[],recentViews:[]};function no(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni,n=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===n.type){var t=n.payload,r=t.options,i=t.resource,o=n.payload.response.resource_response.data;if("ApiResource"===i&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&o){var a=o.find(function(e){return"user_recently_viewed_pins"===e.story_type}),l=o.find(function(e){return"user_recently_saved_pins"===e.story_type}),s=(null==a?void 0:a.objects.map(function(e,n){var t=e.description,r=e.id;return{label:t,images:e.images,resultIndex:n,type:"recent_view",url:"/pin/".concat(r)}}))||[],u=(null==l?void 0:l.objects.map(function(e,n){var t=e.description,r=e.id;return{label:t,images:e.images,resultIndex:n,type:"recent_save",url:"/pin/".concat(r)}}))||[];return nr(nr({},e),{},{recentSaves:u,recentViews:s})}}return e}function na(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var nl=(0,ed.Z)("SearchBox"),ns=nl.Provider,nu=nl.useHook;function nc(e){var n,t=e.children,r=function(e){if(Array.isArray(e))return e}(n=(0,i.useReducer)(no,ni))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return na(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?na(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],a=r[1];(0,ne.Z8)("ApiResource",function(e){a({type:"FETCH_COMPLETE",payload:e})});var l=(0,i.useMemo)(function(){return{state:o}},[o]);return(0,p.jsx)(ns,{value:l,children:t})}var nd=t(143200),np=t(636565),nf=t(499671),ng=t(790661),nm=t(602185),ny=t(788388),n_=t(750077),nh=t(648089);function nv(e){var n,t=e.suggestions[0],r=(0,nh.Z)({url:null===(n=t[0])||void 0===n?void 0:n.action_button_uri});return(0,p.jsxs)(o.xu,{padding:10,children:[(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},marginBottom:6,children:t.description}),(0,p.jsx)(o.Tg,{href:t.action_button_uri,rel:r?"nofollow":"none",rounding:"pill",children:(0,p.jsx)(o.xu,{color:"infoBase",display:"inlineBlock",padding:3,rounding:"pill",children:(0,p.jsx)(o.xv,{color:"inverse",weight:"bold",children:t.action_button_text})})})]})}var nb=t(510664),nS=t(17685),nx=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function nP(e){var n=e.currentlyAppliedFiltersParamTerm,t=e.filterTones,r=e.isSearch,a=e.onClickApplyFilters,l=e.query,s=e.showHeaderText,d=void 0===s||s,f=(0,u.v)().logContextEvent,g=(0,c.ZP)(),m=(0,i.useRef)(null),y=(0,i.useRef)(null),_=function(e){var t,r=n===e?"":e;f({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:l,filter_type:"skin_tone",value:r}}),null===(t=y.current)||void 0===t||t.complete(),a(r)};return(0,p.jsxs)(o.xu,{marginStart:r?12:0,paddingY:1,children:[(0,p.jsxs)(o.xu,{alignItems:d?"center":"start",direction:"column",display:"flex",justifyContent:"start",marginStart:r?4:0,children:[d&&(0,p.jsx)(o.xu,{marginBottom:2,children:(0,p.jsx)(o.xv,{color:"default",overflow:"normal",weight:"bold",children:g._('Pick a skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text')})}),(0,p.jsx)(o.xu,{ref:m,display:"flex",flex:"none",children:(void 0===t?nx:t).map(function(e,t){var r=e.alt_text,i=e.term,a=e.display;return(0,p.jsx)(o.xu,{"data-test-id":"skin-tone-option",paddingX:1,children:(0,p.jsx)(nS.Z,{altText:void 0===r?"":r,display:a,index:t,isSelected:n===i,onClick:function(){return _(i)}})},i)})})]}),m&&(0,p.jsx)(np.mc,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(y.current=e)},placementId:29})]})}var nI=(0,i.lazy)(function(){return t.e(15031).then(t.bind(t,215031))}),nE=(0,i.lazy)(function(){return t.e(99219).then(t.bind(t,199219))});function nw(e){var n,t=e.experiences,r=e.index,i=e.focusedIndex,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.query,u=e.suggestion,c=function(){switch(u.identifier_icon_name){case 1:return"search";case 2:return"history";default:return}}(),d=(n=null==u?void 0:u.modified_filter_eligibility)?"hair_pattern"in n?"hair_pattern":"skin_tone"in n?"skin_tone":null:null,f=e0(),g=f.handleSuggestionSelect,m=f.handleInclusiveProductFilterClick,y=f.getSuggestionImpressionOptions,_=(0,ny.Z)(y({index:r,groupIndex:r,suggestion:u,loggingId:u.id}));return(0,p.jsx)(np.M8,{experiences:t,placementId:1000315,searchTerm:s,suggestions:[u],children:function(e){var n,t,f=e.searchDelightConfig;return(0,p.jsxs)(o.xu,{ref:_,children:[(0,p.jsx)(nb.Ji,{id:eR(0,r),isHovered:i===r,onClick:function(){g({suggestion:u,index:r})},onMouseEnter:function(){a(r)},onMouseLeave:function(){l()},url:eD({suggestion:u,query:s}),children:(0,p.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,p.jsx)(o.xu,{flex:"grow",children:d?(0,p.jsx)(nE,{iconName:c,inclusiveFilterType:d,query:s,searchDelightConfig:f,text:u.label||s}):(0,p.jsx)(nb.qe,{highlightMatch:!0,iconName:c,imageUrl:u.image,label:u.label,query:s,rounding:2,searchDelightConfig:f,subLabel:u.subLabel})})})}),!!d&&m&&(0,p.jsx)(o.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:(0,p.jsx)(nm.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_InclusiveFilters",children:(0,p.jsxs)(n_.Z,{children:["hair_pattern"===d&&(0,p.jsx)(nI,{filterOptions:null===(n=u.modified_filter_eligibility)||void 0===n?void 0:null===(t=n[d])||void 0===t?void 0:t.filter_options,isSearch:!0,onClickApplyFilters:function(e){return m(u,r,e)},query:s,showHeaderText:!1}),"skin_tone"===d&&(0,p.jsx)(nP,{isSearch:!0,onClickApplyFilters:function(e){return m(u,r,e)},query:s,showHeaderText:!1})]})})})]})}})}var nO=function(e){var n=e.index,t=e.focusedIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestion,l=e0(),s=l.handleSuggestionSelect,u=l.getSuggestionImpressionOptions,c=(0,ny.Z)(u({index:n,groupIndex:n,suggestion:a,loggingId:a.id}));return(0,p.jsx)(o.xu,{ref:c,children:(0,p.jsx)(nb.Ji,{id:eR(0,n),isHovered:t===n,onClick:function(){s({suggestion:a,index:n})},onMouseEnter:function(){r(n)},onMouseLeave:function(){i()},url:a.url,children:(0,p.jsx)(nb.qe,{imageUrl:a.image,isVerifiedMerchant:a.is_verified_merchant,label:a.label,rounding:"circle",subLabel:a.subLabel,verified:a.verified})})},"".concat(a.type,"-").concat(a.label,"-").concat(a.subLabel||""))};function nT(e){var n=e.focusedIndex,t=e.onSuggestionClick,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=(0,c.ZP)(),l=0===n;return(0,p.jsx)(o.xu,{"aria-selected":l?"true":"false",id:"syop_cta",role:"option",children:(0,p.jsxs)(o.xu,{marginTop:3,paddingX:6,children:[(0,p.jsx)(o.iz,{}),(0,p.jsx)(o.xu,{marginTop:4,children:(0,p.jsxs)(o.kC,{alignItems:"center",dataTestId:"search-your-pins-section",justifyContent:"between",children:[(0,p.jsx)(o.xv,{lineClamp:2,weight:"bold",children:a._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,p.jsx)(o.kC.Item,{flex:"none",children:(0,p.jsx)(o.iP,{onMouseEnter:function(){r(0)},onMouseLeave:i,onTap:t,rounding:"pill",children:(0,p.jsx)(o.xu,{alignItems:"center",color:l?"darkWash":"secondary","data-test-id":"search-your-pins-button",display:"flex",height:40,justifyContent:"center",paddingX:3,paddingY:2,rounding:"pill",children:(0,p.jsx)(o.xv,{align:"center",weight:"bold",children:a._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function nA(e){var n=e.experiences,t=e.suggestion,r=e.index,i=e.focusedIndex,o=e.query,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave;switch(t.type){case"autocompleteupsell":return(0,p.jsx)(nv,{suggestions:[t]});case"query":case"recent_query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,p.jsx)(nw,{experiences:n,focusedIndex:i,index:r,onSuggestionMouseEnter:a,onSuggestionMouseLeave:l,query:o,suggestion:t});case"user":return(0,p.jsx)(nO,{focusedIndex:i,index:r,onSuggestionMouseEnter:a,onSuggestionMouseLeave:l,suggestion:t})}return null}var nj=t(726006),nk=t(559656),nD=t(400416),nC=t(679482),nR=t(810655);function nL(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function nN(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function nM(e){var n,t,r,a,l,s,u,c=e.contextLogData,d=e.dominantColor,f=e.height,g=e.id,m=e.images,y=e.isDarkRep,_=void 0!==y&&y,h=e.isHovered,v=e.title,b=e.subtitle,S=e.onMouseEnter,x=e.onMouseLeave,P=e.onTap,I=e.searchBoxRenderStopwatch,E=e.showRemoveButton,w=void 0!==E&&E,O=e.slotIndex,T=e.url,A=e.viewParameter,j=e.viewType,k=e.width,D=(0,ny.Z)({contextLogData:c,impressionType:"Article",loggingId:g,slotIndex:O,viewParameter:A,viewType:j}),C=(0,(0,em.F)().checkExperiment)("web_search_autocomplete_empty_state").anyEnabled,R=eK(),L=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return nN(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nN(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),N=L[0],M=L[1],F=N||h,U=C&&!w&&m&&m.length>1,z=f||80,B=m&&m[0]&&((null===(a=m[0]["236x"])||void 0===a?void 0:a.url)||(null===(l=m[0]["474x"])||void 0===l?void 0:l.url))||"";!k||k>=200?(s=3,u="300"):k>=150?(s=2,u="200"):(s=2,u="100"),w&&(s=1);var Z=k?k-z:nC.yF-80,H=function(){S?S():M(!0)},K=function(){x?x():M(!1)},G=function(){null==I||I.stop()},V=(t=regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,nD.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:n}});case 2:R();case 3:case"end":return e.stop()}},e)}),r=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){nL(o,r,i,a,l,"next",e)}function l(e){nL(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)});if(U){var W=.65*(k||80),Y=b?63:45;return(0,p.jsx)(o.xu,{ref:C?void 0:D,height:W,width:k,children:(0,p.jsx)(o.zd,{rounding:4,wash:!_,children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:_?{__style:{backgroundColor:F?nk.Pv2:nk.pzk}}:{__style:F?nR.A.lightHoverOverlay:{}},children:(0,p.jsx)(o.st,{children:(0,p.jsx)(o.Tg,{href:T,onBlur:K,onFocus:H,onMouseEnter:H,onMouseLeave:K,onTap:P,rounding:4,children:(0,p.jsxs)(o.kC,{direction:"column",width:k||"100%",children:[(0,p.jsxs)(o.xu,{alignItems:"stretch",direction:"column",display:"flex",height:Y,justifyContent:"start",paddingX:4,paddingY:3,children:[b&&(0,p.jsx)(o.xv,{align:"start",color:_?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:1,size:"100",children:b}),(0,p.jsx)(o.xv,{align:"start",color:_?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:1,size:u,weight:"bold",children:v})]}),(0,p.jsx)(o.xu,{"data-test-id":"search-suggestion-image-container",display:"flex",justifyContent:"between",children:null==m?void 0:m.slice(0,3).map(function(e){var n=(e["236x"]||{}).url,t=void 0===n?"":n;return t&&(0,p.jsx)(o.xu,{height:W-Y,width:"calc(".concat(100/3,"% - 2px)"),children:(0,p.jsx)(o.Ee,{alt:"",color:d,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:G,role:"presentation",src:t})},t)})})]})})})})})})}return(0,p.jsx)(o.xu,{ref:C?void 0:D,height:z,width:k||"100%",children:(0,p.jsx)(o.zd,{rounding:4,wash:!_,children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:_?{__style:{backgroundColor:F?nk.Pv2:nk.pzk}}:{__style:F?nR.A.lightHoverOverlay:{}},children:(0,p.jsx)(o.st,{children:(0,p.jsx)(o.Tg,{href:T,onBlur:K,onFocus:H,onMouseEnter:H,onMouseLeave:K,onTap:P,rounding:4,children:(0,p.jsxs)(o.kC,{direction:"row",children:[(0,p.jsx)(o.xu,{"data-test-id":"search-suggestion-image-container",children:(0,p.jsx)(o.zd,{height:z,wash:!0,width:z,children:(0,p.jsx)(o.Ee,{alt:"",color:d,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:G,role:"presentation",src:B})})}),(0,p.jsx)(o.xu,{alignItems:"center",display:"flex",maxHeight:z,maxWidth:w?void 0:Z,padding:4,children:(0,p.jsx)(o.xv,{color:_?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:s,size:u,weight:"bold",children:v})}),w&&(0,p.jsx)(o.xu,{"data-test-id":"clear-recent-queries",display:"flex",marginEnd:2,marginStart:-1,children:(0,p.jsx)(o.hU,{accessibilityLabel:"Remove",icon:"cancel",iconColor:"darkGray",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),V(v)},size:"sm"})})]})})})})})})}var nF=t(212515),nU=t(831595),nz=t(559028),nB=t(207630),nZ=t(87416);function nH(e){return(nH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nK=["board","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","viewParameter","viewType","width"];function nG(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nV(e){var n=e.board,t=e.height,r=e.isHovered,i=e.searchBoxRenderStopwatch,o=e.slotIndex,a=e.storyId,l=e.storyType,s=e.viewParameter,u=e.viewType,c=e.width,d=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.includes(t)||({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,nK),f=n.id,g=n.name,m=n.image_cover_hd_url,y=n.owner,_=n.url,h=(0,nB.Z)(g||"",{});return g&&f&&_?(0,p.jsx)(nZ.u,{auxData:{grid_index:o.toString(),board_id:f,story_type:l,story_id:a},loggingId:f,objectIdStr:f,slotIndex:o,viewParameter:s||3467,viewType:u,children:function(e){var n=e.impressionTrackerRef;return(0,p.jsx)(n0,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nG(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nH(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nH(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nH(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nG(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({coverImage:{url:m},creator:y,formattedTitle:h,height:t,id:f,impressionTrackerRef:n,inheritedIsHovered:r,searchBoxRenderStopwatch:i,url:_,width:c},d))}}):null}function nW(e){return(nW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nY=["component","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","todayArticle","viewParameter","viewType","width"];function nq(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nX(e){var n=e.component,t=e.height,r=e.isHovered,i=e.searchBoxRenderStopwatch,o=e.slotIndex,a=e.storyId,l=e.storyType,s=e.todayArticle,u=e.viewParameter,c=e.viewType,d=e.width,f=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.includes(t)||({}).propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,nY),g=s.id,m=s.title,y=s.image_urls,_=s.article_creator_user,h=s.feed_source,v=s.is_product_pin_feed,b=y&&y.length>0?{url:y[0]}:void 0,S=(0,nB.Z)(m||"",{});if(!m||!g)return null;var x=(0,nU.T7)(null!=h?h:0,null!=v&&v,m,g);return(0,p.jsx)(nZ.Y4,{auxData:{grid_index:o.toString(),today_article_id:g,story_type:l,story_id:a},component:n,loggingId:g,objectIdStr:g,slotIndex:o,viewParameter:u||3467,viewType:c,children:function(e){var n=e.impressionTrackerRef;return(0,p.jsx)(n0,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nq(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nW(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nW(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nW(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nq(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({coverImage:b,creator:_,formattedTitle:S,height:t,id:g,impressionTrackerRef:n,inheritedIsHovered:r,searchBoxRenderStopwatch:i,url:x,width:d},f))}})}function nQ(e){return(nQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n$(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nJ(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n$(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=nQ(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=nQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==nQ(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n$(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var n0=function(e){var n=e.coverImage,t=e.creator,r=e.formattedTitle,i=e.height,a=e.id,l=e.impressionTrackerRef,s=e.inheritedIsHovered,u=e.onClick,c=e.onMouseDown,d=e.onMouseEnter,f=e.onMouseLeave,g=e.searchBoxRenderStopwatch,m=e.url,y=e.width,_=null==t?void 0:t.avatar_color_index;return(0,p.jsx)(nR.Z,{ref:l,backgroundColor:"gray",coverImage:n,disableTabIndex:!0,height:i,id:a,isHovered:s,onClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,searchBoxRenderStopwatch:g,url:m,width:y,children:(0,p.jsx)(o.xu,{ref:l,alignItems:"end",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:y||"100%",children:(0,p.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[i>200?(0,p.jsx)(o.X6,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"500",children:r}):(0,p.jsx)(o.xv,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:r}),t&&t.image_small_url&&t.full_name&&(0,p.jsxs)(o.xu,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,p.jsx)(o.xu,{marginEnd:2,children:(0,p.jsx)(nz.qE,{color:_,name:t.full_name,outline:!0,size:"xs",src:t.image_small_url})}),(0,p.jsx)(o.xv,{color:"light",size:"100",children:t.full_name})]})]})})})};function n1(e){var n=e.bubble;return"board"===n.type?(0,p.jsx)(nV,nJ(nJ({},e),{},{board:n})):(0,p.jsx)(nX,nJ(nJ({},e),{},{todayArticle:n}))}var n2=t(533113);function n3(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function n4(e){var n=e.title,t=(0,(0,em.F)().checkExperiment)("web_search_autocomplete_empty_state").anyEnabled;return(0,p.jsx)(o.xu,{alignItems:"center","data-test-id":"suggestion-group-heading",display:"flex",marginStart:eP.r5,children:t?(0,p.jsx)(o.xu,{marginStart:1,children:(0,p.jsx)(o.X6,{lineClamp:1,size:"400",children:n})}):(0,p.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n})})}var n6=function(e){var n=e.handleRemove,t=e.id,r=e.isHovered,i=e.label,a=e.onClick,l=e.onMouseEnter,s=e.onMouseLeave,u=e.removeA11yText,c=e.url;return(0,p.jsx)(o.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,p.jsx)(o.Tg,{accessibilityLabel:i,href:c,onMouseEnter:l,onMouseLeave:s,onTap:function(e){var n=e.event,t=e.dangerouslyDisableOnNavigation;n.metaKey||n.ctrlKey||(t(),n.preventDefault(),a())},rounding:"pill",children:(0,p.jsxs)(o.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,p.jsx)(o.xv,{align:"center",children:i}),(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,p.jsx)(o.hU,{accessibilityLabel:null!=u?u:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),null==n||n(i)},size:"xs"})})]})})})},n7=function(e){var n,t,r,a,l,s=e.id,u=e.isHovered,d=e.onClick,f=e.onMouseEnter,g=e.onMouseLeave,m=e.showSeeMoreOverlay,y=e.suggestion,_=e.trackClick,h=e.url,v=(0,c.ZP)();return(0,p.jsx)(o.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion",id:s,marginBottom:2,paddingX:1,role:"option",children:(0,p.jsx)(o.Tg,{href:h||y.url,onMouseEnter:f,onMouseLeave:g,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),_(),n.metaKey||n.ctrlKey||h||(n.preventDefault(),d())},rounding:3,tabIndex:-1,children:(0,p.jsxs)(o.zd,{height:eP.YO,rounding:3,wash:u,width:eP.Gh,children:[(null===(n=y.images["236x"])||void 0===n?void 0:n.url)&&(0,p.jsx)(o.Ee,{alt:y.label,fit:"cover",naturalHeight:null!==(t=null===(r=y.images["236x"])||void 0===r?void 0:r.height)&&void 0!==t?t:1,naturalWidth:null!==(a=null===(l=y.images["236x"])||void 0===l?void 0:l.width)&&void 0!==a?a:1,src:y.images["236x"].url}),m&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:eP.H2,height:eP.YO,left:!0,position:"absolute",top:!0,width:eP.Gh}),(0,p.jsx)(o.xu,{alignItems:"center",display:"flex",height:eP.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:eP.Gh,children:(0,p.jsx)(o.xv,{align:"center",color:"inverse",weight:"bold",children:v._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},n5=function(e){var n=e.componentType,t=e.focusedIndex,r=e.groupIndex,i=e.keyPrefix,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.seeMoreUrl,c=e.suggestions,d=e.title,f=(0,u.v)().logContextEvent,g=e0().handleSuggestionSelect;return(0,p.jsxs)(o.kC,{direction:"column",gap:eP.Lo,children:[(0,p.jsx)(o.kC,{width:"100%",children:(0,p.jsx)(n4,{title:d})}),(0,p.jsx)(o.xu,{display:"flex",paddingX:eP.r5,width:"100%",wrap:!0,children:c.map(function(e,o){var u=o===eP.TD-1&&c.length===eP.TD;return(0,p.jsx)(n7,{id:eR(r,o),isHovered:t===o,onClick:function(){g({suggestion:e,index:o})},onMouseEnter:function(){a(o)},onMouseLeave:function(){l()},showSeeMoreOverlay:u,suggestion:e,trackClick:function(){f({event_type:101,component:n,element:u?179:12374,view_type:eP.Ie,view_parameter:103})},url:u?s:e.url},"".concat(i,"-").concat(o))})})]})};function n8(e){var n=e.focusedIndex,t=e.groupIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=e.suggestions,a=(0,c.ZP)();return(0,nF.Q)({component:13844,view_parameter:103,view_type:eP.Ie}),(0,p.jsx)(n5,{componentType:13844,focusedIndex:n,groupIndex:t,keyPrefix:"recent_save",onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",suggestions:o,title:a._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function n9(e){var n,t,r=e.suggestion,i=e.groupIndex,a=e.index,l=e.focusedIndex,s=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,d=e0(),f=d.handleSuggestionSelect,g=d.getSuggestionImpressionOptions,m=(0,ny.Z)(g({index:a,groupIndex:i,suggestion:r,loggingId:r.id})),y=eK(),_=(0,c.ZP)(),h=(n=regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,nD.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:n}});case 2:y();case 3:case"end":return e.stop()}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){n3(o,r,i,a,l,"next",e)}function l(e){n3(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}),v=_._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion');return(0,p.jsx)(o.xu,{ref:m,"data-test-id":"recent-query",children:(0,p.jsx)(n6,{handleRemove:h,id:eR(i,a),isHovered:l===a,label:r.label,onClick:function(){f({suggestion:r,index:a})},onMouseEnter:function(){s(a)},onMouseLeave:function(){u()},removeA11yText:v,url:eD({suggestion:r,query:""})})},"".concat(r.type,"-").concat(r.label))}function te(e){var n=e.containerWidth,t=e.focusedIndex,r=e.groupIndex,i=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,l=e.suggestions,s=(0,c.ZP)(),u=function(e){var n=e.pillLabels,t=e.maxWidth,r=n.length;if(!t)return r;for(var i=0,o=0;o<n.length;o+=1){var a=n[o].length*eP.yY+eP.Ag+eP.Ub;if(a+i<t)i+=a;else{r=o;break}}return r}({pillLabels:l.map(function(e){return e.label}),maxWidth:n});return(0,p.jsxs)(o.kC,{direction:"column",gap:eP.Lo,children:[(0,p.jsx)(n4,{title:s._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,p.jsx)(o.xu,{display:"flex",overflow:"hidden",paddingX:eP.r5,position:"relative",children:l.slice(0,u).map(function(e,n){return(0,p.jsx)(n9,{focusedIndex:t,groupIndex:r,index:n,onSuggestionMouseEnter:i,onSuggestionMouseLeave:a,suggestion:e},e.label)})})]})}function tn(e){var n=e.focusedIndex,t=e.groupIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=e.suggestions,a=(0,c.ZP)();return(0,nF.Q)({component:13843,view_parameter:103,view_type:eP.Ie}),(0,p.jsx)(n5,{componentType:13843,focusedIndex:n,groupIndex:t,keyPrefix:"recent_view",onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",suggestions:o,title:a._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tt(e){var n=e.groupIndex,t=e.focusedIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.searchBoxRenderStopwatch,l=e.suggestions,s=eP.Ie,u=l.id,c=l.items,d=l.story_type,f=l.title.format,g=e0(),m=g.handleSuggestionSelect,y=g.getSuggestionImpressionOptions,_=c.map(function(e){return e.type+":"+e.id}).join("|"),h=(0,ny.Z)(y({additionalAuxData:{content_ids:_,story_id:u,story_type:d},suggestion:c[0],index:n,groupIndex:n,loggingId:u}));return(0,p.jsxs)(o.kC,{direction:"column",gap:eP.Lo,children:[(0,p.jsx)(n4,{title:f}),(0,p.jsx)(o.xu,{ref:h,display:"flex",marginBottom:5,paddingX:eP.r5,wrap:!0,children:c.slice(0,8).map(function(e,l){var c=t===l;return(0,p.jsx)(o.xu,{"aria-selected":c?"true":"false","data-test-id":"search-suggestion-today-bubble",id:eR(n,l),marginBottom:2,paddingX:1,role:"option",children:(0,p.jsx)(n1,{bubble:e,component:13525,height:eP.Ny,isHovered:c,onClick:function(){m({suggestion:e,index:l})},onMouseEnter:function(){r(l)},onMouseLeave:function(){i()},searchBoxRenderStopwatch:a,slotIndex:l,storyId:u,storyType:d,viewParameter:3467,viewType:s,width:eP.Ny})},"story".concat("--",n,"-").concat(l))})})]})}function tr(e){for(var n=e.containerWidth,t=e.focusedIndex,r=e.groupIndex,i=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,l=e.searchBoxRenderStopwatch,s=e.suggestions,c=(0,u.v)().logContextEvent,d=(0,em.F)().checkExperiment,f=eP.Ie,g=s.id,m=s.items,y=s.story_type,_=s.title.format,h=d("web_search_autocomplete_empty_state").anyEnabled,v=h&&["autocomplete_recent_searches"].includes(y),b="shopping_spotlight"===y,S=h&&["autocomplete_curated_articles"].includes(y),x=function(e){return(n-(64+8*e))/e},P=3,I=x(3);I>1.5*nC.yF;)P+=1,I=x(P);var E=S?1.3:2.6,w=v?80:I/E,O=m;h&&(["autocomplete_explore_topics"].includes(y)?O=m.slice(0,2*P):["autocomplete_recent_searches"].includes(y)||(O=m.slice(0,P)));var T=e0(),A=T.handleSuggestionSelect,j=T.getSuggestionImpressionOptions,k=O.map(function(e){return e.type+":"+e.id}).join("|"),D=(0,ny.Z)(j({additionalAuxData:{content_ids:k,story_id:g,story_type:y},suggestion:O[0],index:r,groupIndex:r,loggingId:g}));return(0,p.jsxs)(o.kC,{dataTestId:"search-story-suggestions-container",direction:"column",gap:eP.Lo,children:[(0,p.jsx)(n4,{title:_}),(0,p.jsx)(o.xu,{ref:h?void 0:D,height:v?w:void 0,overflow:v?"hidden":void 0,children:(0,p.jsxs)(o.xu,{direction:"row",display:"flex",paddingX:eP.r5,wrap:!0,children:[S&&O.map(function(e,n){var t=e.subtitle,l=e.title,s=e.image_urls,u=e.id;return(0,p.jsx)(o.xu,{height:w,id:eR(r,n),marginBottom:2,marginEnd:2,role:"option",width:I,children:(0,p.jsx)(o.Tg,{href:(0,nU.T7)(0,!1,l,u),onMouseDown:function(e){return e.event.preventDefault()},onMouseEnter:function(){i(n)},onMouseLeave:function(){a()},onTap:function(){A({suggestion:e,index:n,suggestionStoryId:u})},rounding:4,children:(0,p.jsx)(n2.Z,{imageHeightWidthPercent:w/I*100,imageUrls:s,rounding:4,subtitle:t||"",subtitleSize:"200",textAlign:"start",title:l,titleSize:"400"},u)})},"tt-bubble-".concat(u))}),b&&O.map(function(e,n){var t=e.id;return(0,p.jsx)(n1,{bubble:e,height:eP.Ny,onClick:function(){c({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:t,autocomplete_type:"recommended_article",story_type:y}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:n,viewParameter:3467,viewType:2,width:eP.Ny},"ss-bubble-".concat(t))}),!S&&!b&&O.map(function(e,n){var s,u=t===n,c=e.cover_images,d=e.dominant_colors,m=e.id,_=e.story_category,h=e.title.format,b=e.subtitle,S=eD({suggestion:e,query:"",suggestionStoryId:g});return(0,p.jsx)(o.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion",id:eR(r,n),marginBottom:2,marginEnd:2,role:"option",children:(0,p.jsx)(nM,{contextLogData:{story_type:y,content_ids:k,grid_index:n,story_id:g},dominantColor:null!==(s=null==d?void 0:d[0])&&void 0!==s?s:"",height:w,id:m,images:c,isHovered:u,onMouseEnter:function(){i(n)},onMouseLeave:function(){a()},onTap:function(){A({suggestion:e,index:n,suggestionStoryId:g})},searchBoxRenderStopwatch:l,showRemoveButton:v,slotIndex:n,subtitle:null==b?void 0:b.format,title:h,url:S,viewParameter:3467,viewType:f,width:v?void 0:I})},"story-".concat(null!=_?_:"","-").concat(r,"-").concat(m))})]})})]})}function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ta(e,n){if(e){if("string"==typeof e)return tl(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tl(e,n):void 0}}function tl(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var ts={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function tu(e){var n,t=e.query,r=e.searchBoxHeight,l=e.searchBoxRenderStopwatch,s=e.showSyopHeading,u=e.suggestionGroups,d=e.width,f=(0,i.useRef)(null),g=(0,c.ZP)(),m=(0,np.Ow)(1000315).experiencesMulti,y=(0,a.Z)().enabled,_=(0,Z.B)(),h=_.country,v=_.isAuthenticated,b=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(0))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||ta(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=b[0],x=b[1],P=(0,nd.Ns)(x,400),E=e0(),w=E.suggestionsFocusIndex,O=E.suggestionsMaxHeight,T=E.setSuggestionsHovered,A=E.setSuggestionsFocusIndex,j=E.handleSyopCtaClick,k=!v&&["US","CA","AU","GB","FR","DE"].includes(h);function D(){A(void 0)}(0,i.useLayoutEffect)(function(){if(!f.current)return function(){};x(f.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){P(function(e){var n;return(null===(n=f.current)||void 0===n?void 0:n.getBoundingClientRect().width)||e})});return e.observe(f.current),function(){e.disconnect()}},[P]);var C=y?"0 0 ".concat(e6.kl,"px ").concat(e6.kl,"px"):"0 0 16px 16px";return(0,p.jsx)(nf.Z,{view:eP.Ie,viewParameter:103,children:u.length>0?(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:C,top:r,left:y?"-24px":void 0,right:y?"-24px":void 0}},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:y?void 0:d||"100%",children:(0,p.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?to(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=ti(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=ti(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==ti(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):to(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({maxHeight:O},ts.searchSuggestionsContainer),children:(0,p.jsxs)(o.xu,{ref:f,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:C,paddingBottom:"24px",paddingTop:"32px"}},overflow:"hidden",width:"100%",children:[s&&(0,p.jsx)(o.xu,{marginBottom:4,marginStart:8,marginTop:4,children:(0,p.jsx)(o.X6,{size:"500",children:t.length>0?(0,I.nk)(g._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:t}):g._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),u.map(function(e,n){var r,i;return e.items.length?(0,p.jsx)(o.kC,{direction:"column",gap:10,children:(0,p.jsx)(o.xu,{children:function(e,n,r){var i=eL(u),o=null==w?void 0:w-i[n],a=function(e){A(eL(u)[n]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&k)return(0,p.jsx)(nj.Z,{});switch(e.type){case"recent_query":return(0,p.jsx)(te,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D,suggestions:e.items});case"recent_save":return(0,p.jsx)(n8,{focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D,suggestions:e.items});case"recent_view":return(0,p.jsx)(tn,{focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,p.jsx)(tt,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D,searchBoxRenderStopwatch:l,suggestions:e}):(0,p.jsx)(tr,{containerWidth:r,focusedIndex:o,groupIndex:n,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D,searchBoxRenderStopwatch:l,suggestions:e});case"blended_autocomplete":var s=-1;return(function(e){var n,t=e.slice(),r=t[0],i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ta(e))){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(null!==(a=o.modified_filter_eligibility)&&void 0!==a&&a.hair_pattern||null!==(l=o.modified_filter_eligibility)&&void 0!==l&&l.skin_tone){var a,l,s,u,c,d=(null===(s=o.modified_filter_eligibility.hair_pattern)||void 0===s?void 0:s.base_query)||(null===(u=o.modified_filter_eligibility.skin_tone)||void 0===u?void 0:u.base_query)||"",p=null===(c=o.modified_filter_eligibility.hair_pattern)||void 0===c?void 0:c.eligible_filters,f=(0,ng.Z)({url:o.url}).rs,g={query:d,rs:f},m=(0,ey.Z)(g),y="enriched_autocomplete"===r.type&&r.image?1:0,_={eligibleHairPatternFilters:p,label:d,query:d,resultIndex:y,type:"inclusive_product_filter_query",url:m,id:""};t.splice(y,0,_),r=t[0];break}}}catch(e){i.e(e)}finally{i.f()}return t})(e.items).map(function(e){return"story"===e.type?(0,p.jsx)(nb.Dj,{label:e.title.format},"search-suggestion-header-".concat(e.story_type,"-").concat(e.id)):(s+=1,(0,p.jsx)(nA,{experiences:m,focusedIndex:o,index:s,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D,query:t,suggestion:e},"search-suggestion-".concat(e.label||"","-").concat(e.query||"","-").concat(e.type,"-").concat(e.url||"","-").concat(e.image||"")))});case"syop_cta":return(0,p.jsx)(nT,{focusedIndex:o,index:0,onSuggestionClick:j,onSuggestionMouseEnter:a,onSuggestionMouseLeave:D})}return null}(e,n,S)})},"".concat(t,"-").concat(e.type,"-").concat(null!==(r=null===(i=e.title)||void 0===i?void 0:i.format)&&void 0!==r?r:"")):null})]})})}):(0,p.jsx)(o.xu,{})})}function tc(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function td(e){var n,t,r,o,a,l,s,u,c,d,f,g=e.searchBoxHeight,y=e.suggestionGroups,_=e.width,h=B(),v=(0,Z.B)().isBot,b=(0,em.F)().checkExperiment,S=(0,ec.Z)(),x=e0(),P=x.enteredScope,I=x.enteredQuery,E=x.updateSuggestionGroups,w=x.isInTypeaheadSession,O=S.isAuth&&P===eb.lw.PINS_MINE;(0,i.useEffect)(function(){!w||O||null!=h&&h.isTiming||null==h||h.start()},[w,O]);var T=(0,m.Z)(v?null:{name:"SearchTabResource"}).data,A=nu().state,j=A.recentSaves,k=A.recentViews,D=(n=(0,ec.Z)(),t=(0,(0,em.F)().checkExperiment)("web_search_autocomplete_empty_state").anyEnabled,o=(r=(0,m.Z)(n.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:eb.lw.PINS},noCache:!0}:null)).isLoaded,a=r.data,(0,i.useMemo)(function(){var e=[];return o&&a&&(e=t?a.items.map(function(e){switch(e.story_type){case"autocomplete_explore_topics":return eH(eH({},e),{},{items:e.objects.map(function(e){return eH(eH({},e),{},{cover_images:[e.image],title:{format:e.name},action:{url:e.url},type:"explorearticle"})})});case"autocomplete_recent_searches":case"autocomplete_related_searches":case"autocomplete_lateral_exploration_searches":return eH(eH({},e),{},{items:e.objects.map(function(e){return{cover_images:e.image_preview_pins.map(function(e){return{"236x":{url:e.image_medium_url}}}),title:{format:e.query},action:{url:e.link},type:"explorearticle"}})});default:return eH(eH({},e),{},{items:e.objects})}}):({newRecentQueries:a.items}).newRecentQueries.filter(function(e){return"recent_query"===e.type}).slice(0,eP.P$).map(function(e,n){var t=e.label,r=e.query,i=e.url;return{label:t,query:r,resultIndex:n,type:e.type,url:i,id:e.id}})),e},[o,t,a])),C=(s=(l={query:I,scope:P}).query,u=l.scope,c=(0,ec.Z)(),d=(0,em.F)().checkExperiment,f=(0,ez.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:u},value:s}),s&&d("dweb_search_autocomplete_header_icon_exp"),(0,i.useMemo)(function(){if(c.isAuth)return[{items:f||[],type:"blended_autocomplete"}];var e=(0,eF.Z)(f||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(n){return e[n]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[f,c])),R=b("dweb_search_autocomplete_remove_syp").anyEnabled,L=b("web_search_autocomplete_empty_state").anyEnabled;return(0,i.useEffect)(function(){var e,n,t=S.isAuth&&!R?C.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:"",id:""}],type:"syop_cta"}):C,r=T||[],i=S.isAuth?r.filter(function(e){return"shopping_spotlight"!==e.story_type}):r;E(O?[{items:D,type:"recent_query"},{items:k,type:"recent_view"},{items:j,type:"recent_save"}]:I.length?t:L&&D||[{items:D,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return tc(e)}(e=i||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return tc(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tc(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[C,O,E,I,T,D,j,k,R,P,S,L]),w&&(0,p.jsx)(tu,{query:I,searchBoxHeight:g,searchBoxRenderStopwatch:h,showSyopHeading:O,suggestionGroups:y,width:_})}var tp=t(847881),tf=t(363889),tg={v:"4.8.0",meta:{g:"LottieFiles AE 3.6.0",a:"",k:"",d:"",tc:""},fr:25,ip:0,op:75,w:24,h:24,nm:"lottie_loop_3_sec",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.062,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:5,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:12,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:25,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.704],[-10.125,5.714]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:32,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3.25],[-10.125,3.194]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.544],[-10.125,4.522]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:45,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:52,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.451],[-10.125,5.474]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17.047,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:18,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:27,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:38,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-4.346],[-10.154,4.304]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:53,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.151,-4.706],[-10.151,4.668]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.031,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:13,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.145,-5.963],[-10.145,5.901]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:42,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.156,-7.75],[-10.156,7.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.15,-4.91],[-10.15,4.872]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.016,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-7.688],[-10.109,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:29,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-4.734],[-10.117,4.456]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:56,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-5.148],[-10.121,5.07]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-1.818],[-10.137,1.802]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:26,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.438],[-10.125,5.413]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-1.062],[-10.125,1]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-6.851],[-10.125,6.734]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:70,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0}],markers:[{tm:75,cm:"",dr:0}]};function tm(){var e=(0,c.ZP)(),n=(0,tf.Z)({animationData:tg,loop:!0,autoplay:!0}).animationContainerRef;return n?(0,p.jsx)(o.xu,{marginEnd:2,children:(0,p.jsx)(o.zd,{height:24,width:24,children:(0,p.jsx)(o.xu,{ref:n})})}):(0,p.jsx)(o.xu,{paddingX:4,children:(0,p.jsx)(o.JO,{accessibilityLabel:e._('Listening...', 'searchBox.voiceSearch.accessibilityLabel', 'Icon indicating that the microphone is listening'),color:"default",icon:"audio-bars",size:24})})}function ty(e){var n=e.onCloseClick,t=(0,c.ZP)(),r=(0,u.v)().logContextEvent;(0,d.Z)(function(){r({event_type:13,view_type:eP.Ie,component:15282})});var i=function(){r({event_type:101,view_type:eP.Ie,component:15282,element:75}),n()};return(0,p.jsx)(P.ZP,{accessibilityModalLabel:t._('Voice search permissions modal', 'voiceSearch.accessibilityLabel', 'Modal for Voice Search permissions'),align:"start",heading:(0,p.jsx)(o.X6,{accessibilityLevel:1,size:"500",children:t._('Want to use voice search?', 'voiceSearch.modal.header', 'Header for Voice Search microphone permissions')}),isOpen:!0,onDismiss:i,size:"sm",children:(0,p.jsxs)(o.xu,{direction:"column",display:"flex",paddingX:7,children:[(0,p.jsx)(o.xv,{children:t._('Go to your browser settings to let Pinterest access the microphone', 'voiceSearch.modal.message', 'Voice Search microphone permissions message')}),(0,p.jsx)(o.xu,{display:"flex",justifyContent:"end",marginBottom:6,marginTop:7,children:(0,p.jsx)(o.zx,{accessibilityLabel:t._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal'),color:"red",onClick:i,size:"md",text:t._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal')})})]})})}function t_(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function th(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return tv(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tv(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function tb(){var e,n,t=(0,c.ZP)(),r=(0,u.v)().logContextEvent,a=e0(),l=a.handleTextChange,s=a.handleVoiceSearchSubmit,f=a.voiceSearchPlaceholder,g=a.setVoiceSearchPlaceholder,m=th((0,i.useState)(!1),2),y=m[0],_=m[1],h=th((0,i.useState)(!1),2),v=h[0],b=h[1],S=(0,i.useRef)(null);(0,i.useEffect)(function(){b(eG())},[]),(0,d.Z)(function(){r({event_type:120,view_type:eP.Ie,component:43,element:15977})});var P=(0,i.useCallback)(function(){S.current&&(S.current.stop(),g(eT.NULL))},[g]);if((0,i.useEffect)(function(){f===eT.CANCEL&&(r({event_type:101,view_type:eP.Ie,component:43,element:73,aux_data:{is_voice_search:!0}}),P(),g(eT.NULL))},[f,P,g,r]),!v)return null;var I=(e=regeneratorRuntime.mark(function e(){var n,t,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r({event_type:101,view_type:eP.Ie,component:43,element:15977}),e.prev=1,e.next=4,navigator.permissions.query({name:"microphone"});case 4:if("denied"!==(n=e.sent).state){e.next=9;break}return g(eT.NULL),_(!0),e.abrupt("return");case 9:t=new(window.webkitSpeechRecognition||window.SpeechRecognition),S.current=t,t.lang="en-US",t.interimResults=!1,i=void 0,l(""),g(eT.NULL),t.onstart=function(){g(eT.LISTENING)},t.onresult=function(e){var n,t,r,o=null===(n=e.results)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.transcript;o&&(i=o)},t.onerror=function(e){g(null),"permission-denied"===e.error&&_(!0)},t.onend=function(){i&&f!==eT.CANCEL?(s(i),g(null)):"prompt"===n.state?g(null):g(eT.DEFAULT),i=void 0},t.start(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),o=(0,x.Z)(e.t0,"message"),r({event_type:16683,view_type:eP.Ie,component:43,aux_data:{error_message:o}});case 28:case"end":return e.stop()}},e,null,[[1,24]])}),n=function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){t_(o,r,i,a,l,"next",e)}function l(e){t_(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)});return(0,p.jsxs)(o.kC,{alignItems:"center",direction:"row",height:"100%",children:[f===eT.LISTENING?(0,p.jsx)(tm,{}):(0,p.jsx)(o.hU,{accessibilityLabel:t._('Voice search', 'searchBox.voiceSearch.accessibilityLabel', 'Icon button that initiates a voice search'),icon:"microphone",iconColor:"darkGray",onClick:I}),y&&(0,p.jsx)(ty,{onCloseClick:function(){return _(!1)}})]})}function tS(e){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tx(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function tP(e){var n=e.isPartner,t=void 0!==n&&n,r=e.widthType,l=void 0===r?"md":r,s=(0,c.ZP)(),u=(0,Z.B)().isRTL,d=(0,a.Z)().enabled,g=(0,F.Z)(),m=d||g,y=e0(),_=y.allowLens,h=y.allowVoiceSearch,v=y.appliedQuery,b=y.displayedQuery,S=y.endPadding,x=y.enteredQuery,P=y.enteredScope,I=y.handleClearSearch,E=y.handleScopeChange,w=y.handleSearchIconButtonClick,O=y.inputFocused,T=y.isContentTypeFilterHovered,A=y.isInTypeaheadSession,j=y.isLensModalOpen,k=y.searchBoxHovered,D=y.setContentTypeFilterHovered,C=y.setSearchBoxHovered,R=y.showContentTypeFilter,L=y.showIconOnly,M=y.suggestionGroups,U=y.voiceSearchPlaceholder;if(L&&!O&&!v&&!A)return(0,p.jsx)(o.xu,{"data-test-id":"search-box-container",id:"searchBoxContainer",children:(0,p.jsx)(o.hU,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",iconColor:"gray",onClick:w,size:"lg"})});var B="shrink"===l?"".concat(80,"vw"):void 0,H=l&&Object.keys(eP.ht).includes(l)&&"shrink"!==l?eP.ht[l]:"auto",K=!!b||t&&R||A||U===eT.LISTENING;return(0,p.jsx)(o.xu,{"data-test-id":"search-box-container",flex:"grow",id:"searchBoxContainer",minWidth:H,paddingX:2,children:(0,p.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:k?eu.wU:eu.Sx}},display:"flex",height:eP.XI,rounding:m?e6.Qq:6,children:[(0,p.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tx(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=tS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=tS(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==tS(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tx(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({padding:u?"0 16px 0 ".concat(S):"0 ".concat(S," 0 16px")},A?{borderRadius:m?"".concat(e6.GC,"px"):"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){C(!0)},onMouseLeave:function(){C(!1)},position:"relative",children:[!(b||O)&&(0,p.jsx)(o.xu,{flex:"none",marginEnd:2,children:(0,p.jsx)(o.JO,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),(0,p.jsx)(e2,{name:"searchBoxInput"}),K?(0,p.jsx)(o.xu,{flex:"none",marginStart:3,children:(0,p.jsx)(o.xu,{"data-test-id":"search-cancel",children:(0,p.jsx)(o.hU,{accessibilityLabel:s._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:v?"cancel":"clear",iconColor:"darkGray",onClick:I,size:v?"sm":"lg"})})}):null,(0,p.jsx)(z,{children:(0,p.jsx)(td,{searchBoxHeight:eP.XI+4,suggestionGroups:M,width:B})}),_&&!x&&(0,p.jsx)(f,{showCancel:K,viewType:eP.Ie}),h&&(0,p.jsx)(tb,{})]}),R?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,p.jsx)(e9,{currentlySelectedFilter:P,currentQuery:v,handleContentTypeFilterHover:function(){t&&D(T)},handleScopeChange:E})]}):null,j&&(0,p.jsx)(N,{})]})})}function tI(e){var n=e.handleIconOnlyChange,t=e.iconOnly,r=void 0!==t&&t,i=e.isPartner,o=void 0!==i&&i,a=e.widthType,l=void 0===a?"md":a;return(0,p.jsx)(tp.v,{children:(0,p.jsx)(M.f,{children:(0,p.jsx)(nc,{children:(0,p.jsx)(e1,{handleIconOnlyChange:n,iconOnly:r,isPartner:o,widthType:l,children:(0,p.jsx)(tP,{handleIconOnlyChange:n,iconOnly:r,isPartner:o,widthType:l})})})})})}},726006:function(e,n,t){t.d(n,{Z:function(){return v}});var r,i=t(282480),o=(t(711284),t(297949)),a=t(144326),l=t(730212),s=t(961754),u=t(154785),c=t(410150),d=t(888027),p=t(151905),f=t(815030),g=t(770443);function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}void 0!==r||(r=t(978057));var y=function(){var e,n,t,r=(0,l.B)().country,o=(0,i.useMemo)(function(){var e;return"DE"===(e=r)?"pinterestde":"FR"===e?"pinterestfr":"AU"===e?"pinterestaustralia":"CA"===e?"pinterest_canada":"GB"===e?"pinterestuk":"pinterest"},[r]);return(0,s.Z)({name:"BoardsFeedResource",options:(n=(e={username:o}).username,{field_set_key:"profile_grid_item",filter_stories:!1,sort:void 0===(t=e.sort)?"last_pinned_to":t,username:n})})},_=function(e){var n,t=e.board,r=e.isLastBoard,a=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(t=t.call(e)).next;!(s=(r=o.call(t)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(n,2)||function(e,n){if(e){if("string"==typeof e)return m(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1],p=(0,u.Z)(),f=(0,c.HG)();return(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:r?f?"36px":"16px":void 0}},marginBottom:2,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},paddingX:1,role:"option",width:r?f?268:216:f?236:200,children:(0,g.jsx)(o.iP,{onTap:function(){p({action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"})},children:(0,g.jsx)(d.default,{boardKey:"__fragments"in t?t:{type:"deprecated",data:t},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,noPaddings:!0,showFollowButton:!1,showMask:l,type:"grid",viewParameter:3070,viewType:2})})})},h=function(){var e=(0,a.ZP)(),n=(0,c.HG)(),t=y();if((0,i.useEffect)(function(){t.data&&t.data.filter(function(e){return"board"===e.type}).length<10&&t.fetchMore()},[t]),!t.data||t.error)return null;var r=e._('Explore featured boards', 'slp.featured_boards.text', 'Explore featured boards text');return(0,g.jsxs)(o.kC,{direction:"column",children:[(0,g.jsx)(o.xu,{alignItems:"center",display:"flex",marginStart:n?p.r5:4,children:(0,g.jsx)(f.Z,{headerMarginBottom:4,headerMarginTop:{mweb:6,dweb:3},sectionHeader:r,sectionHeaderSizes:{mweb:"300",dweb:"300"},subHeaderSizes:{mweb:"100",dweb:"100"}})}),(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},children:(0,g.jsx)(o.xu,{display:"flex",marginBottom:n?3:6,paddingX:n?7:3,children:t.data.filter(function(e){return"board"===e.type}).slice(0,10).map(function(e,n){return e&&(0,g.jsx)(_,{board:e,isLastBoard:9===n},"board--".concat(n))})})})]})};function v(){return(0,g.jsx)(h,{})}},510664:function(e,n,t){t.d(n,{Dj:function(){return g},Ji:function(){return p},Q8:function(){return u},Vx:function(){return c},qe:function(){return f}});var r=t(297949),i=t(144326),o=t(240760),a=t(793355),l=t(598259),s=t(770443),u=40,c=2,d=Math.floor(3.5);function p(e){var n=e.id,t=e.children,i=e.isHovered,o=e.url,a=e.onClick,l=e.onMouseEnter,u=e.onMouseLeave;return(0,s.jsx)(r.xu,{"aria-selected":i?"true":"false",color:i?"secondary":"default","data-test-id":"search-suggestion",id:n,role:"option",children:(0,s.jsx)(r.Tg,{href:o,onMouseEnter:l,onMouseLeave:u,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.metaKey||n.ctrlKey||(n.preventDefault(),a())},tabIndex:-1,children:(0,s.jsx)(r.xu,{marginBottom:1,paddingX:5,children:t})})})}function f(e){var n=e.highlightMatch,t=e.iconName,p=e.imageUrl,f=e.isVerifiedMerchant,g=void 0!==f&&f,m=e.label,y=e.query,_=e.rounding,h=e.searchDelightConfig,v=e.subLabel,b=e.verified,S=void 0!==b&&b,x=(0,i.ZP)();return(0,s.jsx)(r.xu,{"data-test-id":p||t?"enriched-search-suggestion":"regular-search-suggestion",display:"flex",paddingY:p?1:0,width:"100%",children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:{row:c,column:0},children:[p?(0,s.jsx)(r.xu,{"data-test-id":"enriched-autocomplete-image",height:u,marginStart:d,overflow:"hidden",rounding:_&&2===_?2:"circle",width:u,children:(0,s.jsx)(r.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:u,naturalWidth:u,role:"presentation",src:p})}):(0,s.jsx)(r.kC,{alignItems:"center",height:u,justifyContent:"center",width:u,children:(0,s.jsx)(r.xu,{marginTop:1,children:(0,s.jsx)(r.JO,{accessibilityLabel:t?(0,o.nk)(x._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,s.jsxs)(r.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,s.jsxs)(r.kC,{alignItems:"center",children:[void 0!==n&&n&&y?(0,s.jsx)(a.Z,{query:y,searchDelightConfig:h,text:m||y}):(0,s.jsx)(r.xv,{weight:"bold",children:m}),(S||g)&&(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(l.Z,{iconOnly:!0,isVerifiedIdentity:S,isVerifiedMerchant:g,size:"xs",surface:"SuggestionReps"})})]}),v&&(0,s.jsx)(r.xv,{size:"100",children:v})]})]})})}var g=function(e){var n=e.label;return(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",height:40,justifyContent:"start",margin:0,paddingX:9,children:(0,s.jsx)(r.xv,{weight:"bold",children:n})})}},151905:function(e,n,t){t.d(n,{Ag:function(){return f},Fj:function(){return c},Gh:function(){return v},H2:function(){return h},Ie:function(){return b},Lo:function(){return o},Ny:function(){return m},P$:function(){return d},TD:function(){return y},Ub:function(){return g},XI:function(){return r},YO:function(){return _},a3:function(){return s},ht:function(){return a},le:function(){return u},r5:function(){return i},sA:function(){return l},yY:function(){return p}});var r=48,i=8,o=4,a={md:407,sm:332,auto:"auto"},l=7,s=["pin.description","pin.id","pin.images[236x]"],u=360,c=76,d=5,p=7.5,f=40,g=24,m=192,y=7,_=116,h={__style:{backgroundColor:"rgba(0,0,0, .4)"}},v=90,b=2},847881:function(e,n,t){t.d(n,{b:function(){return m},v:function(){return y}});var r=t(282480),i=t(868073),o=t(498490),a=t(663641),l=t(410150),s=t(989386),u=t(770443);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==c(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var f=(0,o.Z)("SearchParams"),g=f.Provider,m=f.useHook,y=function(e){var n,t,o,c,d,f,m=e.children,y=e.value,_=(n=(0,l.HG)(),o=(t=(0,i.TH)()).search,c=t.pathname,f=!(d=(0,i.UO)().scope)&&c.includes("/_tools/shop"),(0,s.Z)({isDesktop:n,scope:f?a.lw.SHOP_TOOL:d,search:o})),h=(0,r.useMemo)(function(){return p(p({},_),y)},[_,y]);return(0,u.jsx)(g,{value:h,children:m})}},17685:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(297949),i=t(770443),o=[["skinTone1","skinTone2","skinTone3","skinTone4"],["skinTone5","skinTone6","skinTone7","skinTone8"],["skinTone9","skinTone10","skinTone11","skinTone12"],["skinTone13","skinTone14","skinTone15","skinTone16"]];function a(e){var n=e.altText,t=e.display,a=e.onClick,l=e.index,s=e.isSelected;return(0,i.jsx)(r.xu,{"data-test-id":"skin-tone-option",children:(0,i.jsx)(r.Fm,{accessibilityLabel:n,color:o[l],onClick:a,selected:s,size:"lg",text:t})})}},127566:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){return e&&e.includes("~0")&&(e=e.replace("~0","")),e||"".concat(n||"","~0")}},765955:function(e,n,t){t.d(n,{kX:function(){return c},rz:function(){return d},wQ:function(){return s},AP:function(){return u}});var r=t(144326),i=t(297728),o=t(383399),a=new Map([["mweb_unauth_max_saves_login_upsell",new Map([["enabled_1",function(e,n){return{title:n._('Sign up to continue saving and access your ideas', 'mweb.unauth.signup_modal.multi_save_value_prop.v0', 'Highlighting the save value prop in signup modal'),subtitle:""}}],["enabled_2",function(e,n){return{title:"",subtitle:n._('Access your saved ideas and discover even more', 'mweb.unauth.signup_modal.multi_save_value_prop_subheader.v0', 'Highlighting the save value prop in signup modal but as a subheader')}}],["enabled_3",function(e,n){return{title:n._('Access your saved ideas and discover even more', 'mweb.unauth.signup_modal.access_saved_ideas.v0', 'Highlighting the save value prop in signup modal'),subtitle:""}}],["enabled_4",function(e,n){return{title:"",subtitle:n._('Bring your ideas to life', 'mweb.unauth.signup_modal.bring_ideas_to_life.v0', 'Highlighting the save value prop in signup modal but as a subheader')}}],["enabled_5",function(e,n){return{title:n._('Bring your ideas to life', 'mweb.unauth.signup_modal.bring_ideas_to_life_subheader.v0', 'Highlighting the save value prop in signup modal'),subtitle:""}}],["enabled_6",function(e,n){return{title:"",subtitle:n._('Sign up to continue saving and access your ideas', 'mweb.unauth.signup_modal.multi_save_value_prop.v0', 'Highlighting the save value prop in signup modal')}}]])]]);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){if((0,o.Z)(),(0,r.ZP)(),!e)return}function u(e){var n,t,s=(0,i.F)().checkExperiment,u=(0,o.Z)(),c=(0,r.ZP)();if(e&&"MobileSignupModalContent"===e&&(n=s("mweb_unauth_max_saves_login_upsell")).anyEnabled){t=a.get("mweb_unauth_max_saves_login_upsell");var d=u.isAuth?u.firstName:null;if(t){var p=t.get(n.group);if("function"==typeof p){var f=p(d,c);if("object"===l(f)&&null!==f)return{title:f.title,subtitle:f.subtitle}}}}}var c=function(e){return"employees"===e||"enabled_no_att_all_organic_non_product_pins"===e},d=function(e,n,t){if("control"===e||""===e)return!0;if(c(e))return!1;switch(e){case"enabled_att_checkmarks_trusted_verified":case"enabled_att_trusted_merchants_and_verified_creators_only":return n||t;case"enabled_att_trusted_merchant_blue_checkmark":return n;case"enabled_att_creators_with_red_checkmarks":return t&&!n;default:return!1}}},934648:function(e,n,t){var r=t(144326),i=t(410150),o=t(754143),a=t(578406);n.Z=function(){var e=(0,r.ZP)(),n=(0,i.HG)(),t=(0,o.H)(),l=t.viewer,s=t.loginForMore,u=t.limitedLoginModalSubheader,c=t.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===l.type?function(t){var r=t.modalHeader,i=t.nextLocation;return function(t){var o=null;t&&(t.nativeEvent&&t.nativeEvent instanceof Event?o=t:t.event&&(o=t.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==s||s.setVisible(!0),null==u||u.setText(r||(n?(0,a.hr)(e):(0,a.Wh)(e))),i&&(null==c||c.setRoute(i))}}:function(e){return e.fn}}},535298:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(61853),i=t(607320),o=t(277844);function a(e){var n,t=e.appliedUnifiedFilters,a=e.autoCorrectionDisabled,l=e.bubbleId,s=e.currentlyAppliedFiltersParamTerm,u=e.dynamicPageSizeExpGroup,c=e.guidedSearchQuery,d=e.inGlobalSearch,p=e.initialCategory,f=e.initialDomains,g=e.initialMaxPrice,m=e.initialMinPrice,y=e.isDuplo,_=e.journeyDepth,h=e.pageSize,v=e.personalizationPinSig,b=e.query,S=e.requestParams,x=e.rs,P=e.scope,I=e.search,E=e.selectedOneBarModules,w=e.sourceId,O=e.sourceModuleId,T=e.sourceUrl,A=e.topPinIds,j=e.user,k=null==E?void 0:E.split(",");if(d)n=(0,o.Ht)({autoCorrectionDisabled:a,filters:s,journeyDepth:_,query:b,requestParams:S,scope:P,selectedOneBarModules:k,selectedPinImgSig:v,sourceId:w,sourceModuleId:O,sourceUrl:T,topPinIds:A});else{var D={autoCorrectionDisabled:a,bubbleId:l,filters:s,guidedSearchQuery:c,journeyDepth:_,query:b,requestParams:S,rs:x,scope:P,selectedOneBarModules:k,selectedPinImgSig:v,sourceId:w,sourceModuleId:O,sourceUrl:T,topPinIds:A,user:j};t&&(D.appliedUnifiedFilters=t),D.appliedProductFilters=(0,r.Z)({category:p,domains:f,maxPrice:g,minPrice:m}),y&&(D.domains=f,D.priceMax=g?parseInt(g,10):void 0,D.priceMin=m?parseInt(m,10):void 0,D.topPinId=(0,i.Z)(I,P)),h&&(D.pageSize=h.page_size),u&&(D.dynamicPageSizeExpGroup=u),n=(0,o.Ht)(D)}return n}},212602:function(e,n,t){t.d(n,{Z:function(){return s},d:function(){return a}});var r=t(5629),i=t(679482),o=t(663641),a=function(e){return e?{page_size:"14"}:{page_size:"25"}},l=0;function s(e){var n,t=e.checkExperiment,s=e.isAuthenticated,u=e.isDesktop,c=e.isLandingPage,d=e.isBackButtonNavToLandingPage,p=e.scope,f=e.windowHeight,g=e.windowWidth,m=u&&p!==o.lw.USERS&&p!==o.lw.BOARDS&&!(c||d)?t("dweb_search_dynamic_page_size"):{},y=m.group,_=m.anyEnabled;if(u){if(void 0!==_&&_&&0!==g&&0!==f){if(0!==l)n={page_size:l.toString()};else{var h=Math.floor(g/(i.yF+i.oX)),v=Number((void 0===y?"":y).split("_")[1]),b=h*Math.ceil((f-(r.Mz+r.Lu+r.uS))/v);n={page_size:b.toString()},l=b}}}else n=a(s);return n}},989386:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(663641),i=t(868808);function o(e){var n=e.isDesktop,t=e.scope,o=e.search,a=(0,i.mB)(o),l=a.auto_correction_disabled,s=a.b_id,u=a.brands,c=a.brand_value,d=a.category,p=a.colors,f=a.commerce_only,g=void 0===f?"":f,m=a.cover_pin_sig,y=a.deb_d,_=a.domains,h=a.filters,v=a.guided_search_query,b=a.interest_id,S=a.journey_depth,x=a.on_sale,P=a.price_max,I=a.price_min,E=a.q,w=a.query_pin_sigs,O=a.request_params,T=a.rs,A=a.selected_one_bar_modules,j=a.source_id,k=a.source_module_id,D=a.style,C=a.tab,R=a.top_pin_ids,L=a.user,N="true"===g.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===(void 0===l?"":l).toLowerCase(),brands:u,brandValue:c,bubbleId:s,category:d,colors:p,commerceOnly:"true"===g.toLowerCase(),coverPinSig:m,currentlyAppliedFiltersParamTerm:h,debD:y,domains:_,guidedSearchQuery:v,interestId:b,journeyDepth:S?parseInt(S,10):void 0,onSale:x,personalizationPinSig:w,placementId:(0,r.Hd)(N,n),priceMax:P,priceMin:I,query:E,requestParams:O,rs:T,scope:N,selectedOneBarModules:A,sourceId:j,sourceModuleId:k,style:D,tab:C||"",topPinIds:R,user:L,viewParameter:(0,r._R)(N),viewType:N===r.lw.SHOP_TOOL?1:2}}},211397:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(282480),i=t(545007),o=t(656817),a=t(297728),l=t(786974),s=t(468808),u=t(535298),c=t(212602),d=t(989386);function p(){var e,n=(0,a.F)().checkExperiment,t=(0,i.I0)(),p=(0,r.useRef)(),f=null!==(e=(0,o.Z)())&&void 0!==e?e:{},g=f.width,m=void 0===g?0:g,y=f.height,_=void 0===y?0:y;return function(e){e&&function(e){var n=e.appliedUnifiedFilters,t=e.checkExperiment,r=e.dispatch,i=e.optionsKeyRef,o=e.isAuthenticated,a=void 0===o||o,p=e.isDesktop,f=void 0===p||p,g=e.url,m=e.windowHeight,y=e.windowWidth,_=new URL(g.startsWith("http")?g:"".concat(window.location.origin).concat(g)),h=_.pathname.split("/");if(4===h.length&&"search"===h[1]){var v=_.search,b=h[2],S=(0,d.Z)({isDesktop:f,scope:b,search:v}),x=S.autoCorrectionDisabled,P=S.bubbleId,I=S.category,E=S.currentlyAppliedFiltersParamTerm,w=S.domains,O=S.guidedSearchQuery,T=S.inGlobalSearch,A=S.journeyDepth,j=S.personalizationPinSig,k=S.priceMax,D=S.priceMin,C=S.query,R=S.requestParams,L=S.rs,N=S.scope,M=S.selectedOneBarModules,F=S.sourceId,U=S.sourceModuleId,z=S.user,B=(0,c.Z)({checkExperiment:t,isAuthenticated:a,isDesktop:f,scope:N,windowHeight:m,windowWidth:y}),Z=t("dweb_search_dynamic_page_size",{dangerouslySkipActivation:!0}).group,H=(0,u.Z)({appliedUnifiedFilters:n,autoCorrectionDisabled:x,bubbleId:P,currentlyAppliedFiltersParamTerm:E,dynamicPageSizeExpGroup:Z,guidedSearchQuery:O,inGlobalSearch:T,initialCategory:I,initialDomains:w,initialMaxPrice:k,initialMinPrice:D,isDuplo:!a||!f,journeyDepth:A,pageSize:B,personalizationPinSig:j,query:C,requestParams:R,rs:L,scope:N,search:v,selectedOneBarModules:M,sourceId:F,sourceModuleId:U,sourceUrl:g,user:z}),K=(0,l.Z)(H);i.current!==K&&(i.current=K,r((0,s.U)(H.name,{options:H.options},null)))}}({checkExperiment:n,dispatch:t,optionsKeyRef:p,url:e,windowHeight:_,windowWidth:m})}}},511507:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(868073),i=t(813452),o=t(656817),a=t(136061),l=t(297728),s=t(730212),u=t(961754),c=t(663641),d=t(410150),p=t(847881),f=t(535298),g=t(212602);function m(e){var n,t=(e||{}).skipResourceCall,m=(0,l.F)().checkExperiment,y=(0,s.B)().isAuthenticated,_=(0,r.TH)(),h=_.pathname,v=_.search,b=(0,d.HG)(),S=!y||!b,x=null!==(n=(0,o.Z)())&&void 0!==n?n:{},P=x.width,I=x.height,E=(0,p.b)(),w=E.autoCorrectionDisabled,O=E.bubbleId,T=E.category,A=E.currentlyAppliedFiltersParamTerm,j=E.domains,k=E.guidedSearchQuery,D=E.inGlobalSearch,C=E.journeyDepth,R=E.personalizationPinSig,L=E.priceMax,N=E.priceMin,M=E.query,F=E.requestParams,U=E.rs,z=E.scope,B=E.selectedOneBarModules,Z=E.sourceId,H=E.sourceModuleId,K=E.topPinIds,G=E.user,V=(0,i.Z)(),W=(0,a.Hv)(),Y=W.previous,q=W.forward,X=0===Y.length&&0===q.length,Q=0===Y.length&&0!==q.length,$=(0,g.Z)({checkExperiment:m,isAuthenticated:y,isDesktop:b,isLandingPage:X,isBackButtonNavToLandingPage:Q,scope:z,windowHeight:void 0===I?0:I,windowWidth:void 0===P?0:P}),J=m("dweb_search_dynamic_page_size",{dangerouslySkipActivation:!0}).group,ee=(0,f.Z)({appliedUnifiedFilters:V,autoCorrectionDisabled:w,bubbleId:O,currentlyAppliedFiltersParamTerm:A,dynamicPageSizeExpGroup:J,guidedSearchQuery:k,inGlobalSearch:D,initialCategory:T,initialDomains:j,initialMaxPrice:L,initialMinPrice:N,isDuplo:S,journeyDepth:C,pageSize:$,personalizationPinSig:R,query:M,requestParams:F,rs:U,scope:z,search:v,selectedOneBarModules:B,sourceId:Z,sourceModuleId:H,sourceUrl:h+v,topPinIds:K,user:G}),en=S;S&&(en=!!y&&!m("unify_search_resource_auth_mweb").anyEnabled);var et=t||z===c.lw.USERS&&!S||en;return(0,u.Z)(et?null:ee)}},741326:function(e,n,t){t.d(n,{GB:function(){return g},ZP:function(){return f},q0:function(){return p}});var r=t(297949),i=t(240760),o=t(707874),a=t(207630),l=t(635258),s=t(625940),u=t(557268),c=t(897628),d=t(770443),p=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function f(e){var n=e.dispatchId,t=e.errorId,s=e.i18n,f=e.ideaPinRenamingEnabled,g=e.options,m=(0,u.Z)(t,s,n,g);if("GENERAL_ERROR"!==m.id)return m;switch(t){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:n,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:s._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:n,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:s._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:n,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:s._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:n,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:s._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:n,id:"BOARD_MISSING",type:"error",message:s._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:n,id:"DATE_IN_PAST",type:"error",message:s._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:n,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:s._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:n,id:"DATE_MISSING",type:"error",message:s._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:n,id:"DESCRIPTION_INVALID",type:"error",message:s._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:n,id:"MEDIA_MISSING",type:"error",message:s._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:n,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:s._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:n,id:"TAG_INVALID",type:"error",message:s._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:n,id:"TAG_EMPTY",type:"error",message:s._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:n,id:"TIME_MISSING",type:"error",message:s._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:n,id:"TITLE_INVALID",type:"error",message:s._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:n,id:"URL_INVALID",type:"error",message:p(s),blocking:!0};case"URL_MISSING":return{dispatchId:n,id:"URL_MISSING",type:"error",message:s._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:n,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,i.nk)(s._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,d.jsx)(r.rU,{display:"inlineBlock",href:l.MsG,target:"blank",underline:"hover",children:(0,d.jsx)(r.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:s._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:n,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.Z)(s._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:o.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:n,id:"URL_IS_BLOCKED",type:"error",message:s._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:n,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:s._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:n,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:s._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:n,id:"URL_IS_REDIRECT",type:"error",message:s._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:n,id:"URL_UNREACHABLE",type:"error",message:s._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:s._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:f?s._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):s._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:n,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:f?s._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):s._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:n,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:f?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:n,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:f?s._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):s._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:n,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:f?s._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):s._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:n,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,i.nk)(s._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:c.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:n,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,i.nk)(s._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:c.Af}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:n,id:"STORY_PIN_TITLE_MISSING",type:"error",message:f?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var y=Math.floor(o.W_);return{dispatchId:n,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.nk)(s.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', y, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:y}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:n,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:s._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var _=o.Lr/1024/1024;return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(s.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', _, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:_}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:n,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:n,id:"GENERAL_ERROR",type:"error",message:s._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function g(e,n,t){t({event_type:7564,view_type:212,component:(0,s.Z)().includes("create")?13762:13308,aux_data:{error_message:n,error_id:e}})}},312044:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(297949),i=t(770443);function o(e){var n=e.description,t=e.imageUrl,o=e.imageHeight,a=e.imageWidth,l=e.pinsInPinPickerStepRef,s=e.pinSlotPosition,u=e.useCaseId;return(0,i.jsx)(r.xu,{ref:u&&void 0!==s&&s>=0&&null!=l&&l.current?function(e){if(e){var n=e.querySelector("img");l.current.has(u)||l.current.set(u,[]);var t=l.current.get(u);t&&(t[s]=n)}}:void 0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:t&&(0,i.jsx)(r.Ee,{alt:null!=n?n:"",color:"#767676",fit:"cover",naturalHeight:null!=o?o:1,naturalWidth:null!=a?a:1,src:t})})}},599911:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return{privacy_filter:n?"secret":"public",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:r,filter_types:i}}},831355:function(e,n,t){t.d(n,{O:function(){return u},Q:function(){return c}});var r=t(338623),i=t(35486),o=t(701842);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],u={name:"BoardsResource",key:"boardsResource",options:function(e,n){var t=e.boardOrder,r=e.filterStories,i=e.mixPublicSecret,o=e.username,s=e.privacyFilter,u=e.filterAllPins,c=e.filterShoppingList,d=e.includeArchived;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==a(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({privacy_filter:void 0===s?"all":s,sort:t||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:o,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:void 0===d||d,redux_normalize_feed:!0,filter_all_pins:void 0!==u&&u,filter_shopping_list:void 0!==c&&c},n?{orbac_subject_id:n}:Object.freeze({}))}},c=function(e){return s.reduce(function(n,t){var a=[(0,o.N8)("profileBoards",(0,i.Z)(e,t))];return[!0,!1].forEach(function(n){[!0,!1].forEach(function(i){a.push((0,r.jB)(u.name,u.options({username:e,boardOrder:t,mixPublicSecret:n,filterStories:i})))})}),n.concat(a)},[])}},119437:function(e,n,t){t.d(n,{Br:function(){return m},Cr:function(){return x},K8:function(){return v},L1:function(){return T},YQ:function(){return O},ZP:function(){return P},aX:function(){return I},eo:function(){return _},md:function(){return y},oG:function(){return h},oL:function(){return E},of:function(){return b},xQ:function(){return S},xR:function(){return w},yT:function(){return g}});var r=t(252071),i=t(640498),o=t(468808),a=t(338623),l=t(599911),s=t(831355);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)})}}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==u(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function g(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function y(e,n){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:n}}}function _(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var h=function(e,n){return function(t){return t((0,o.U)("BoardResource",{options:{board_id:e,field_set_key:n}}))}};function v(e){return function(n){e&&(0,s.Q)(e).forEach(function(e){n(e)})}}var b=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},S=function(e){return h(e,"pin_count")},x=function(e,n){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:n}}},P=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function I(e,n,t){var o=f({name:e,privacy:i.ZP.BoardPrivacy.PUBLIC,username:n},t?{orbac_subject_id:t}:Object.freeze({}));return function(e){return r.Z.create("BoardResource",o).callCreate().then(function(t){var r=t.resource_response.data;return e(n&&(0,a.jB)("BoardsResource",(0,l.Z)(n,!1))),r})}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:n},error:t}}var w=function(e,n,t){var i;return i=d(regeneratorRuntime.mark(function i(o){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:n}}),i.next=3,r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:n}).callDelete();case 3:return(a=i.sent).resource_response.error||t({event_type:29,object_id_str:e}),i.abrupt("return",a);case 6:case"end":return i.stop()}},i)})),function(e){return i.apply(this,arguments)}},O=function(e,n,t,i,o,a){var l;return l=d(regeneratorRuntime.mark(function l(s){var u,c,d;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return c="accepted"===n?"BoardCollaboratorResource":"BoardInviteResource",s({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!==(u=null==i?void 0:i.id)&&void 0!==u?u:"",viewingUser:t}}),l.prev=2,l.next=5,r.Z.create(c,f({board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(d=null==i?void 0:i.id)&&void 0!==d?d:""},a?{orbac_subject_id:a}:{})).callDelete();case 5:l.sent.resource_response.error||o({event_type:"accepted"===n?25:29,object_id_str:e}),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),s({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:[i]}});case 12:case"end":return l.stop()}},l,null,[[2,9]])})),function(e){return l.apply(this,arguments)}},T=function(e,n,t,i){return function(o){var a=r.Z.create("BoardResource",{board_id:t}).callDelete();return o(_({viewingUserId:e,viewingUsername:n,boardId:t,boardPinCount:i})),a}}},560425:function(e,n,t){t.d(n,{Z:function(){return l},f:function(){return s}});var r=t(400416),i=t(119437);function o(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})}}function l(e,n){var t;return t=a(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.md)(e,!0)),t.prev=1,t.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"PUT"});case 4:n({event_type:26,object_id_str:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o((0,i.md)(e,!1));case 10:case"end":return t.stop()}},t,null,[[1,7]])})),function(e){return t.apply(this,arguments)}}function s(e,n){var t;return t=a(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.md)(e,!1)),t.prev=1,t.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"DELETE"});case 4:n({event_type:27,object_id_str:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),o((0,i.md)(e,!0));case 10:case"end":return t.stop()}},t,null,[[1,7]])})),function(e){return t.apply(this,arguments)}}},701842:function(e,n,t){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,n){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:n}}}t.d(n,{EX:function(){return a},N8:function(){return i},Qv:function(){return o},_f:function(){return r},vX:function(){return l}});var o=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:t,items:n}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},887525:function(e,n,t){var r=(0,t(39724).P1)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(n,t){var r,i=e[t];n[null!==(r=i.url)&&void 0!==r?r:""]=i;var o=i.oldSlugUrl;return o&&(n[o]=i),n},{})});n.Z=r},897628:function(e,n,t){t.d(n,{Af:function(){return c},Ei:function(){return s},II:function(){return v},Lh:function(){return m},U:function(){return f},Zy:function(){return l},dD:function(){return o},er:function(){return g},hb:function(){return _},in:function(){return u},j7:function(){return y},kX:function(){return d},mx:function(){return h},n5:function(){return a},q8:function(){return p},xH:function(){return i}});var r=t(66810),i=1048576,o=3,a=20,l=3,s=10,u=50,c=10,d=1200,p=375,f=375/r.ap,g=4096,m="#FFFFFF",y={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},_=420,h=325,v=768},310368:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(297949),i=t(476198),o=t(144326),a=t(961754),l=t(410150),s=t(770443);function u(e){var n=e.ideaPinImages,t=n.map(function(e,n){var t,i;return(0,s.jsx)(r.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:n}},height:48,overflow:"hidden",rounding:2,width:28,children:(null==e?void 0:e.url)&&(0,s.jsx)(r.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!==(t=null==e?void 0:e.height)&&void 0!==t?t:1,naturalWidth:null!==(i=null==e?void 0:e.width)&&void 0!==i?i:1,src:e.url})},n)});return(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[n.length],children:t})})}function c(e){var n=e.handleHide,t=e.text,c=e.userId,d=e.href,p=e.imageUrl,f=(0,o.ZP)(),g=(0,l.HG)(),m=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:c}}),y=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,s.jsx)(i.Z,{duration:5e3,href:d,onHide:n,text:y,thumbnail:p?{image:(0,s.jsx)(r.Ee,{alt:f._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}:void 0});var _=(m.data||[]).slice(0,3).map(function(e){var n;return null===(n=e.images)||void 0===n?void 0:n[g?"236x":"170x"]}),h=(0,s.jsx)(u,{ideaPinImages:_});return(0,s.jsx)(i.Z,{_dangerouslySetThumbnail:h,duration:5e3,href:d,onHide:n,text:y})}},589371:function(e,n,t){var r,i=t(282480),o=t(711284),a=t(868073),l=t(297949),s=t(488792),u=t(730212),c=t(132993),d=t(154785),p=t(410150),f=t(87416),g=t(533113),m=t(770443),y=void 0!==r?r:r=t(709274),_=function(e){var n=e.children,t=e.href,r=e.isHubRedesign,o=e.onTap,a=(0,u.B)().isAuthenticated,s=(0,p.HG)(),d=(0,c.ZP)(),f=d.moduleWidth,g=d.moduleHeight,y=r?c.BH:void 0,_=(0,i.useCallback)(function(){return s?(0,m.jsx)(l.xu,{height:r?g:void 0,minHeight:g,width:r?y:f,children:n}):n},[s,r,g,y,f,n]);return a?(0,m.jsx)(l.iP,{onTap:function(e){o({event:e.event})},tapStyle:"compress",children:_()}):(0,m.jsx)(l.Tg,{href:t,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),o({event:n})},children:_()})},h=function(e){var n=e.boardModule,t=e.boardUrl,r=e.clientTrackingParams,i=e.gridIndex,o=e.id,u=e.isHubRedesign,c=void 0!==u&&u,g=e.pinId,y=e.viewParameter,h=e.viewType,v=(0,a.k6)(),b=(0,s.Z)(),S=(0,d.Z)(),x=(0,p.HG)();return(0,m.jsx)(f.u,{auxData:{grid_index:i.toString(),board_id:o},loggingId:o,objectIdStr:o,slotIndex:i,viewParameter:y||3372,viewType:h||1,children:function(e){var a=e.impressionTrackerRef;return(0,m.jsx)(l.xu,{ref:a,"data-test-id":"editorial-boards-link",children:(0,m.jsx)(_,{href:t,isHubRedesign:c,onTap:function(){b({event_type:x?101:102,view_type:h||1,view_parameter:y||3372,component:201,aux_data:{board_id:o,grid_index:i.toString()}}),S({action:"click",item:"editorial-boards-link"}),r&&g&&b({event_type:x?101:102,view_type:h||1,view_parameter:y||3372,object_id_str:g,clientTrackingParams:r,aux_data:{board_id:g,grid_index:i.toString()}}),v.push(t)},children:n})})}})};n.Z=function(e){var n,t=e.containerKey,r=e.gridIndex,i=e.headerAccessibilityLevel,a=e.isHubRedesign,l=e.subtitleSize,s=e.titleSize,u=e.viewParameter,c=e.viewType,d=(0,o.useFragment)(y,t),p=d.boardId,f=d.imageCoverHdUrl,_=d.featuredBoardMetadata,v=d.name,b=d.url,S=(0,m.jsx)(g.Z,{headerAccessibilityLevel:i,imageUrls:[f],subtitle:null!==(n=null==_?void 0:_.boardSubtitle)&&void 0!==n?n:"",subtitleSize:l||"300",title:null!=v?v:"",titleSize:s||"500"});return(0,m.jsx)(h,{boardModule:S,boardUrl:null!=b?b:"",gridIndex:r,id:null!=p?p:"",isHubRedesign:a,viewParameter:u,viewType:c})}},533113:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(868073),i=t(297949),o=t(793874),a=t(144326),l=t(282999),s=t(410150),u=t(51210),c=t(957548),d=t(788654),p=t(770443);function f(e){var n=e.headerAccessibilityLevel,t=e.imageHeightWidthPercent,f=e.imageUrls,g=e.inShoppingRedesign,m=e.rounding,y=e.subtitle,_=e.subtitleSize,h=e.subtitleWeight,v=e.textAlign,b=void 0===v?"center":v,S=e.title,x=e.titleSize,P=(0,s.HG)(),I=(0,a.ZP)(),E=(0,u.Z)(),w=E.isHovering,O=E.handleMouseEnter,T=E.handleMouseLeave,A=(0,r.TH)(),j=P?c.qS:c.f$,k=I._('Shopping bag icon label', 'heroModule.shoppingArticle.shoppingBagIconLabel', 'Label for shopping bag icon on hero module'),D=(0,o.vs)();return!f||f.length<=0?null:(0,p.jsxs)(i.xu,{borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:"".concat(void 0===t?75:t,"%")}},onMouseEnter:P?O:void 0,onMouseLeave:P?T:void 0,overflow:"hidden",position:"relative",rounding:void 0===m?8:m,width:(0,l.gT)(A)&&P?j:void 0,children:[w&&(0,p.jsx)(d.Z,{}),(0,p.jsx)(i.xu,{bottom:!0,display:"inlineBlock",left:!0,position:"absolute",right:!0,top:!0,children:f[0]&&(0,p.jsxs)(i.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:f[0],children:[g&&(0,p.jsx)(i.xu,{marginStart:4,marginTop:4,position:"absolute",children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:D?o.t4:"rgba(255, 255, 255, 0.8)"}},rounding:"circle",children:(0,p.jsx)(i.hU,{accessibilityLabel:k,bgColor:"transparent",icon:"shopping-bag",iconColor:"darkGray",size:"md"})})}),(0,p.jsx)(i.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.40) 0%, rgba(0, 0, 0, 0.40) 100%)"}},display:"flex",height:"100%",paddingX:5,paddingY:6,width:"100%",children:(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[y&&(0,p.jsx)(i.xu,{"data-test-id":"hero-module-subtitle",marginBottom:1,children:(0,p.jsx)(i.xv,{align:b,color:"light",size:_,weight:h,children:y})}),(0,p.jsx)(i.xu,{"data-test-id":"hero-module-title",children:(0,p.jsx)(i.X6,{accessibilityLevel:void 0===n?1:n,align:b,color:"light",size:x,children:S})})]})})]})})]})}},907360:function(e,n,t){var r=t(868073),i=t(297949),o=t(410150),a=t(51210),l=t(87416),s=t(127566),u=t(788654),c=t(72748),d=t(770443);n.Z=function(e){var n=e.articleId,t=e.creatorId,p=e.creatorFullName,f=e.creatorImgSrc,g=e.creatorIsVerified,m=e.gridIndex,y=e.imageHeight,_=e.imageWidth,h=e.imageUrl,v=e.pinId,b=e.showCreator,S=e.trackingParams,x=e.title,P=e.viewParameter,I=e.viewType,E=(0,r.TH)(),w=(0,a.Z)(),O=w.isHovering,T=w.handleMouseEnter,A=w.handleMouseLeave,j=(0,o.HG)();return(0,d.jsxs)(i.xu,{borderStyle:"shadow",color:"default",onMouseEnter:j?T:void 0,onMouseLeave:j?A:void 0,overflow:"hidden",position:"relative",rounding:8,children:[O&&(0,d.jsx)(u.Z,{}),(0,d.jsx)(l.dL,{auxData:{grid_index:m,today_article_id:n},component:13525,impressionData:{imageURL:h},loggingId:v,objectIdStr:v,slotIndex:m,trackingParams:(0,s.Z)((E.state||{}).trackingParams,S),viewParameter:P,viewType:I,children:function(e){var n=e.impressionTrackerRef;return(0,d.jsx)(i.xu,{ref:n,dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof y&&"number"==typeof _?"".concat(y/_*100,"%"):"100%"}},position:"relative",children:(0,d.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:h&&(0,d.jsx)(i.Ee,{alt:x,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:h})})})}}),(0,d.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:6,paddingY:4,children:[(0,d.jsx)(i.X6,{align:"center",size:"400",children:x}),b&&(t||p)&&(0,d.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,d.jsx)(c.Z,{creatorFullName:p,creatorImgSrc:f,creatorIsVerified:g,userId:t})})]})]})}},63037:function(e,n,t){var r=t(868073),i=t(297949),o=t(559028),a=t(674944),l=t(383399),s=t(87416),u=t(127566),c=t(770443);n.Z=function(e){var n=e.articleId,t=e.gridIndex,d=e.hasPinnerAttribution,p=e.imageHeight,f=e.imageWidth,g=e.imageUrl,m=e.pageCount,y=e.pinId,_=e.pinnerImageSrc,h=e.pinnerName,v=e.pinTrackingParams,b=e.title,S=e.viewParameter,x=e.viewType,P=(0,r.TH)(),I=(0,l.Z)(),E=I.isAuth?null==I?void 0:I.avatar_color_index:void 0;return(0,c.jsxs)(i.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",paddingY:6,rounding:8,children:[(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingX:6,children:(0,c.jsx)(i.X6,{align:"center",size:"400",children:b})}),(0,c.jsx)(s.dL,{auxData:{grid_index:t,today_article_id:n},component:13525,impressionData:{imageURL:g},loggingId:y,objectIdStr:y,slotIndex:t,trackingParams:(0,u.Z)((P.state||{}).trackingParams,v),viewParameter:S,viewType:x,children:function(e){var n=e.impressionTrackerRef;return(0,c.jsxs)(i.xu,{ref:n,marginTop:4,paddingX:12,children:[(0,c.jsx)(i.zd,{rounding:8,children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof p&&"number"==typeof f?"".concat(p/f*100,"%"):"100%"}},position:"relative",children:(0,c.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:g&&(0,c.jsx)(i.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:g,children:(0,c.jsx)(i.xu,{marginStart:1,marginTop:1,position:"relative",children:(0,c.jsx)(a.Z,{icon:"idea-pin",text:m.toString()})})})})})}),d&&(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,c.jsx)(i.xu,{flex:"none",height:44,marginEnd:2,width:44,children:(0,c.jsx)(o.qE,{color:E,name:"",outline:!0,size:"fit",src:_})}),(0,c.jsx)(i.xv,{lineClamp:1,children:h})]})]})}})]})}},321641:function(e,n,t){var r=t(868073),i=t(297949),o=t(410150),a=t(51210),l=t(87416),s=t(127566),u=t(788654),c=t(72748),d=t(303795),p=t(770443);n.Z=function(e){var n=e.articleId,t=e.creatorId,f=e.creatorFullName,g=e.creatorImgSrc,m=e.creatorIsVerified,y=e.gridIndex,_=e.height,h=e.pinDescription,v=e.pinImageHeight,b=e.pinImageUrl,S=e.pinImageWidth,x=e.showCreator,P=e.thumbnail,I=e.title,E=e.trackingParams,w=e.url,O=e.videoPinId,T=e.viewParameter,A=e.viewType,j=e.width,k=(0,r.TH)(),D=(0,o.HG)(),C=(0,a.Z)(),R=C.isHovering,L=C.handleMouseEnter,N=C.handleMouseLeave;return(0,p.jsxs)(i.xu,{borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},direction:"column",display:"flex",flex:"none",onMouseEnter:D?L:void 0,onMouseLeave:D?N:void 0,overflow:"hidden",rounding:8,children:[R&&(0,p.jsx)(u.Z,{}),(0,p.jsx)(l.dL,{auxData:{grid_index:y,today_article_id:n},component:13525,impressionData:{imageURL:b},loggingId:O,objectIdStr:O,slotIndex:y,trackingParams:(0,s.Z)((k.state||{}).trackingParams,E),viewParameter:T,viewType:A,children:function(e){var n=e.impressionTrackerRef;return(0,p.jsx)(i.xu,{ref:n,children:(0,p.jsx)(d.Z,{height:_,pinDescription:h,pinImageHeight:v,pinImageUrl:b,pinImageWidth:S,thumbnail:P,url:w,width:j})})}}),(0,p.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:6,paddingY:4,children:[(0,p.jsx)(i.X6,{align:"center",size:"400",children:I}),x&&(t||f)&&(0,p.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,p.jsx)(c.Z,{creatorFullName:f,creatorImgSrc:g,creatorIsVerified:m,userId:t})})]})]})}},136823:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(297949),i=t(793874),o=t(770975),a=t(410150),l=t(51210),s=t(788654),u=t(770443);function c(e){var n=e.imageUrls,t=e.rounding,c=e.subtitle,d=e.subtitleSize,p=e.title,f=e.titleSize,g=(0,a.HG)(),m=(0,o.E)(),y=0,_=(0,i.vs)(),h=function(){0==(y-=1)&&(null==m||m.markConstraintComplete("idea_module_loaded"))},v=(0,l.Z)(),b=v.isHovering,S=v.handleMouseEnter,x=v.handleMouseLeave;if(!n||n.length<=0)return null;var P=n.slice(0,3);return m&&(y=P.length),(0,u.jsxs)(r.xu,{borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:g?S:void 0,onMouseLeave:g?x:void 0,overflow:"hidden",position:"relative",rounding:null!=t?t:8,children:[b&&(0,u.jsx)(s.Z,{}),(0,u.jsxs)(r.xu,{bottom:!0,direction:"column",display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:[(0,u.jsx)(r.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:P.map(function(e,n){return(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},width:"".concat(100/P.length,"%"),children:e&&(0,u.jsx)(r.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:h,role:"presentation",src:e})},n)})}),(0,u.jsxs)(r.xu,{color:_?"secondary":void 0,flex:"none",paddingX:5,paddingY:6,width:"100%",children:[c&&(0,u.jsx)(r.xu,{marginBottom:1,children:(0,u.jsx)(r.xv,{align:"center",size:d,weight:g?"bold":"normal",children:c})}),(0,u.jsx)(r.X6,{align:"center",size:f,children:p})]})]})]})}},834869:function(e,n,t){t.d(n,{i:function(){return E},y:function(){return P}});var r,i=t(711284),o=t(868073),a=t(297949),l=t(488792),s=t(730212),u=t(132993),c=t(831595),d=t(154785),p=t(410150),f=t(943438),g=t(87416),m=t(533113),y=t(907360),_=t(63037),h=t(321641),v=t(136823),b=t(770443),S=function(e){var n=e.children,t=e.href,r=e.isTodayArticlePage,i=e.isHubRedesign,o=e.onTap,l=(0,s.B)().isAuthenticated,c=(0,p.HG)(),d=(0,u.ZP)(),f=d.moduleWidth,g=d.moduleHeight,m=i?u.BH:void 0;return l?(0,b.jsx)(a.iP,{onTap:function(e){o({event:e.event})},tapStyle:"compress",children:c?(0,b.jsx)(a.xu,{height:i?g:void 0,minHeight:r?void 0:g,width:r||i?m:f,children:n}):n}):(0,b.jsx)(a.Tg,{href:t,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),o({event:n})},children:c?(0,b.jsx)(a.xu,{height:i?g:void 0,minHeight:r?void 0:g,width:r||i?m:f,children:n}):n})},x=new Set([3,2,6]),P=function(e){var n=e.ArticleModule,t=e.clientTrackingParams,r=e.id,i=e.displayType,s=e.gridIndex,u=e.isTodayArticlePage,c=void 0!==u&&u,m=e.isHubRedesign,y=void 0!==m&&m,_=e.onArticleTapUrl,h=e.pinId,v=e.viewParameter,P=e.viewType,I=(0,o.k6)(),E=(0,l.Z)(),w=(0,d.Z)(),O=(0,p.HG)();return(0,b.jsx)(g.Y4,{auxData:{grid_index:s.toString(),today_article_id:r},loggingId:r,objectIdStr:r,slotIndex:s,viewParameter:v||3372,viewType:P||1,children:function(e){var o=e.impressionTrackerRef;return(0,b.jsx)(a.xu,{ref:o,"data-test-id":"suggested-articles-link",children:(0,b.jsx)(S,{href:_,isHubRedesign:y,isTodayArticlePage:c,onTap:function(){E({event_type:O?101:102,view_type:P||1,view_parameter:v||3372,component:13525,aux_data:{today_article_id:r,grid_index:s.toString()}}),w({action:"click",item:"suggested-articles-link"}),"number"==typeof i&&x.has(i)&&t&&h&&E({event_type:O?101:102,view_type:P||1,view_parameter:v||3372,object_id_str:h,clientTrackingParams:t,aux_data:{today_article_id:h,grid_index:s.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,f.Z)(I)}}),I.push(_)},children:n})})}})},I=void 0!==r?r:r=t(935331),E=function(e){var n=e.containerKey,t=e.gridIndex,r=e.headerAccessibilityLevel,o=e.subtitleSize,a=e.titleSize,l=e.viewParameter,s=e.viewType,u=e.isHubRedesign,d=(0,i.useFragment)(I,n),p=d.contentPinOfficialUser,f=d.contentPin,g=d.displayType,S=d.feedSource,x=d.headerPinId,E=d.entityId,w=d.imageUrls,O=d.isProductPinFeed,T=d.showCreator,A=d.subtitle,j=d.title,k=d.videoPin,D=null,C=(0,c.T7)(null!=S?S:0,null!=O&&O,null!=j?j:"",null!=E?E:""),R=null!=f?f:{},L=R.description,N=R.images170x,M=R.images236x,F=R.images736x,U=R.pinner,z=R.storyPinData,B=R.trackingParams,Z=null!==(W=null!==(Y=null!==(q=null==F?void 0:F.url)&&void 0!==q?q:null==M?void 0:M.url)&&void 0!==Y?Y:null==N?void 0:N.url)&&void 0!==W?W:"",H=null!==(X=null!==(Q=null==F?void 0:F.width)&&void 0!==Q?Q:null==M?void 0:M.width)&&void 0!==X?X:null==N?void 0:N.width,K=null!==($=null!==(J=null==F?void 0:F.height)&&void 0!==J?J:null==M?void 0:M.height)&&void 0!==$?$:null==N?void 0:N.height,G=(null!=f?f:{}).originPinner,V=p||G||U;switch(g){case 0:D=(0,b.jsx)(m.Z,{headerAccessibilityLevel:r,imageUrls:w,subtitle:null!=A?A:"",subtitleSize:o||"300",title:null!=j?j:"",titleSize:a||"500"});break;case 1:D=(0,b.jsx)(v.Z,{imageUrls:w,subtitle:null!=A?A:"",subtitleSize:o||"300",title:null!=j?j:"",titleSize:a||"500"});break;case 2:var W,Y,q,X,Q,$,J,ee,en,et,er,ei,eo,ea,el,es,eu,ec=null!=k?k:{},ed=ec.entityId,ep=ec.videos,ef=null!==(ee=null==ep?void 0:null===(en=ep.videoList)||void 0===en?void 0:en.v720P)&&void 0!==ee?ee:{};ed&&(D=(0,b.jsx)(h.Z,{articleId:null!=E?E:"",creatorFullName:null==V?void 0:V.fullName,creatorImgSrc:(null==V?void 0:V.imageMediumUrl)||(null==V?void 0:V.imageSmallUrl),creatorIsVerified:!!(null==V?void 0:null===(eu=V.verifiedIdentity)||void 0===eu?void 0:eu.verified),gridIndex:t,height:ef.height,pinDescription:L,pinImageHeight:K,pinImageUrl:Z,pinImageWidth:H,showCreator:!!T,thumbnail:ef.thumbnail,title:null!=j?j:"",trackingParams:B,url:ef.url,videoPinId:ed,viewParameter:l,viewType:s,width:ef.width}),C="/pin/".concat(ed));break;case 3:if(!Z)return null;D=(0,b.jsx)(y.Z,{articleId:null!=E?E:"",creatorFullName:null==V?void 0:V.fullName,creatorImgSrc:(null==V?void 0:V.imageMediumUrl)||(null==V?void 0:V.imageSmallUrl),creatorIsVerified:!!(null==V?void 0:null===(et=V.verifiedIdentity)||void 0===et?void 0:et.verified),gridIndex:t,imageHeight:null!=K?K:0,imageUrl:Z,imageWidth:null!=H?H:0,pinId:null!==(er=null==f?void 0:f.entityId)&&void 0!==er?er:"",showCreator:!!T,title:null!=j?j:"",trackingParams:B,viewParameter:l,viewType:s}),C=x?"/pin/".concat(x):C;break;case 6:if(!Z)return null;var eg=null!==(ei=null!==(eo=null==U?void 0:U.imageMediumUrl)&&void 0!==eo?eo:null==U?void 0:U.imageSmallUrl)&&void 0!==ei?ei:"",em=null!==(ea=null==U?void 0:U.fullName)&&void 0!==ea?ea:"",ey=!!(eg||em);return(0,b.jsx)(_.Z,{articleId:null!=E?E:"",gridIndex:t,hasPinnerAttribution:ey,imageHeight:null!=K?K:0,imageUrl:Z,imageWidth:null!=H?H:0,pageCount:null!==(el=null==z?void 0:z.pageCount)&&void 0!==el?el:"",pinId:null!==(es=null==f?void 0:f.entityId)&&void 0!==es?es:"",pinnerImageSrc:eg,pinnerName:em,pinTrackingParams:B,title:null!=j?j:"",viewParameter:l,viewType:s});default:D=null}return D?(0,b.jsx)(P,{ArticleModule:D,displayType:g,gridIndex:t,id:null!=E?E:"",isHubRedesign:u,onArticleTapUrl:C,viewParameter:l,viewType:s}):null}},788654:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(297949),i=t(770443),o=new r.Ry(1);function a(){return(0,i.jsx)(r.xu,{bottom:!0,color:"transparentDarkGray",left:!0,opacity:.1,position:"absolute",right:!0,top:!0,zIndex:o})}},72748:function(e,n,t){var r=t(282480),i=t(297949),o=t(559028),a=t(598259),l=t(424583),s=t(770443);n.Z=function(e){var n,t,u,c,d,p,f=e.userId,g=e.creatorFullName,m=e.creatorImgSrc,y=e.creatorIsVerified,_=(t=(n=null!==(p=(0,l.mN)()(null!=f?f:""))&&void 0!==p?p:{}).full_name,u=n.image_medium_url,c=n.image_small_url,d=n.verified_identity,{fullNameFromStore:t,imgSrcFromStore:u||c,avatarColorIndex:n.avatar_color_index,isVerifiedFromStore:!!(null==d?void 0:d.verified)}),h=_.fullNameFromStore,v=_.avatarColorIndex,b=_.imgSrcFromStore,S=_.isVerifiedFromStore,x=f?h:g,P=f?b:m,I=f?S:y;return(0,s.jsx)(i.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:x&&(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(o.qE,{color:v,name:x,size:"sm",src:null!=P?P:""})}),(0,s.jsx)(i.xu,{minWidth:0,paddingX:1,children:(0,s.jsx)(i.xv,{lineClamp:1,size:"300",weight:"bold",children:x})}),I&&(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(a.Z,{iconOnly:!0,isVerifiedIdentity:I,size:"xs"})})]})})}},256187:function(e,n,t){var r=t(297949),i=t(144326),o=t(770443);n.Z=function(e){var n=e.testId,t=e.handleClick,a=e.buttonTextOverride,l=(0,i.ZP)();return(0,o.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:4,width:"100%",children:(0,o.jsx)(r.zx,{"data-test-id":n,onClick:t,size:"lg",text:a||l._('See more', 'unauth.module_expand.button', 'Button text for more topicRep tiles')})})}},815030:function(e,n,t){var r=t(297949),i=t(144326),o=t(410150),a=t(770443);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var c=function(e){var n=e.isPhone,t=e.url,o=e.handleClick,l=(0,i.ZP)(),s=l._('See more arrow', 'unauth_section_header.see_more_a11y', 'See more link button accessibility label');return n?(0,a.jsx)(r.I_,{accessibilityLabel:s,bgColor:"transparent",href:t,icon:"arrow-forward",iconColor:"darkGray",onClick:o,padding:1,size:"xs"}):(0,a.jsx)(r.ZP,{accessibilityLabel:s,color:"transparent",href:t,iconEnd:"arrow-forward",onClick:o,size:"md",text:l._('See more', 'unauth_section_header.see_more', 'See more link button for unauth section header')})},d=function(e){var n=e.children,t=e.linkProps;return t?(0,a.jsx)(r.Tg,{fullWidth:!1,href:t.url,mouseCursor:"pointer",onTap:t.handleClickHeader||t.handleClick,children:n}):(0,a.jsx)(r.xu,{children:n})};n.Z=function(e){var n=e.sectionHeader,t=e.sectionHeaderA11yLevel,i=e.pretext,l=e.pretextA11yLevel,s=e.linkProps,p=e.sectionHeaderSizes,f=void 0===p?{dweb:"500",mweb:"300"}:p,g=e.subHeaderSizes,m=void 0===g?{dweb:"300",mweb:"100"}:g,y=e.headerMarginTop,_=void 0===y?{dweb:16,mweb:12}:y,h=e.headerMarginBottom,v=(0,o.ml)();return(0,a.jsxs)(r.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:void 0===h?4:h,marginTop:v?_.mweb:_.dweb,width:"100%",children:[(0,a.jsxs)(d,{linkProps:s,children:[!!i&&(0,a.jsx)(r.xu,{marginBottom:1,children:l?(0,a.jsx)(r.X6,{accessibilityLevel:l,size:v?m.mweb:m.dweb,children:(0,a.jsx)(r.xv,{size:v?m.mweb:m.dweb,children:i})}):(0,a.jsx)(r.xv,{lineClamp:2,size:v?m.mweb:m.dweb,children:i})}),(0,a.jsx)(r.X6,{accessibilityLevel:t||2,size:v?f.mweb:f.dweb,children:n})]}),!!s&&(0,a.jsx)(c,u(u({},s),{},{isPhone:v}))]})}},303795:function(e,n,t){var r=t(282480),i=t(297949),o=t(766546),a=t(312044),l=t(770443);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e,n){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,n,t){return(n=m(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}var y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&c(e,n)}(u,e);var n,t,r=(n=p(),function(){var e,t=f(u);return e=n?Reflect.construct(t,arguments,f(this).constructor):t.apply(this,arguments),function(e,n){if(n&&("object"==s(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function u(){var e;!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,u);for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];return g(d(e=r.call.apply(r,[this].concat(t))),"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),g(d(e),"handleVisibilityChanged",function(n){var t=n[0].intersectionRatio,r=e.state,i=r.isPlaying,o=r.isVideoReady,a=r.startLoading;t>=.8?(e.setState({isVisibleForPlaying:!0}),e.videoRef&&(a?o&&!i&&e.videoRef.play():(e.videoRef.load(),e.setState({startLoading:!0})))):(e.setState({isVisibleForPlaying:!1}),e.videoRef&&o&&e.videoRef.pause())}),g(d(e),"handleVideoPause",function(){return e.setState({isPlaying:!1})}),g(d(e),"handleVideoPlay",function(){return e.setState({isPlaying:!0})}),g(d(e),"getVideoRef",function(n){return e.videoRef=n}),g(d(e),"setIsVideoReadyTrue",function(){e.setState({isVideoReady:!0}),e.videoRef&&!e.state.isPlaying&&e.state.isVisibleForPlaying&&e.videoRef.play()}),e}return t=[{key:"render",value:function(){var e=this,n=this.props,t=n.height,r=n.thumbnail,s=n.url,u=n.width,c=n.pinDescription,d=n.pinImageHeight,p=n.pinImageUrl,f=n.pinImageWidth,g=(null!=t?t:1)/(null!=u?u:1);return s?(0,l.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChanged,options:{threshold:[0,.5,.8,1]},children:function(n){return(0,l.jsx)(i.xu,{ref:n,dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(100*g,"%")}},position:"relative",children:(0,l.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,l.jsx)("video",{ref:e.getVideoRef,height:"100%",muted:!0,onCanPlay:e.setIsVideoReadyTrue,onPause:e.handleVideoPause,onPlay:e.handleVideoPlay,playsInline:!0,poster:r,preload:"none",src:s,width:"100%"})})})}}):(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:(0,l.jsx)(a.Z,{description:c,imageHeight:d,imageUrl:p,imageWidth:f})})}}],function(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}(u.prototype,t),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.PureComponent);function _(e){return(0,l.jsx)(y,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){g(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e))}_.displayName="VideoRep",n.Z=_}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17157-48ca1f85b55bd4c9.js.map