"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[86132,36506],{983272:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=n(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var o=new(function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}return e=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter(function(t){return t!==e})}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter(function(t){return t!==e})}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()),r=function(e){if(e.isHidden){var t=e.reason;o.windowInFocus=!1,o.onPauseListeners.forEach(function(e){return e(t)})}else o.windowInFocus=!0,o.onResumeListeners.forEach(function(e){return e()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return r({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return r({isHidden:!1})}),window.addEventListener("blur",function(){return r({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return r({isHidden:!1})}),window.addEventListener("pagehide",function(){return r({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),t.Z=o},886132:function(e,t,n){n.d(t,{Z:function(){return O},v:function(){return E}});var i=n(282480),a=n(297728),o=n(630118),r=n(845729),u=n(301567),s=n(248750),l=n(353168),c=n(770975),d=n(202953),f=n(636506),m=n(438973),v=n(415787);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var i,a;i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=p(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,r,u=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(u.push(i.value),u.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw a}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var h=(0,r.XV)("GridProfiler"),E=function(){return!!window.addEventListener&&!!window.removeEventListener&&(0,u.VZ)()},w=function(e,t){if(!t){var n=(0,u.LM)();if(n===e)return h("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,u.F9)())return h("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:n}}return{complete:!0}},P=function(e,t){var n=0,i=0,a=0,o=0,r=0;return e=e.filter(function(e){return"pin"===e.type}),t.forEach(function(t,u){var s,l,c,d,f,m,v,p=t.fileName.split(".")[0];p!==(null===(s=v=e[u])||void 0===s?void 0:s.image_signature)&&(v=e.find(function(e){return p===(null==e?void 0:e.image_signature)})),void 0===v?r+=1:v.is_promoted||(null===(l=v.recommendation_reason)||void 0===l?void 0:l.reason)==="PROMOTED_PIN"||null!==(c=v)&&void 0!==c&&null!==(d=c.promoter)&&void 0!==d&&d.length?a+=1:null!==v.story_pin_data_id&&void 0!==v.story_pin_data_id?n+=1:null!==(f=v)&&void 0!==f&&null!==(m=f.videos)&&void 0!==m&&m.video_list?i+=1:o+=1}),{storyPinCount:n,videoCount:i,adCount:a,imageCount:o,unknownCount:r}},I=function(e,t){var n=function n(){window.removeEventListener(e,n),t()};return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}};function O(e){var t=e.isAtEndOfFeed,n=e.pinData,p=e.includeBackgroundImages,g=e.includeVideos,y=void 0!==g&&g,E=e.includeSections,O=e.isPlaceholderGrid,A=e.stopwatchSetVisuallyCompleteResult,C=e.stopwatchContext,L=e.isAuth,S=(0,c.E)(),N=null==S?void 0:S.getId(),T=null==S?void 0:S.setVisuallyCompleteResult,R=function(e){var t=e.imageTimings;A&&A(),T&&T({imageTimings:t}),(0,f.cB)(t)},j=b((0,i.useState)({status:"DISABLED"}),2),D=j[0],V=j[1],M=(0,a.F)();(0,i.useEffect)(function(){T||A?V({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):V({status:"DISABLED"})},[N,T,A]),(0,i.useEffect)(function(){if(h("new status",D),"LAYOUT"===D.status){var e=I("scroll",function(){(0,l.ZP)("scrollDuringLayout")});return function(){e()}}return function(){}},[D.status]),(0,m.Z)(function(){if(T||S||A||C){var e="",i="",a=function(){},l=function(e){S?S.abort(e):null==C||C.abort()};if(S){var c=(0,S.getMetricId)();i=c.surface,e=(0,o.KJ)(c),a=S.addBinaryAnnotation}else i="stopwatch",e="".concat(i,"_").concat(null==C?void 0:C.name),null!=C&&C.addBinaryAnnotation&&(a=null==C?void 0:C.addBinaryAnnotation);var m=(0,u.cQ)(p,y,E);if(O&&!m.length){h("bypassing PWT run due to skeleton pin grid");return}switch(D.status){case"LAYOUT":var g=w(D.numOfItemsChecked,t);g.complete?V({status:"TIMING",failedCount:0,pinElements:m}):500*D.failedCount>6e4?((0,s.A9)("images.".concat(e,".visuallyComplete.maxLayoutAttempt")),l("visuallyComplete_layoutTimeout"),V({status:"DISABLED"})):V(_(_({},D),{},{failedCount:D.failedCount+1,numOfItemsChecked:g.numOfItemsChecked}));break;case"TIMING":var I=(0,d.Cg)(),N=D.pinElements.length,j=[],W=0,x=0,H=0,G=1/0,k=0;if(D.pinElements.forEach(function(e){var t=e.element,n=e.fileName,a=I.find(function(e){return e.name.endsWith(n)});a?a.responseEnd?(j.push(a),(0,r.v5)(t,"green"),"search"===i&&(G=Math.min(G,a.requestStart),k=Math.max(k,a.responseEnd))):(H+=1,(0,r.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(x+=1,(0,r.v5)(t,"red")):(W+=1,(0,r.v5)(t,"greenyellow"))}),W||H)100*D.failedCount>6e4?((0,s.A9)("images.".concat(e,".visuallyComplete.maxAttempt"),{tags:{totalImageCount:N,incompleteCount:W,noTimingCount:x,noTimingResponseEndCount:H}}),l("visuallyComplete_timingTimeout"),V({status:"DISABLED"})):V(_(_({},D),{},{failedCount:D.failedCount+1}));else{if(h("All ".concat(j.length," images are fetched")),n&&n.length){var U=P(n,D.pinElements);if(Object.entries(U).forEach(function(e){var t=b(e,2),n=t[0],i=t[1];a(n,i,"I16"),(0,f.XJ)(n,i,"I16")}),(0,s.A9)("".concat(e,".pinTypes"),{tags:U}),"search"===i){var q,F=k-G;(null===(q=n[0].display_options)||void 0===q?void 0:q.num_columns_requested)===0?(0,v.LY)("full_width_story_image_fetch_time_true",F,{sampleRate:1}):(0,v.LY)("full_width_story_image_fetch_time_false",F,{sampleRate:.05})}}if(L&&"search"===i){var B=M.checkExperiment("dweb_grid_loading_state").group;B&&(0,v.S0)("webapp.gridVisuallyComplete.loadingState",N,{sampleRate:1,tags:{group:B}})}R({imageTimings:j}),V({status:"DISABLED"}),(0,s.A9)("images.".concat(e,".visuallyComplete.complete"),{tags:{totalImageCount:N,noTimingCount:x}})}}}},"LAYOUT"===D.status&&500||"TIMING"===D.status&&100||null)}},636506:function(e,t,n){n.d(t,{JG:function(){return F},XJ:function(){return U},ZP:function(){return $},Ly:function(){return k},ep:function(){return Y},l7:function(){return q},Lg:function(){return Z},cB:function(){return B}});var i,a,o,r=n(2171),u=n(201930),s=n(920301),l=n(983272),c=n(836686),d=function e(){var t=(0,c.b)(),n=window.innerHeight,i=window.innerWidth,a=Math.abs(window.innerHeight-n),o=window.innerHeight!==n,r=window.innerWidth!==i;window.removeEventListener("resize",e),("phone"!==t.deviceType||(r||!o||!(a<=150))&&(o||r))&&("desktop"!==t.deviceType||o||r)&&(F("windowResized"),window.removeEventListener("resize",e))},f=n(334287),m={name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered","createFlowRendered"]},v=n(917977),p=n(493651);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var i,a;i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=g(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var E=[].concat(y([{handler:"www/pin/[id].js",config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:"www/index.js",config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}}},dWeb:{auth:{clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:"www/[username].js",config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/_catalog_id_/data-sources_js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/_catalog_id_/product-groups_js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/_catalog_id_/listings_js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/_catalog_id_/products_js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}}]),y([{handler:"sterling/advertiser/[advertiserId]/ads/create.js",config:{dWeb:{auth:{initialPageLoad:m}}}},{handler:"sterling/advertiser/[advertiserId]/ads/duplicate.js",config:{dWeb:{auth:{initialPageLoad:m}}}},{handler:"sterling/advertiser/[advertiserId]/ads/review_draft.js",config:{dWeb:{auth:{initialPageLoad:m}}}},{handler:"sterling/advertiser/[advertiserId]/ads/edit_draft.js",config:{dWeb:{auth:{initialPageLoad:m}}}},{handler:"sterling/advertiser/[advertiserId]/ads/edit.js",config:{dWeb:{auth:{initialPageLoad:m}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/index.js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}}]));function w(e){var t=e.isAuthenticated,n=e.isInitialPageLoad,i=e.isMobile,a=(0,p.H)(),o=E.find(function(e){return a===e.handler}),r=null==o?void 0:o.config,u=null==r?void 0:r.unified;if(u||(u=i?null==r?void 0:r.mWeb:null==r?void 0:r.dWeb),u){var s=t?u.auth:u.unauth;if(s){if(n&&s.initialPageLoad)return(0,v.qu)("Found isInitialPageLoad config"),(0,v.qu)(s.initialPageLoad),b({},s.initialPageLoad);if(!n&&s.clientNavigation)return(0,v.qu)("Found clientNavigation config"),(0,v.qu)(s.clientNavigation),b({},s.clientNavigation)}}return(0,v.qu)("No config found :("),null}var P=function(e){var t,n,i=e.isAuthenticated,a=e.isInitialPageLoad,o=e.isMobile,r=e.segment,u=w({isAuthenticated:i,isInitialPageLoad:a,isMobile:o});return null!==(t=null==u?void 0:null===(n=u.segments)||void 0===n?void 0:n[r])&&void 0!==t?t:null};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){var i;return(i=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=I(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==I(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=[],T={},R=[],j={},D=[],V=!0,M=0,W=0,x=0,H=["web_perf_logger_v4"];function G(){(0,v.qu)("Reset PWT configs"),N=[],R=[],T={},i=null,W=0,x=0,j={}}function k(){return i?i.name:""}function U(e,t,n){var i;if((0,f.Z)()){switch(n){case"BOOL":i={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":i={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":i={type:n,value:"number"==typeof t?t:null};break;default:(0,v.qu)("Invalid binary annotation type");return}if(null===i.value){(0,v.qu)("Invalid binary annotation value");return}j=L(L({},j),{},S({},e,i)),(0,v.qu)("Add binary annotation: { ".concat(e,": ").concat(i.value," }"))}}function q(e){if((0,f.Z)()){if(i){var t=N.indexOf(e);if(t>-1){if(N.splice(t,1),(0,v.qu)("Remove constraint: ".concat(e,". Remaining constraints: [").concat(N.join(", "),"]")),0===N.length){var n=W-x,u=[].concat(H,O(i.annotateExperiments||[]));(0,v.fv)({pwtName:i.name,annotateExperiments:u}),(0,v.$v)({eventName:i.name,value:n}),(0,v.$v)({eventName:"complete",value:n,tags:{handler:(0,p.H)()}});var l=(0,c.b)(),d={type:"surface",surface:i.name,id:i.id,navigationType:a,isAuthenticated:l.isAuthenticated},m=(0,r.W)({annotateExperiments:u,annotations:{},binaryAnnotations:j,constraintMap:T,endTime:W,imageTimings:D,isV4Logger:!0,metricId:d,pwtStaticContext:l,startTime:x,traceId:o,spans:[]});(0,v.qu)("All constraints complete. ".concat(i.name," PWT completed at ").concat(Math.floor(W),"ms. PWT duration: ").concat(Math.floor(n),"ms")),(0,v.qu)("Result:",m),(0,s.Z)({metricId:d,pwtStaticContext:l,result:m,isV4Logger:!0,annotateExperiments:u}),G()}}else(0,v.jn)("constraint_completed_not_in_PWT_constraint_list")}else(0,v.jn)("remove_constraint_while_no_PWT_in_progress"),R.push(e)}}function F(e){if((0,f.Z)()&&i){var t=[].concat(H,O(i.annotateExperiments||[]));(0,v.T0)({abortReason:e,pwtName:i.name,annotateExperiments:t}),N.forEach(function(e){var t;(0,v.yi)(e,null===(t=i)||void 0===t?void 0:t.name)});var n=(0,c.b)(),u={type:"surface",surface:i.name,id:i.id,navigationType:a,isAuthenticated:n.isAuthenticated},l=(0,r.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:j,constraintMap:T,endTime:performance.now(),imageTimings:D,isV4Logger:!0,metricId:u,pwtStaticContext:n,startTime:x,traceId:o,spans:[]});(0,v.qu)("Abort ".concat(i.name," PWT. Abort reason: ").concat(e)),(0,v.qu)("Result:",l),(0,s.Z)({metricId:u,pwtStaticContext:n,result:l,isV4Logger:!0,annotateExperiments:t}),G()}}function B(e){(0,f.Z)()&&i&&N.includes("VisuallyComplete")&&((0,v.qu)("Set visually complete result"),(0,v.qu)("Image resource timings: ",e),0===(D=e).length&&F("visuallyComplete_noImages"))}function Z(e){if((0,f.Z)()){if(i){var t=[].concat(H,O(i.annotateExperiments||[]));(0,v.T0)({abortReason:"segmentChange",pwtName:i.name,annotateExperiments:t});var n=(0,c.b)(),o=n.isAuthenticated,r=n.deviceType,u=P({isAuthenticated:o,isInitialPageLoad:"initial_app_load"===a,isMobile:"phone"===r,segment:e});if(!u){(0,v.jn)("segment_action_name_not_found");return}i.name=u,(0,v.qu)("Set segment to ".concat(e,". PWT action name: ").concat(u)),(0,v.sd)({pwtName:i.name,annotateExperiments:[].concat(H,O(i.annotateExperiments||[]))})}else(0,v.jn)("set_segment_while_no_PWT_in_progress")}}function Y(e,t){if((0,f.Z)()){if(M+=1,i&&F("routeChange"),"POP"===e&&!1===V);else{var n,r=(0,c.b)(),s=r.isAuthenticated,l=r.deviceType,d=r.serverData;if(i=w({isAuthenticated:s,isInitialPageLoad:V,isMobile:"phone"===l})){if(x=t,V)a="initial_app_load";else switch(e){case"PUSH":a="client_route_push";break;case"REPLACE":a="client_route_replace"}(0,v.sd)({pwtName:i.name,annotateExperiments:[].concat(H,O(i.annotateExperiments||[]))}),(0,v.qu)("Start ".concat(i.name," PWT")),null===(n=i)||void 0===n||n.constraints.forEach(function(e){!function(e){if((0,f.Z)()){if(i){(0,v.DM)(e,i.name);var t=R.indexOf(e);t>-1?(R.splice(t,1),(0,v.qu)("Add constraint: ".concat(e,". Found constraint in completed constraint buffer"))):N.includes(e)||(N.push(e),(0,v.qu)("Add constraint: ".concat(e)))}else(0,v.jn)("add_constraint_while_no_PWT_in_progress")}}(e)}),o=(0,u.Vd)()||(0,u.ZP)("initial_app_load"===a,null==d?void 0:d.trace_id)}1===M&&(V=!1)}}}function $(e){var t=e.requestContext,n=e.traceLoggerData,a=e.isForcedReload;try{if(!(0,f.Z)())return;l.Z.onSessionPause(F),window.addEventListener("resize",d),(0,c.Z)({requestContext:t,traceLoggerData:n,isForcedReload:a});var o=new PerformanceObserver(function(e){e&&e.getEntries&&e.getEntries().forEach(function(e){if(e&&e.name&&!e.name.startsWith("--")&&e.name.includes("constraint")){var t;!function(e,t){if((0,f.Z)()){var n,a,o=N.indexOf(e);o>-1&&(W<t&&(W=t),T[e]=t,(0,v.eR)(N[o],null===(n=i)||void 0===n?void 0:n.name),(0,v.$v)({eventName:"".concat(null===(a=i)||void 0===a?void 0:a.name,".constraint.").concat(e),value:t}),(0,v.$v)({eventName:"constraint.".concat(e),value:t,tags:{handler:(0,p.H)()}}),(0,v.qu)("Complete constraint: ".concat(e," at ").concat(Math.floor(t),"ms")),q(e))}}((t=e.name).includes("constraint_")?t.split("_")[1]||"":t,e.startTime)}})});o.observe&&o.observe({type:"mark",buffered:!0}),window.addEventListener("beforeunload",function(){o.disconnect()})}catch(e){(0,v.jn)(e)}}},438973:function(e,t,n){var i=n(282480);t.Z=function(e,t){var n=(0,i.useRef)(function(){});(0,i.useEffect)(function(){n.current=e},[e]),(0,i.useEffect)(function(){if(null===t)return function(){};var e=setInterval(function(){return n.current()},t);return function(){return clearInterval(e)}},[t])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86132-216fb18916d40a62.js.map